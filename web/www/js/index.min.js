!function(a,b,c){if("function"!=typeof b)return console.error("nette.ajax.js: jQuery is missing, load it please");var d=function(){var c={self:this,initialized:!1,contexts:{},on:{init:{},load:{},prepare:{},before:{},start:{},success:{},complete:{},error:{}},fire:function(){var a=!0,d=Array.prototype.slice.call(arguments),e=d.shift(),f="string"==typeof e?e:e.name,g="object"==typeof e?e.off||{}:{};return d.push(c.self),b.each(c.on[f],function(e,f){if(void 0===f||-1!==b.inArray(e,g))return!0;var h=f.apply(c.contexts[e],d);return a=void 0===h||h}),a},requestHandler:function(a){var b=c.self.ajax({},this,a);if(b&&b._returnFalse)return!1},ext:function(a,d,e){for(;!e;)e="ext_"+Math.random(),c.contexts[e]&&(e=void 0);b.each(a,function(a,b){c.on[a][e]=b}),c.contexts[e]=b.extend(d||{},{name:function(){return e},ext:function(a,b){var d=c.contexts[a];if(!d&&b)throw"Extension '"+this.name()+"' depends on disabled extension '"+a+"'.";return d}})}};this.ext=function(a,d,e){if("object"==typeof a)c.ext(a,d);else{if(void 0===d)return c.contexts[a];if(d){if("string"==typeof a&&void 0!==c.contexts[a])throw"Cannot override already registered nette-ajax extension '"+a+"'.";c.ext(d,e,a)}else b.each(["init","load","prepare","before","start","success","complete","error"],function(b,d){c.on[d][a]=void 0}),c.contexts[a]=void 0}return this},this.init=function(a,b){if(c.initialized)throw"Cannot initialize nette-ajax twice.";if("function"==typeof a)this.ext("init",null),this.ext("init",{load:a},b);else if("object"==typeof a)this.ext("init",null),this.ext("init",a,b);else if(void 0!==a)throw"Argument of init() can be function or function-hash only.";return c.initialized=!0,c.fire("init"),this.load(),this},this.load=function(){return c.fire("load",c.requestHandler),this},this.ajax=function(d,e,f){if("string"===b.type(d)&&(d={url:d}),!d.nette&&e&&f){var g,h=b(e),i=d.nette={e:f,ui:e,el:h,isForm:h.is("form"),isSubmit:h.is("input[type=submit]")||h.is("button[type=submit]"),isImage:h.is("input[type=image]"),form:null};if(i.isSubmit||i.isImage?i.form=i.el.closest("form"):i.isForm&&(i.form=i.el),d.url||(d.url=i.form?i.form.attr("action")||a.location.pathname+a.location.search:e.href),d.type||(d.type=i.form?i.form.attr("method"):"get"),h.is("[data-ajax-off]")){var j=h.attr("data-ajax-off");0===j.indexOf("[")?d.off=h.data("ajaxOff"):-1!==j.indexOf(",")?d.off=j.split(","):-1!==j.indexOf(" ")?d.off=j.split(" "):d.off=j,"string"==typeof d.off&&(d.off=[d.off]),d.off=b.grep(b.each(d.off,function(a){return b.trim(a)}),function(a){return a.length})}}return c.fire({name:"prepare",off:d.off||{}},d),d.prepare&&d.prepare(d),g=d.beforeSend,d.beforeSend=function(a,b){var d=c.fire({name:"before",off:b.off||{}},a,b);return(d||void 0===d)&&g&&(d=g(a,b)),d},this.handleXHR(b.ajax(d),d)},this.handleXHR=function(a,b){return b=b||{},!a||void 0!==a.statusText&&"canceled"===a.statusText||(a.done(function(a,d,e){c.fire({name:"success",off:b.off||{}},a,d,e,b)}).fail(function(a,d,e){c.fire({name:"error",off:b.off||{}},a,d,e,b)}).always(function(a,d){c.fire({name:"complete",off:b.off||{}},a,d,b)}),c.fire({name:"start",off:b.off||{}},a,b),b.start&&b.start(a,b)),a}};b.nette=new(b.extend(d,b.nette?b.nette:{})),b.fn.netteAjax=function(a,c){return b.nette.ajax(c||{},this[0],a)},b.fn.netteAjaxOff=function(){return this.off(".nette")},b.nette.ext("validation",{before:function(a,c){if(!c.nette)return!0;var d=c.nette,e=d.e,f=b.extend(this.defaults,c.validate||function(){if(d.el.is("[data-ajax-validate]")){var a=d.el.data("ajaxValidate");return!1===a?{keys:!1,url:!1,form:!1}:"object"==typeof a?a:void 0}}()||{}),g=!1;if(void 0!==d.el.attr("data-ajax-pass")&&(g=d.el.data("ajaxPass"),g="bool"!=typeof g||g),f.keys){var h=e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey;if(d.form){if(h&&d.isSubmit)return this.explicitNoAjax=!0,!1;if(d.isForm&&this.explicitNoAjax)return this.explicitNoAjax=!1,!1}else if(h)return!1}if(f.form&&d.form){(d.isSubmit||d.isImage)&&(d.form.get(0)["nette-submittedBy"]=d.el.get(0));var i;if(void 0===Nette.version||"2.3"==Nette.version){var j=this.ie();i=d.form.get(0).onsubmit&&!1===d.form.get(0).onsubmit(void 0!==j&&j<9?void 0:e)}else i=!1===(d.form.get(0).onsubmit?d.form.triggerHandler("submit"):Nette.validateForm(d.form.get(0)));if(i)return e.stopImmediatePropagation(),e.preventDefault(),!1}if(f.url){var k=d.form?c.url:d.el.attr("href");if(/(?:^[a-z][a-z0-9+.-]*:|\/\/)/.test(k)){var l=new URL(k);if(/:|^#/.test(l.pathname+l.search+l.hash))return!1}else if(/:|^#/.test(k))return!1}return g||(e.stopPropagation(),e.preventDefault(),a._returnFalse=!0),!0}},{defaults:{keys:!0,url:!0,form:!0},explicitNoAjax:!1,ie:function(a){for(var b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",d[0];);return b>4?b:a}}),b.nette.ext("forms",{init:function(){var b;a.Nette&&(b=this.ext("snippets"))&&b.after(function(b){b.find("form").each(function(){a.Nette.initForm(this)})})},prepare:function(c){var d=c.nette;if(d&&d.form){var e=d.e,f=c.data||{},g={};if(d.isSubmit)g[d.el.attr("name")]=d.el.val()||"";else if(d.isImage){var h=d.el.offset(),i=d.el.attr("name"),j=[Math.max(0,e.pageX-h.left),Math.max(0,e.pageY-h.top)];-1!==i.indexOf("[",0)?g[i]=j:(g[i+".x"]=j[0],g[i+".y"]=j[1])}var k=d.form.attr("method");if(k&&"post"===k.toLowerCase()&&"FormData"in a){var l=new FormData(d.form[0]);for(var m in g)l.append(m,g[m]);if("string"!=typeof f)for(var m in f)l.append(m,f[m]);c.data=l,c.processData=!1,c.contentType=!1}else"string"!=typeof f&&(f=b.param(f)),g=b.param(g),c.data=d.form.serialize()+(g?"&"+g:"")+"&"+f}}}),b.nette.ext("snippets",{success:function(a){a.snippets&&this.updateSnippets(a.snippets)}},{beforeQueue:b.Callbacks(),afterQueue:b.Callbacks(),completeQueue:b.Callbacks(),before:function(a){this.beforeQueue.add(a)},after:function(a){this.afterQueue.add(a)},complete:function(a){this.completeQueue.add(a)},updateSnippets:function(a,c){var d=this,e=[];for(var f in a){var g=this.getElement(f);g.get(0)&&e.push(g.get(0)),this.updateSnippet(g,a[f],c)}b(e).promise().done(function(){d.completeQueue.fire()})},updateSnippet:function(a,b,c){a.is("title")?document.title=b:(this.beforeQueue.fire(a),this.applySnippet(a,b,c),this.afterQueue.fire(a))},getElement:function(a){return b("#"+this.escapeSelector(a))},applySnippet:function(a,b,c){!c&&a.is("[data-ajax-append]")?a.append(b):!c&&a.is("[data-ajax-prepend]")?a.prepend(b):(a.html()!=b||/<[^>]*script/.test(b))&&a.html(b)},escapeSelector:function(a){return a.replace(/[\!"#\$%&'\(\)\*\+,\.\/:;<=>\?@\[\\\]\^`\{\|\}~]/g,"\\$&")}}),b.nette.ext("redirect",{success:function(b){if(b.redirect)return a.location.href=b.redirect,!1}}),b.nette.ext("state",{success:function(a){a.state&&(this.state=a.state)}},{state:null}),b.nette.ext("unique",{start:function(a){this.xhr&&this.xhr.abort(),this.xhr=a},complete:function(){this.xhr=null}},{xhr:null}),b.nette.ext("abort",{init:function(){b("body").keydown(b.proxy(function(a){this.xhr&&"27"===a.keyCode.toString()&&!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)&&this.xhr.abort()},this))},start:function(a){this.xhr=a},complete:function(){this.xhr=null}},{xhr:null}),b.nette.ext("load",{success:function(){b.nette.load()}}),b.nette.ext("init",{load:function(a){b(this.linkSelector).off("click.nette",a).on("click.nette",a),b(this.formSelector).off("submit.nette",a).on("submit.nette",a).off("click.nette",":image",a).on("click.nette",":image",a).off("click.nette",":submit",a).on("click.nette",":submit",a),b(this.buttonSelector).closest("form").off("click.nette",this.buttonSelector,a).on("click.nette",this.buttonSelector,a)}},{linkSelector:"a.ajax",formSelector:"form.ajax",buttonSelector:'input.ajax[type="submit"], button.ajax[type="submit"], input.ajax[type="image"]'})}(window,window.jQuery);var LiveForm={options:{showMessageClassOnParent:"form-group",messageParentClass:!1,controlErrorClass:"has-error",controlValidClass:"has-success",messageErrorClass:"help-block text-danger",enableHiddenMessageClass:"show-hidden-error",disableLiveValidationClass:"no-live-validation",disableShowValidClass:"no-show-valid",messageTag:"span",messageIdPostfix:"_message",messageErrorPrefix:'&nbsp;<i class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></i>&nbsp;',showAllErrors:!0,showValid:!1,wait:!1,focusScreenOffsetY:!1},forms:{}};if(LiveForm.setOptions=function(a){for(var b in a)Object.prototype.hasOwnProperty.call(this.options,b)&&(this.options[b]=a[b])},void 0!==window.LiveFormOptions&&LiveForm.setOptions(window.LiveFormOptions),LiveForm.isSpecialKey=function(a){return 20==a||16==a||9==a||27==a||17==a||91==a||19==a||18==a||93==a||a>=35&&a<=40||45==a||a>=33&&a<=34||a>=112&&a<=123||a>=144&&a<=145},LiveForm.setupHandlers=function(a){if(!this.hasClass(a,this.options.disableLiveValidationClass)&&!a.getAttribute("data-lfv-initialized")){a.setAttribute("data-lfv-initialized","true");var b=function(a){a=a||window.event,Nette.validateControl(a.target?a.target:a.srcElement)},c=this;Nette.addEvent(a,"change",b),Nette.addEvent(a,"blur",b),Nette.addEvent(a,"keydown",function(a){if(!c.isSpecialKey(a.which)&&(!1===c.options.wait||c.options.wait>=200)){c.removeClass(c.getGroupElement(this),c.options.controlErrorClass),c.removeClass(c.getGroupElement(this),c.options.controlValidClass);var b=c.getMessageElement(this);b.innerHTML="",b.className="",c.timeout&&clearTimeout(c.timeout)}}),Nette.addEvent(a,"keyup",function(a){!1!==c.options.wait&&(a=a||window.event,9!==a.keyCode&&(c.timeout&&clearTimeout(c.timeout),c.timeout=setTimeout(function(){b(a)},c.options.wait)))})}},LiveForm.processServerErrors=function(a){for(var b=this.getMessageElement(a),c=this.getMessageParent(a),d=[],e=c.getElementsByClassName(this.options.messageErrorClass),f=e.length-1;f>-1;f--)if(e[f]!=b){var g=e[f].parentNode;g==c&&(d.push(e[f].outerHTML),g.removeChild(e[f]))}d.length>0&&(b.innerHTML=d.join(""))},LiveForm.addError=function(a,b){if(!this.hasClass(a,this.options.disableLiveValidationClass)){var c=this.getGroupElement(a);this.setFormProperty(a.form,"hasError",!0),this.addClass(c,this.options.controlErrorClass),this.options.showValid&&this.removeClass(c,this.options.controlValidClass),b=b?this.options.messageErrorPrefix+b:"&nbsp;";var d=this.getMessageElement(a);d.innerHTML=b,d.className=this.options.messageErrorClass}},LiveForm.removeError=function(a){if(!this.getFormProperty(a.form,"onLoadValidation")){var b=this.getGroupElement(a);this.removeClass(b,this.options.controlErrorClass);if(a.getAttribute("data-lfv-message-id")){var c=this.getMessageElement(a);c.innerHTML="",c.className=""}this.options.showValid&&(this.showValid(a)?this.addClass(b,this.options.controlValidClass):this.removeClass(b,this.options.controlValidClass))}},LiveForm.showValid=function(a){if(a.type){var b=a.type.toLowerCase();if("checkbox"==b||"radio"==b)return!1}return 0!=Nette.parseJSON(a.getAttribute("data-nette-rules")).length&&""!=Nette.getEffectiveValue(a)&&!this.hasClass(a,this.options.disableShowValidClass)},LiveForm.getGroupElement=function(a){if(!1===this.options.showMessageClassOnParent)return a;for(var b=a;!this.hasClass(b,this.options.showMessageClassOnParent);)if(null===(b=b.parentNode))return a;return b},LiveForm.getMessageId=function(a){var b=a.id+this.options.messageIdPostfix;if(a.name&&(!a.id||!a.form.elements[a.name].tagName)){var c=a.name.match(/\[\]$/)?a.name.match(/(.*)\[\]$/)[1]:a.name;b=(a.form.id?a.form.id:"frm")+"-"+c+this.options.messageIdPostfix}for(var d=b,e=0;document.getElementById(d);)d=d+"_"+ ++e;return d},LiveForm.getMessageElement=function(a){a.name&&a.name.match(/\[\]$/)&&(a=a.form.elements[a.name].tagName?a:a.form.elements[a.name][0]);var b=a.getAttribute("data-lfv-message-id");b||(b=this.getMessageId(a),a.setAttribute("data-lfv-message-id",b));var c=document.getElementById(b);if(!c){c=document.createElement(this.options.messageTag),c.id=b,"none"!=a.style.display||this.hasClass(a,this.options.enableHiddenMessageClass)||(c.style.display="none");var d=this.getMessageParent(a);d&&d.appendChild(c)}return c},LiveForm.getMessageParent=function(a){var b=a.parentNode,c=!1;if(!1!==this.options.messageParentClass)for(c=!0;!this.hasClass(b,this.options.messageParentClass);)if(null===(b=b.parentNode)){b=a.parentNode,c=!1;break}if(a.type){var d=a.type.toLowerCase();"checkbox"!=d&&"radio"!=d||"LABEL"!=b.tagName||(b=b.parentNode)}return c||!a.name||a.form.elements[a.name].tagName||(b=b.parentNode),b},LiveForm.addClass=function(a,b){a.className?this.hasClass(a,b)||(a.className+=" "+b):a.className=b},LiveForm.hasClass=function(a,b){return!!a.className&&a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},LiveForm.removeClass=function(a,b){if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)"),d=a.className.match(c);a.className=a.className.replace(c," "==d[1]&&" "==d[2]?" ":"")}},LiveForm.getFormProperty=function(a,b){return null!=a&&null!=this.forms[a.id]&&this.forms[a.id][b]},LiveForm.setFormProperty=function(a,b,c){null!=a&&(null==this.forms[a.id]&&(this.forms[a.id]={}),this.forms[a.id][b]=c)},function(a,b){if(a.JSON)if("function"==typeof define&&define.amd)define(function(){return b(a)});else if("object"==typeof module&&"object"==typeof module.exports)module.exports=b(a);else{var c=!a.Nette||!a.Nette.noInit;a.Nette=b(a),c&&a.Nette.initOnLoad()}}("undefined"!=typeof window?window:this,function(window){"use strict";function getHandler(a){return function(b){return a.call(this,b)}}var Nette={};return Nette.version="2.4",Nette.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c):"DOMContentLoaded"===b?a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&c.call(this)}):a.attachEvent("on"+b,getHandler(c))},Nette.getValue=function(a){var b;if(a){if(a.tagName){if("radio"===a.type){var c=a.form.elements;for(b=0;b<c.length;b++)if(c[b].name===a.name&&c[b].checked)return c[b].value;return null}if("file"===a.type)return a.files||a.value;if("select"===a.tagName.toLowerCase()){var d=a.selectedIndex,e=a.options,f=[];if("select-one"===a.type)return d<0?null:e[d].value;for(b=0;b<e.length;b++)e[b].selected&&f.push(e[b].value);return f}if(a.name&&a.name.match(/\[\]$/)){var c=a.form.elements[a.name].tagName?[a]:a.form.elements[a.name],f=[];for(b=0;b<c.length;b++){var g=c[b].value;"checkbox"===c[b].type&&c[b].checked?f.push(g):"checkbox"!==c[b].type&&""!==g&&f.push(g)}return f}return"checkbox"===a.type?a.checked:"textarea"===a.tagName.toLowerCase()?a.value.replace("\r",""):a.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return a[0]?Nette.getValue(a[0]):null}return null},Nette.getEffectiveValue=function(a){var b=Nette.getValue(a);return a.getAttribute&&b===a.getAttribute("data-nette-empty-value")&&(b=""),b},Nette.validateControl=function(a,b,c,d,e){a.name&&a.name.match(/\[\]$/)&&"checkbox"==a.type.toLowerCase()&&(a=a.form.elements[a.name].tagName?a:a.form.elements[a.name][0]),a=a.tagName?a:a[0],b=b||Nette.parseJSON(a.getAttribute("data-nette-rules")),d=void 0===d?{value:Nette.getEffectiveValue(a)}:d;for(var f=0,g=b.length;f<g;f++){var h=b[f],i=h.op.match(/(~)?([^?]+)/),j=h.control?a.form.elements.namedItem(h.control):a;if(h.neg=i[1],h.op=i[2],h.condition=!!h.rules,j)if("optional"!==h.op){if(!e||h.condition||":filled"===h.op){j=j.tagName?j:j[0];var k=a===j?d:{value:Nette.getEffectiveValue(j)},l=Nette.validateRule(j,h.op,h.arg,k);if(null!==l)if(h.neg&&(l=!l),h.condition&&l){if(!Nette.validateControl(a,h.rules,c,d,":blank"!==h.op&&e))return!1}else if(!h.condition&&!l){if(Nette.isDisabled(j))continue;if(!c){var m=Nette.isArray(h.arg)?h.arg:[h.arg],n=h.msg.replace(/%(value|\d+)/g,function(b,c){return Nette.getValue("value"===c?j:a.form.elements.namedItem(m[c].control))});Nette.addError(j,n)}return!1}}}else e=!Nette.validateRule(a,":filled",null,d)}return"number"!==a.type||a.validity.valid?(c||LiveForm.removeError(a),!0):(c||Nette.addError(a,"Please enter a valid value."),!1)},Nette.validateForm=function(a,b){var c=a.form||a,d=!1;if(LiveForm.setFormProperty(c,"hasError",!1),c["nette-submittedBy"]&&null!==c["nette-submittedBy"].getAttribute("formnovalidate")){var e=Nette.parseJSON(c["nette-submittedBy"].getAttribute("data-nette-validation-scope"));if(!e.length)return!0;d=new RegExp("^("+e.join("-|")+"-)")}var f,g,h={},i=!0;for(f=0;f<c.elements.length;f++)if(g=c.elements[f],!g.tagName||g.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===g.type){if(h[g.name])continue;h[g.name]=!0}if(!(d&&!g.name.replace(/]\[|\[|]|$/g,"-").match(d)||Nette.isDisabled(g)||(i=Nette.validateControl(g)&&i)||LiveForm.options.showAllErrors))break}return i},Nette.isDisabled=function(a){if("radio"===a.type){for(var b=0,c=a.form.elements;b<c.length;b++)if(c[b].name===a.name&&!c[b].disabled)return!1;return!0}return a.disabled},Nette.addError=function(a,b){var c=LiveForm.hasClass(a,LiveForm.options.disableLiveValidationClass);c&&(!b||LiveForm.getFormProperty(a.form,"hasError")||LiveForm.getFormProperty(a.form,"onLoadValidation")||alert(b)),a.focus&&!LiveForm.getFormProperty(a.form,"hasError")&&(LiveForm.focusing||(LiveForm.focusing=!0,a.focus(),setTimeout(function(){LiveForm.focusing=!1;var b=LiveForm.options.focusScreenOffsetY;!1!==b&&a.getBoundingClientRect().top<b&&window.scrollBy(0,a.getBoundingClientRect().top-b)},10))),c||LiveForm.addError(a,b)},Nette.expandRuleArgument=function(a,b){if(b&&b.control){var c=a.elements.namedItem(b.control),d={value:Nette.getEffectiveValue(c)};Nette.validateControl(c,null,!0,d),b=d.value}return b},Nette.validateRule=function(a,b,c,d){d=void 0===d?{value:Nette.getEffectiveValue(a)}:d,":"===b.charAt(0)&&(b=b.substr(1)),b=b.replace("::","_"),b=b.replace(/\\/g,"");for(var e=Nette.isArray(c)?c.slice(0):[c],f=0,g=e.length;f<g;f++)e[f]=Nette.expandRuleArgument(a.form,e[f]);return Nette.validators[b]?Nette.validators[b](a,Nette.isArray(c)?e:e[0],d.value,d):null},Nette.validators={filled:function(a,b,c){return!("number"!==a.type||!a.validity.badInput)||""!==c&&!1!==c&&null!==c&&(!Nette.isArray(c)||!!c.length)&&(!window.FileList||!(c instanceof window.FileList)||c.length)},blank:function(a,b,c){return!Nette.validators.filled(a,b,c)},valid:function(a,b,c){return Nette.validateControl(a,null,!0)},equal:function(a,b,c){function d(a){return"number"==typeof a||"string"==typeof a?""+a:!0===a?"1":""}if(void 0===b)return null;c=Nette.isArray(c)?c:[c],b=Nette.isArray(b)?b:[b];a:for(var e=0,f=c.length;e<f;e++){for(var g=0,h=b.length;g<h;g++)if(d(c[e])===d(b[g]))continue a;return!1}return!0},notEqual:function(a,b,c){return void 0===b?null:!Nette.validators.equal(a,b,c)},minLength:function(a,b,c){if("number"===a.type){if(a.validity.tooShort)return!1;if(a.validity.badInput)return null}return c.length>=b},maxLength:function(a,b,c){if("number"===a.type){if(a.validity.tooLong)return!1;if(a.validity.badInput)return null}return c.length<=b},length:function(a,b,c){if("number"===a.type){if(a.validity.tooShort||a.validity.tooLong)return!1;if(a.validity.badInput)return null}return b=Nette.isArray(b)?b:[b,b],(null===b[0]||c.length>=b[0])&&(null===b[1]||c.length<=b[1])},email:function(a,b,c){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(c)},url:function(a,b,c,d){return/^[a-z\d+.-]+:/.test(c)||(c="http://"+c),!!/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(c)&&(d.value=c,!0)},regexp:function(a,b,c){var d="string"==typeof b&&b.match(/^\/(.*)\/([imu]*)$/);try{return d&&new RegExp(d[1],d[2].replace("u","")).test(c)}catch(a){}},pattern:function(a,b,c){try{return"string"==typeof b?new RegExp("^(?:"+b+")$").test(c):null}catch(a){}},integer:function(a,b,c){return("number"!==a.type||!a.validity.badInput)&&/^-?[0-9]+$/.test(c)},float:function(a,b,c,d){return("number"!==a.type||!a.validity.badInput)&&(c=c.replace(" ","").replace(",","."),!!/^-?[0-9]*[.,]?[0-9]+$/.test(c)&&(d.value=c,!0))},min:function(a,b,c){if("number"===a.type){if(a.validity.rangeUnderflow)return!1;if(a.validity.badInput)return null}return Nette.validators.range(a,[b,null],c)},max:function(a,b,c){if("number"===a.type){if(a.validity.rangeOverflow)return!1;if(a.validity.badInput)return null}return Nette.validators.range(a,[null,b],c)},range:function(a,b,c){if("number"===a.type){if(a.validity.rangeUnderflow&&null!==b[0]||a.validity.rangeOverflow&&null!==b[1])return!1;if(a.validity.badInput)return null}return Nette.isArray(b)?(null===b[0]||parseFloat(c)>=b[0])&&(null===b[1]||parseFloat(c)<=b[1]):null},submitted:function(a,b,c){return a.form["nette-submittedBy"]===a},fileSize:function(a,b,c){if(window.FileList)for(var d=0;d<c.length;d++)if(c[d].size>b)return!1;return!0},image:function(a,b,c){if(window.FileList&&c instanceof window.FileList)for(var d=0;d<c.length;d++){var e=c[d].type;if(e&&"image/gif"!==e&&"image/png"!==e&&"image/jpeg"!==e)return!1}return!0}},Nette.toggleForm=function(a,b){var c;for(Nette.toggles={},c=0;c<a.elements.length;c++)a.elements[c].tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(a.elements[c],null,null,!b);for(c in Nette.toggles)Nette.toggle(c,Nette.toggles[c],b)},Nette.toggleControl=function(a,b,c,d,e){b=b||Nette.parseJSON(a.getAttribute("data-nette-rules")),e=void 0===e?{value:Nette.getEffectiveValue(a)}:e;for(var f,g=!1,h=[],i=function(){Nette.toggleForm(a.form,a)},j=0,k=b.length;j<k;j++){var l=b[j],m=l.op.match(/(~)?([^?]+)/),n=l.control?a.form.elements.namedItem(l.control):a;if(n){if(f=c,!1!==c){l.neg=m[1],l.op=m[2];var o=a===n?e:{value:Nette.getEffectiveValue(n)};if(null===(f=Nette.validateRule(n,l.op,l.arg,o)))continue;l.neg&&(f=!f),l.rules||(c=f)}if(l.rules&&Nette.toggleControl(a,l.rules,f,d,e)||l.toggle){if(g=!0,d)for(var p=!document.addEventListener,q=n.tagName?n.name:n[0].name,r=n.tagName?n.form.elements:n,s=0;s<r.length;s++)r[s].name!==q||Nette.inArray(h,r[s])||(Nette.addEvent(r[s],p&&r[s].type in{checkbox:1,radio:1}?"click":"change",i),h.push(r[s]));for(var t in l.toggle||[])Object.prototype.hasOwnProperty.call(l.toggle,t)&&(Nette.toggles[t]=Nette.toggles[t]||(l.toggle[t]?f:!f))}}}return g},Nette.parseJSON=function(s){return"{op"===(s||"").substr(0,3)?eval("["+s+"]"):JSON.parse(s||"[]")},Nette.toggle=function(a,b,c){var d=document.getElementById(a);d&&(d.style.display=b?"":"none")},Nette.initForm=function(a){a.noValidate="novalidate",LiveForm.forms[a.id]={hasError:!1,onLoadValidation:!1},Nette.addEvent(a,"submit",function(b){Nette.validateForm(a)||(b&&b.stopPropagation?(b.stopPropagation(),b.preventDefault()):window.event&&(event.cancelBubble=!0,event.returnValue=!1))}),Nette.toggleForm(a);for(var b=0;b<a.elements.length;b++)LiveForm.setupHandlers(a.elements[b]),LiveForm.processServerErrors(a.elements[b])},Nette.initOnLoad=function(){Nette.addEvent(document,"DOMContentLoaded",function(){for(var a=0;a<document.forms.length;a++)for(var b=document.forms[a],c=0;c<b.elements.length;c++)if(b.elements[c].getAttribute("data-nette-rules")){Nette.initForm(b),LiveForm.hasClass(b,"validate-on-load")&&(LiveForm.setFormProperty(b,"onLoadValidation",!0),Nette.validateForm(b),LiveForm.setFormProperty(b,"onLoadValidation",!1));break}Nette.addEvent(document.body,"click",function(a){var b=a.target||a.srcElement;b.form&&b.type in{submit:1,image:1}&&(b.form["nette-submittedBy"]=b)})})},Nette.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},Nette.inArray=function(a,b){if([].indexOf)return a.indexOf(b)>-1;for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},Nette.webalize=function(a){a=a.toLowerCase();var b,c,d="";for(b=0;b<a.length;b++)c=Nette.webalizeTable[a.charAt(b)],d+=c||a.charAt(b);return d.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},Nette.webalizeTable={"á":"a","ä":"a","č":"c","ď":"d","é":"e","ě":"e","í":"i","ľ":"l","ň":"n","ó":"o","ô":"o","ř":"r","š":"s","ť":"t","ú":"u","ů":"u","ý":"y","ž":"z"},Nette}),function(a,b){a.nette.ext("diagnostics.dumps",{success:function(b){if(b.netteDumps&&0!=b.netteDumps.length){var c=this.getPanel(),d=a("<div>");a(this.getTitle(++this.counter)).appendTo(c),a.each(b.netteDumps,function(b,c){c.title&&a("<h2>",{text:c.title}).appendTo(d);var e=a("<table>").appendTo(d),b=0;a.each(c.dump,function(c,d){a("<th>");e.append(a("<tr>",{class:b++%2?"nette-alt":"",html:"<th>"+c+"</th><td>"+d+"</td>"}))})}),d.children().appendTo(c),this.notify()}}},{counter:0,getTitle:function(a){return"<h2>Ajax request #"+a+"</h2>"},getTab:function(){return this.tab||(this.tab=a("[rel=Nette-Diagnostics-DefaultBarPanel-4]")),this.tab},getPanel:function(){return this.panel||(this.panel=a("#nette-debug-panel-Nette-Diagnostics-DefaultBarPanel-4 .nette-DumpPanel")),this.panel},notify:function(){this.notified||(a("<strong>",{text:" [ajax!]",css:{fontWeight:"bold"}}).appendTo(this.getTab()),this.notified=!0)}})}(jQuery),function(a,b){window.history&&history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/)&&a.nette.ext("fidRemove",{init:function(){var a=this;setTimeout(function(){var b=window.location.toString(),c=b.indexOf("_fid=");-1!==c&&window.history.replaceState({},null,a.removeFid(b,c))},this.timeout)}},{timeout:3e3,removeFid:function(a,b){return a=a.substr(0,b)+a.substr(b+9),"?"!==a.substr(b-1,1)&&"&"!==a.substr(b-1,1)||(a=a.substr(0,b-1)+a.substr(b)),a}})}(jQuery),function(a,b){a.nette.ext({before:function(a,b){if(b.nette){var c=b.nette.el.data("confirm");return c?confirm(c):void 0}}})}(jQuery),function(a,b){if(window.history&&history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/)){var c=function(){var b=[];return a('[id^="snippet-"]').each(function(){var c=a(this);c.is("[data-history-nocache]")||b.push({id:c.attr("id"),html:c.html()})}),b},d=function(a,b,c){var d=a["handle"+b.substring(0,1).toUpperCase()+b.substring(1)];d&&d.apply(a,c)};a.nette.ext("history",{init:function(){var b;this.cache&&(b=a.nette.ext("snippets"))&&(this.handleUI=function(c){var d={};a.each(c,function(){d[this.id]=this.html}),b.updateSnippets(d,!0),a.nette.load()}),this.popped=!!("state"in window.history)&&!!window.history.state;var e=window.location.href;a(window).on("popstate.nette",a.proxy(function(b){var c=b.originalEvent.state||this.initialState,f=!this.popped&&e===c.href;this.popped=!0,f||(this.cache&&c.ui?(d(this,"UI",[c.ui]),d(this,"title",[c.title])):a.nette.ajax({url:c.href,off:["history"]}))},this)),history.replaceState(this.initialState={nette:!0,href:window.location.href,title:document.title,ui:this.cache?c():null},document.title,window.location.href)},before:function(a,b){b.nette?b.nette.form?"get"===b.nette.form.get(0).method?this.href=b.nette.form.get(0).action||window.location.href:this.href=null:this.href=b.nette.ui.href:this.href=null},success:function(a){var b=a.redirect||a.url;if(b){var d=new RegExp("//"+window.location.host+"($|/)");"http"!==b.substring(0,4)||d.test(b)?this.href=b:window.location.href=b}this.href&&this.href!=window.location.href&&history.pushState({nette:!0,href:this.href,title:document.title,ui:this.cache?c():null},document.title,this.href),this.href=null,this.popped=!0}},{href:null,cache:!0,popped:!1,handleTitle:function(a){document.title=a}})}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),
this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var d="prev"==a?-1:1,e=(c+d)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"))&&b.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=e.find(".dropdown-menu li:not(.disabled):visible a");if(h.length){var i=h.index(c.target);38==c.which&&i>0&&i--,40==c.which&&i<h.length-1&&i++,~i||(i=0),h.eq(i).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(a-d>=e+g)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,
this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):(a=a||self,a.metisMenu=b(a.jQuery))}(this,function(a){"use strict";function b(){return b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b.apply(this,arguments)}a=a&&a.hasOwnProperty("default")?a.default:a;var c=function(a){function b(){return{bindType:d,delegateType:d,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}}}function c(b){var c=this,d=!1;return a(this).one(e.TRANSITION_END,function(){d=!0}),setTimeout(function(){d||e.triggerTransitionEnd(c)},b),this}var d="transitionend",e={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(b){a(b).trigger(d)},supportsTransitionEnd:function(){return Boolean(d)}};return function(){a.fn.mmEmulateTransitionEnd=c,a.event.special[e.TRANSITION_END]=b()}(),e}(a),d="metisMenu",e=a.fn[d],f={toggle:!0,preventDefault:!0,triggerElement:"a",parentTrigger:"li",subMenu:"ul"},g={SHOW:"show.metisMenu",SHOWN:"shown.metisMenu",HIDE:"hide.metisMenu",HIDDEN:"hidden.metisMenu",CLICK_DATA_API:"click.metisMenu.data-api"},h={METIS:"metismenu",ACTIVE:"mm-active",SHOW:"mm-show",COLLAPSE:"mm-collapse",COLLAPSING:"mm-collapsing",COLLAPSED:"mm-collapsed"},i=function(){function d(a,c){this.element=a,this.config=b({},f,c),this.transitioning=null,this.init()}var e=d.prototype;return e.init=function(){var b=this,c=this.config,d=a(this.element);d.addClass(h.METIS),d.find(c.parentTrigger+"."+h.ACTIVE).children(c.triggerElement).attr("aria-expanded","true"),d.find(c.parentTrigger+"."+h.ACTIVE).parents(c.parentTrigger).addClass(h.ACTIVE),d.find(c.parentTrigger+"."+h.ACTIVE).parents(c.parentTrigger).children(c.triggerElement).attr("aria-expanded","true"),d.find(c.parentTrigger+"."+h.ACTIVE).has(c.subMenu).children(c.subMenu).addClass(h.COLLAPSE+" "+h.SHOW),d.find(c.parentTrigger).not("."+h.ACTIVE).has(c.subMenu).children(c.subMenu).addClass(h.COLLAPSE),d.find(c.parentTrigger).children(c.triggerElement).on(g.CLICK_DATA_API,function(d){var e=a(this);if("true"!==e.attr("aria-disabled")){c.preventDefault&&"#"===e.attr("href")&&d.preventDefault();var f=e.parent(c.parentTrigger),g=f.siblings(c.parentTrigger),i=g.children(c.triggerElement);f.hasClass(h.ACTIVE)?(e.attr("aria-expanded","false"),b.removeActive(f)):(e.attr("aria-expanded","true"),b.setActive(f),c.toggle&&(b.removeActive(g),i.attr("aria-expanded","false"))),c.onTransitionStart&&c.onTransitionStart(d)}})},e.setActive=function(b){a(b).addClass(h.ACTIVE);var c=a(b).children(this.config.subMenu);c.length>0&&!c.hasClass(h.SHOW)&&this.show(c)},e.removeActive=function(b){a(b).removeClass(h.ACTIVE);var c=a(b).children(this.config.subMenu+"."+h.SHOW);c.length>0&&this.hide(c)},e.show=function(b){var d=this;if(!this.transitioning&&!a(b).hasClass(h.COLLAPSING)){var e=a(b),f=a.Event(g.SHOW);if(e.trigger(f),!f.isDefaultPrevented()){if(e.parent(this.config.parentTrigger).addClass(h.ACTIVE),this.config.toggle){var i=e.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+"."+h.SHOW);this.hide(i)}e.removeClass(h.COLLAPSE).addClass(h.COLLAPSING).height(0),this.setTransitioning(!0);var j=function(){d.config&&d.element&&(e.removeClass(h.COLLAPSING).addClass(h.COLLAPSE+" "+h.SHOW).height(""),d.setTransitioning(!1),e.trigger(g.SHOWN))};e.height(b[0].scrollHeight).one(c.TRANSITION_END,j).mmEmulateTransitionEnd(350)}}},e.hide=function(b){var d=this;if(!this.transitioning&&a(b).hasClass(h.SHOW)){var e=a(b),f=a.Event(g.HIDE);if(e.trigger(f),!f.isDefaultPrevented()){e.parent(this.config.parentTrigger).removeClass(h.ACTIVE),e.height(e.height())[0].offsetHeight,e.addClass(h.COLLAPSING).removeClass(h.COLLAPSE).removeClass(h.SHOW),this.setTransitioning(!0);var i=function(){d.config&&d.element&&(d.transitioning&&d.config.onTransitionEnd&&d.config.onTransitionEnd(),d.setTransitioning(!1),e.trigger(g.HIDDEN),e.removeClass(h.COLLAPSING).addClass(h.COLLAPSE))};0===e.height()||"none"===e.css("display")?i():e.height(0).one(c.TRANSITION_END,i).mmEmulateTransitionEnd(350)}}},e.setTransitioning=function(a){this.transitioning=a},e.dispose=function(){a.removeData(this.element,"metisMenu"),a(this.element).find(this.config.parentTrigger).has(this.config.subMenu).children(this.config.triggerElement).off("click"),this.transitioning=null,this.config=null,this.element=null},d.jQueryInterface=function(c){return this.each(function(){var e=a(this),g=e.data("metisMenu"),h=b({},f,e.data(),"object"==typeof c&&c?c:{});if(g||(g=new d(this,h),e.data("metisMenu",g)),"string"==typeof c){if(void 0===g[c])throw new Error('No method named "'+c+'"');g[c]()}})},d}();return a.fn[d]=i.jQueryInterface,a.fn[d].Constructor=i,a.fn[d].noConflict=function(){return a.fn[d]=e,i.jQueryInterface},i}),function(a){a.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},d=a.extend(c,b);return this.each(function(){function c(b){if(i){var b=b||window.event,c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3);var f=b.target||b.srcTarget||b.srcElement;a(f).closest("."+d.wrapperClass).is(u.parent())&&e(c,!0),b.preventDefault&&!s&&b.preventDefault(),s||(b.returnValue=!1)}}function e(a,b,c){s=!1;var e=a,f=u.outerHeight()-A.outerHeight();if(b&&(e=parseInt(A.css("top"))+a*parseInt(d.wheelStep)/100*A.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),A.css({top:e+"px"})),o=parseInt(A.css("top"))/(u.outerHeight()-A.outerHeight()),e=o*(u[0].scrollHeight-u.outerHeight()),c){e=a;var i=e/u[0].scrollHeight*u.outerHeight();i=Math.min(Math.max(i,0),f),A.css({top:i+"px"})}u.scrollTop(e),u.trigger("slimscrolling",~~e),g(),h()}function f(){n=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),r),A.css({height:n+"px"});var a=n==u.outerHeight()?"none":"block";A.css({display:a})}function g(){if(f(),clearTimeout(l),o==~~o){if(s=d.allowPageScroll,p!=o){var a=0==~~o?"top":"bottom";u.trigger("slimscroll",a)}}else s=!1;if(p=o,n>=u.outerHeight())return void(s=!0);A.stop(!0,!0).fadeIn("fast"),d.railVisible&&z.stop(!0,!0).fadeIn("fast")}function h(){d.alwaysVisible||(l=setTimeout(function(){d.disableFadeOut&&i||j||k||(A.fadeOut("slow"),z.fadeOut("slow"))},1e3))}var i,j,k,l,m,n,o,p,q="<div></div>",r=30,s=!1,u=a(this);if(u.parent().hasClass(d.wrapperClass)){var v=u.scrollTop();if(A=u.siblings("."+d.barClass),z=u.siblings("."+d.railClass),f(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){u.parent().css("height","auto"),u.css("height","auto");var w=u.parent().parent().height();u.parent().css("height",w),u.css("height",w)}else if("height"in b){var x=b.height;u.parent().css("height",x),u.css("height",x)}if("scrollTo"in b)v=parseInt(d.scrollTo);else if("scrollBy"in b)v+=parseInt(d.scrollBy);else if("destroy"in b)return A.remove(),z.remove(),void u.unwrap();e(v,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){d.height="auto"==d.height?u.parent().height():d.height;var y=a(q).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});u.css({overflow:"hidden",width:d.width,height:d.height});var z=a(q).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),A=a(q).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),B="right"==d.position?{right:d.distance}:{left:d.distance};z.css(B),A.css(B),u.wrap(y),u.parent().append(A),u.parent().append(z),d.railDraggable&&A.bind("mousedown",function(b){var c=a(document);return k=!0,t=parseFloat(A.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,A.css("top",currTop),e(0,A.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){k=!1,h(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),z.hover(function(){g()},function(){h()}),A.hover(function(){j=!0},function(){j=!1}),u.hover(function(){i=!0,g(),h()},function(){i=!1,h()}),u.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(m=a.originalEvent.touches[0].pageY)}),u.bind("touchmove",function(a){if(s||a.originalEvent.preventDefault(),a.originalEvent.touches.length){e((m-a.originalEvent.touches[0].pageY)/d.touchScrollStep,!0),m=a.originalEvent.touches[0].pageY}}),f(),"bottom"===d.start?(A.css({top:u.outerHeight()-A.outerHeight()}),e(0,!0)):"top"!==d.start&&(e(a(d.start).position().top,null,!0),d.alwaysVisible||A.hide()),function(a){window.addEventListener?(a.addEventListener("DOMMouseScroll",c,!1),a.addEventListener("mousewheel",c,!1)):document.attachEvent("onmousewheel",c)}(this)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Dd.apply(null,arguments)}function b(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function c(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function d(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function e(a){return void 0===a}function f(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function g(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function h(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function i(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function j(a,b){for(var c in b)i(b,c)&&(a[c]=b[c]);return i(b,"toString")&&(a.toString=b.toString),i(b,"valueOf")&&(a.valueOf=b.valueOf),a}function k(a,b,c,d){return yb(a,b,c,d,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(a){return null==a._pf&&(a._pf=l()),a._pf}function n(a){if(null==a._isValid){var b=m(a),c=Ed.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function o(a){var b=k(NaN);return null!=a?j(m(b),a):m(b).userInvalidated=!0,b}function p(a,b){var c,d,f;if(e(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),e(b._i)||(a._i=b._i),e(b._f)||(a._f=b._f),e(b._l)||(a._l=b._l),e(b._strict)||(a._strict=b._strict),e(b._tzm)||(a._tzm=b._tzm),e(b._isUTC)||(a._isUTC=b._isUTC),e(b._offset)||(a._offset=b._offset),e(b._pf)||(a._pf=m(b)),e(b._locale)||(a._locale=b._locale),Fd.length>0)for(c=0;c<Fd.length;c++)d=Fd[c],f=b[d],e(f)||(a[d]=f);return a}function q(b){p(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Gd&&(Gd=!0,a.updateOffset(this),Gd=!1)}function r(a){return a instanceof q||null!=a&&null!=a._isAMomentObject}function s(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=s(b)),c}function u(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function v(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function w(b,c){var d=!0;return j(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}v(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function x(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),Hd[b]||(v(c),Hd[b]=!0)}function y(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function z(a){var b,c;for(c in a)b=a[c],y(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(a,b){var d,e=j({},a);for(d in b)i(b,d)&&(c(a[d])&&c(b[d])?(e[d]={},j(e[d],a[d]),j(e[d],b[d])):null!=b[d]?e[d]=b[d]:delete e[d]);for(d in a)i(a,d)&&!i(b,d)&&c(a[d])&&(e[d]=j({},e[d]));return e}function B(a){null!=a&&this.set(a)}function C(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return y(d)?d.call(b,c):d}function D(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function E(){return this._invalidDate}function F(a){return this._ordinal.replace("%d",a)}function G(a,b,c,d){var e=this._relativeTime[c];return y(e)?e(a,b,c,d):e.replace(/%d/i,a)}function H(a,b){var c=this._relativeTime[a>0?"future":"past"];return y(c)?c(b):c.replace(/%s/i,b)}function I(a,b){var c=a.toLowerCase();Nd[c]=Nd[c+"s"]=Nd[b]=a}function J(a){return"string"==typeof a?Nd[a]||Nd[a.toLowerCase()]:void 0}function K(a){var b,c,d={};for(c in a)i(a,c)&&(b=J(c))&&(d[b]=a[c]);return d}function L(a,b){Od[a]=b}function M(a){var b=[];for(var c in a)b.push({unit:c,priority:Od[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function N(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function O(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Sd[a]=e),b&&(Sd[b[0]]=function(){return N(e.apply(this,arguments),b[1],b[2])}),c&&(Sd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function P(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Q(a){var b,c,d=a.match(Pd);for(b=0,c=d.length;b<c;b++)Sd[d[b]]?d[b]=Sd[d[b]]:d[b]=P(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=y(d[e])?d[e].call(b,a):d[e];return f}}function R(a,b){return a.isValid()?(b=S(b,a.localeData()),Rd[b]=Rd[b]||Q(b),Rd[b](a)):a.localeData().invalidDate()}function S(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qd.lastIndex=0;d>=0&&Qd.test(a);)a=a.replace(Qd,c),Qd.lastIndex=0,d-=1;return a}function T(a,b,c){ie[a]=y(b)?b:function(a,d){return a&&c?c:b}}function U(a,b){return i(ie,a)?ie[a](b._strict,b._locale):new RegExp(V(a))}function V(a){return W(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function W(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),f(b)&&(d=function(a,c){c[b]=t(a)}),c=0;c<a.length;c++)je[a[c]]=d}function Y(a,b){X(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function Z(a,b,c){null!=b&&i(je,a)&&je[a](b,c._a,c,a)}function $(a){return _(a)?366:365}function _(a){return a%4==0&&a%100!=0||a%400==0}function aa(){return _(this.year())}function ba(b,c){return function(d){return null!=d?(da(this,b,d),a.updateOffset(this,c),this):ca(this,b)}}function ca(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function da(a,b,c){a.isValid()&&!isNaN(c)&&("FullYear"===b&&_(a.year())&&1===a.month()&&29===a.date()?a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ha(c,a.month())):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function ea(a){return a=J(a),y(this[a])?this[a]():this}function fa(a,b){if("object"==typeof a){a=K(a);for(var c=M(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=J(a),y(this[a]))return this[a](b);return this}function ga(a,b){return(a%b+b)%b}function ha(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=ga(b,12);return a+=(b-c)/12,1===c?_(a)?29:28:31-c%7%2}function ia(a,c){return a?b(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ve).test(c)?"format":"standalone"][a.month()]:b(this._months)?this._months:this._months.standalone}function ja(a,c){return a?b(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ve.test(c)?"format":"standalone"][a.month()]:b(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ka(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=k([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=te.call(this._shortMonthsParse,g),-1!==e?e:null):(e=te.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?-1!==(e=te.call(this._shortMonthsParse,g))?e:(e=te.call(this._longMonthsParse,g),-1!==e?e:null):-1!==(e=te.call(this._longMonthsParse,g))?e:(e=te.call(this._shortMonthsParse,g),-1!==e?e:null)}function la(a,b,c){var d,e,f;if(this._monthsParseExact)return ka.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=k([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ma(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=t(b);else if(b=a.localeData().monthsParse(b),!f(b))return a;return c=Math.min(a.date(),ha(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function na(b){return null!=b?(ma(this,b),a.updateOffset(this,!0),this):ca(this,"Month")}function oa(){return ha(this.year(),this.month())}function pa(a){return this._monthsParseExact?(i(this,"_monthsRegex")||ra.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=ye),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function qa(a){return this._monthsParseExact?(i(this,"_monthsRegex")||ra.call(this),a?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function ra(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=k([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=W(d[b]),e[b]=W(e[b]);for(b=0;b<24;b++)f[b]=W(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function sa(a,b,c,d,e,f,g){var h;return a<100&&a>=0?(h=new Date(a+400,b,c,d,e,f,g),isFinite(h.getFullYear())&&h.setFullYear(a)):h=new Date(a,b,c,d,e,f,g),h}function ta(a){var b;if(a<100&&a>=0){var c=Array.prototype.slice.call(arguments);c[0]=a+400,b=new Date(Date.UTC.apply(null,c)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)}else b=new Date(Date.UTC.apply(null,arguments));return b}function ua(a,b,c){var d=7+b-c;return-(7+ta(a,0,d).getUTCDay()-b)%7+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=$(f)+j):j>$(a)?(f=a+1,g=j-$(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return($(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a.slice(b,7).concat(a.slice(0,b))}function Ga(a,c){var d=b(this._weekdays)?this._weekdays:this._weekdays[a&&!0!==a&&this._weekdays.isFormat.test(c)?"format":"standalone"];return!0===a?Fa(d,this._week.dow):a?d[a.day()]:d}function Ha(a){return!0===a?Fa(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ia(a){return!0===a?Fa(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ja(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=k([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=te.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=te.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=te.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?-1!==(e=te.call(this._weekdaysParse,g))?e:-1!==(e=te.call(this._shortWeekdaysParse,g))?e:(e=te.call(this._minWeekdaysParse,g),-1!==e?e:null):"ddd"===b?-1!==(e=te.call(this._shortWeekdaysParse,g))?e:-1!==(e=te.call(this._weekdaysParse,g))?e:(e=te.call(this._minWeekdaysParse,g),-1!==e?e:null):-1!==(e=te.call(this._minWeekdaysParse,g))?e:-1!==(e=te.call(this._weekdaysParse,g))?e:(e=te.call(this._shortWeekdaysParse,g),-1!==e?e:null)}function Ka(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ja.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=k([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Na(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Oa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=Ee),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Pa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fe),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ra(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=k([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=W(h[b]),i[b]=W(i[b]),j[b]=W(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Sa(){return this.hours()%12||12}function Ta(){return this.hours()||24}function Ua(a,b){O(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Va(a,b){return b._meridiemParse}function Wa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Xa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Ya(a){return a?a.toLowerCase().replace("_","-"):a}function Za(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Ya(a[f]).split("-"),b=e.length,c=Ya(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=$a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&u(e,c,!0)>=b-1)break;b--}f++}return He}function $a(a){var b=null;if(!Le[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=He._abbr;require("./locale/"+a),_a(b)}catch(a){}return Le[a]}function _a(a,b){var c;return a&&(c=e(b)?cb(a):ab(a,b),c?He=c:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),He._abbr}function ab(a,b){if(null!==b){var c,d=Ke;if(b.abbr=a,null!=Le[a])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=Le[a]._config;else if(null!=b.parentLocale)if(null!=Le[b.parentLocale])d=Le[b.parentLocale]._config;else{if(null==(c=$a(b.parentLocale)))return Me[b.parentLocale]||(Me[b.parentLocale]=[]),Me[b.parentLocale].push({name:a,config:b}),null;d=c._config}return Le[a]=new B(A(d,b)),Me[a]&&Me[a].forEach(function(a){ab(a.name,a.config)}),_a(a),Le[a]}return delete Le[a],null}function bb(a,b){if(null!=b){var c,d,e=Ke;d=$a(a),null!=d&&(e=d._config),b=A(e,b),c=new B(b),c.parentLocale=Le[a],Le[a]=c,_a(a)}else null!=Le[a]&&(null!=Le[a].parentLocale?Le[a]=Le[a].parentLocale:null!=Le[a]&&delete Le[a]);return Le[a]}function cb(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return He;if(!b(a)){if(c=$a(a))return c;a=[a]}return Za(a)}function db(){return Id(Le)}function eb(a){var b,c=a._a;return c&&-2===m(a).overflow&&(b=c[le]<0||c[le]>11?le:c[me]<1||c[me]>ha(c[ke],c[le])?me:c[ne]<0||c[ne]>24||24===c[ne]&&(0!==c[oe]||0!==c[pe]||0!==c[qe])?ne:c[oe]<0||c[oe]>59?oe:c[pe]<0||c[pe]>59?pe:c[qe]<0||c[qe]>999?qe:-1,m(a)._overflowDayOfYear&&(b<ke||b>me)&&(b=me),m(a)._overflowWeeks&&-1===b&&(b=re),m(a)._overflowWeekday&&-1===b&&(b=se),m(a).overflow=b),a}function fb(a,b,c){return null!=a?a:null!=b?b:c}function gb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function hb(a){var b,c,d,e,f,g=[];if(!a._d){for(d=gb(a),a._w&&null==a._a[me]&&null==a._a[le]&&ib(a),null!=a._dayOfYear&&(f=fb(a._a[ke],d[ke]),(a._dayOfYear>$(f)||0===a._dayOfYear)&&(m(a)._overflowDayOfYear=!0),c=ta(f,0,a._dayOfYear),a._a[le]=c.getUTCMonth(),a._a[me]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;b<7;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ne]&&0===a._a[oe]&&0===a._a[pe]&&0===a._a[qe]&&(a._nextDay=!0,a._a[ne]=0),a._d=(a._useUTC?ta:sa).apply(null,g),e=a._useUTC?a._d.getUTCDay():a._d.getDay(),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ne]=24),a._w&&void 0!==a._w.d&&a._w.d!==e&&(m(a).weekdayMismatch=!0)}}function ib(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=fb(b.GG,a._a[ke],wa(zb(),1,4).year),d=fb(b.W,1),((e=fb(b.E,1))<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(zb(),f,g);c=fb(b.gg,a._a[ke],j.year),d=fb(b.w,j.week),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?m(a)._overflowWeeks=!0:null!=i?m(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ke]=h.year,a._dayOfYear=h.dayOfYear)}function jb(a){var b,c,d,e,f,g,h=a._i,i=Ne.exec(h)||Oe.exec(h);if(i){for(m(a).iso=!0,b=0,c=Qe.length;b<c;b++)if(Qe[b][1].exec(i[1])){e=Qe[b][0],d=!1!==Qe[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Re.length;b<c;b++)if(Re[b][1].exec(i[3])){f=(i[2]||" ")+Re[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Pe.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),rb(a)}else a._isValid=!1}function kb(a,b,c,d,e,f){var g=[lb(a),xe.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];return f&&g.push(parseInt(f,10)),g}function lb(a){var b=parseInt(a,10);return b<=49?2e3+b:b<=999?1900+b:b}function mb(a){return a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function nb(a,b,c){if(a){if(Ce.indexOf(a)!==new Date(b[0],b[1],b[2]).getDay())return m(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function ob(a,b,c){if(a)return Ue[a];if(b)return 0;var d=parseInt(c,10),e=d%100;return(d-e)/100*60+e}function pb(a){var b=Te.exec(mb(a._i));if(b){var c=kb(b[4],b[3],b[2],b[5],b[6],b[7]);if(!nb(b[1],c,a))return;a._a=c,a._tzm=ob(b[8],b[9],b[10]),a._d=ta.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),m(a).rfc2822=!0}else a._isValid=!1}function qb(b){var c=Se.exec(b._i);if(null!==c)return void(b._d=new Date(+c[1]));jb(b),!1===b._isValid&&(delete b._isValid,pb(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b)))}function rb(b){if(b._f===a.ISO_8601)return void jb(b);if(b._f===a.RFC_2822)return void pb(b);b._a=[],m(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=S(b._f,b._locale).match(Pd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(U(f,b))||[])[0],
d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&m(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Sd[f]?(d?m(b).empty=!1:m(b).unusedTokens.push(f),Z(f,d,b)):b._strict&&!d&&m(b).unusedTokens.push(f);m(b).charsLeftOver=i-j,h.length>0&&m(b).unusedInput.push(h),b._a[ne]<=12&&!0===m(b).bigHour&&b._a[ne]>0&&(m(b).bigHour=void 0),m(b).parsedDateParts=b._a.slice(0),m(b).meridiem=b._meridiem,b._a[ne]=sb(b._locale,b._a[ne],b._meridiem),hb(b),eb(b)}function sb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function tb(a){var b,c,d,e,f;if(0===a._f.length)return m(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],rb(b),n(b)&&(f+=m(b).charsLeftOver,f+=10*m(b).unusedTokens.length,m(b).score=f,(null==d||f<d)&&(d=f,c=b));j(a,c||b)}function ub(a){if(!a._d){var b=K(a._i);a._a=h([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),hb(a)}}function vb(a){var b=new q(eb(wb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function wb(a){var c=a._i,d=a._f;return a._locale=a._locale||cb(a._l),null===c||void 0===d&&""===c?o({nullInput:!0}):("string"==typeof c&&(a._i=c=a._locale.preparse(c)),r(c)?new q(eb(c)):(g(c)?a._d=c:b(d)?tb(a):d?rb(a):xb(a),n(a)||(a._d=null),a))}function xb(d){var i=d._i;e(i)?d._d=new Date(a.now()):g(i)?d._d=new Date(i.valueOf()):"string"==typeof i?qb(d):b(i)?(d._a=h(i.slice(0),function(a){return parseInt(a,10)}),hb(d)):c(i)?ub(d):f(i)?d._d=new Date(i):a.createFromInputFallback(d)}function yb(a,e,f,g,h){var i={};return!0!==f&&!1!==f||(g=f,f=void 0),(c(a)&&d(a)||b(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=e,i._strict=g,vb(i)}function zb(a,b,c,d){return yb(a,b,c,d,!1)}function Ab(a,c){var d,e;if(1===c.length&&b(c[0])&&(c=c[0]),!c.length)return zb();for(d=c[0],e=1;e<c.length;++e)c[e].isValid()&&!c[e][a](d)||(d=c[e]);return d}function Bb(){return Ab("isBefore",[].slice.call(arguments,0))}function Cb(){return Ab("isAfter",[].slice.call(arguments,0))}function Db(a){for(var b in a)if(-1===te.call(Ye,b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Ye.length;++d)if(a[Ye[d]]){if(c)return!1;parseFloat(a[Ye[d]])!==t(a[Ye[d]])&&(c=!0)}return!0}function Eb(){return this._isValid}function Fb(){return Yb(NaN)}function Gb(a){var b=K(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||b.isoWeek||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Db(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=cb(),this._bubble()}function Hb(a){return a instanceof Gb}function Ib(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Jb(a,b){O(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+N(~~(a/60),2)+b+N(~~a%60,2)})}function Kb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Ze)||["-",0,0],f=60*e[1]+t(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Lb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(r(b)||g(b)?b.valueOf():zb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):zb(b).local()}function Mb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Nb(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(null===(b=Kb(fe,b)))return this}else Math.abs(b)<16&&!d&&(b*=60);return!this._isUTC&&c&&(e=Mb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?bc(this,Yb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Mb(this)}function Ob(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pb(a){return this.utcOffset(0,a)}function Qb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Mb(this),"m")),this}function Rb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Kb(ee,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Sb(a){return!!this.isValid()&&(a=a?zb(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function Tb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ub(){if(!e(this._isDSTShifted))return this._isDSTShifted;var a={};if(p(a,this),a=wb(a),a._a){var b=a._isUTC?k(a._a):zb(a._a);this._isDSTShifted=this.isValid()&&u(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vb(){return!!this.isValid()&&!this._isUTC}function Wb(){return!!this.isValid()&&this._isUTC}function Xb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Yb(a,b){var c,d,e,g=a,h=null;return Hb(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:f(a)?(g={},b?g[b]=a:g.milliseconds=a):(h=$e.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:t(h[me])*c,h:t(h[ne])*c,m:t(h[oe])*c,s:t(h[pe])*c,ms:t(Ib(1e3*h[qe]))*c}):(h=_e.exec(a))?(c="-"===h[1]?-1:1,g={y:Zb(h[2],c),M:Zb(h[3],c),w:Zb(h[4],c),d:Zb(h[5],c),h:Zb(h[6],c),m:Zb(h[7],c),s:Zb(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_b(zb(g.from),zb(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Gb(g),Hb(a)&&i(a,"_locale")&&(d._locale=a._locale),d}function Zb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $b(a,b){var c={};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _b(a,b){var c;return a.isValid()&&b.isValid()?(b=Lb(b,a),a.isBefore(b)?c=$b(a,b):(c=$b(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function ac(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(x(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Yb(c,d),bc(this,e,a),this}}function bc(b,c,d,e){var f=c._milliseconds,g=Ib(c._days),h=Ib(c._months);b.isValid()&&(e=null==e||e,h&&ma(b,ca(b,"Month")+h*d),g&&da(b,"Date",ca(b,"Date")+g*d),f&&b._d.setTime(b._d.valueOf()+f*d),e&&a.updateOffset(b,g||h))}function cc(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function dc(b,c){var d=b||zb(),e=Lb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(y(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,zb(d)))}function ec(){return new q(this)}function fc(a,b){var c=r(a)?a:zb(a);return!(!this.isValid()||!c.isValid())&&(b=J(b)||"millisecond","millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function gc(a,b){var c=r(a)?a:zb(a);return!(!this.isValid()||!c.isValid())&&(b=J(b)||"millisecond","millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function hc(a,b,c,d){var e=r(a)?a:zb(a),f=r(b)?b:zb(b);return!!(this.isValid()&&e.isValid()&&f.isValid())&&(d=d||"()",("("===d[0]?this.isAfter(e,c):!this.isBefore(e,c))&&(")"===d[1]?this.isBefore(f,c):!this.isAfter(f,c)))}function ic(a,b){var c,d=r(a)?a:zb(a);return!(!this.isValid()||!d.isValid())&&(b=J(b)||"millisecond","millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function jc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lc(a,b,c){var d,e,f;if(!this.isValid())return NaN;if(d=Lb(a,this),!d.isValid())return NaN;switch(e=6e4*(d.utcOffset()-this.utcOffset()),b=J(b)){case"year":f=mc(this,d)/12;break;case"month":f=mc(this,d);break;case"quarter":f=mc(this,d)/3;break;case"second":f=(this-d)/1e3;break;case"minute":f=(this-d)/6e4;break;case"hour":f=(this-d)/36e5;break;case"day":f=(this-d-e)/864e5;break;case"week":f=(this-d-e)/6048e5;break;default:f=this-d}return c?f:s(f)}function mc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function nc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oc(a){if(!this.isValid())return null;var b=!0!==a,c=b?this.clone().utc():this;return c.year()<0||c.year()>9999?R(c,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):y(Date.prototype.toISOString)?b?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",R(c,"Z")):R(c,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function pc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+e)}function qc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=R(this,b);return this.localeData().postformat(c)}function rc(a,b){return this.isValid()&&(r(a)&&a.isValid()||zb(a).isValid())?Yb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function sc(a){return this.from(zb(),a)}function tc(a,b){return this.isValid()&&(r(a)&&a.isValid()||zb(a).isValid())?Yb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function uc(a){return this.to(zb(),a)}function vc(a){var b;return void 0===a?this._locale._abbr:(b=cb(a),null!=b&&(this._locale=b),this)}function wc(){return this._locale}function xc(a,b){return(a%b+b)%b}function yc(a,b,c){return a<100&&a>=0?new Date(a+400,b,c)-gf:new Date(a,b,c).valueOf()}function zc(a,b,c){return a<100&&a>=0?Date.UTC(a+400,b,c)-gf:Date.UTC(a,b,c)}function Ac(b){var c;if(void 0===(b=J(b))||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?zc:yc;switch(b){case"year":c=d(this.year(),0,1);break;case"quarter":c=d(this.year(),this.month()-this.month()%3,1);break;case"month":c=d(this.year(),this.month(),1);break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=d(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf(),c-=xc(c+(this._isUTC?0:this.utcOffset()*ef),ff);break;case"minute":c=this._d.valueOf(),c-=xc(c,ef);break;case"second":c=this._d.valueOf(),c-=xc(c,df)}return this._d.setTime(c),a.updateOffset(this,!0),this}function Bc(b){var c;if(void 0===(b=J(b))||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?zc:yc;switch(b){case"year":c=d(this.year()+1,0,1)-1;break;case"quarter":c=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=d(this.year(),this.month()+1,1)-1;break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf(),c+=ff-xc(c+(this._isUTC?0:this.utcOffset()*ef),ff)-1;break;case"minute":c=this._d.valueOf(),c+=ef-xc(c,ef)-1;break;case"second":c=this._d.valueOf(),c+=df-xc(c,df)-1}return this._d.setTime(c),a.updateOffset(this,!0),this}function Cc(){return this._d.valueOf()-6e4*(this._offset||0)}function Dc(){return Math.floor(this.valueOf()/1e3)}function Ec(){return new Date(this.valueOf())}function Fc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Gc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Hc(){return this.isValid()?this.toISOString():null}function Ic(){return n(this)}function Jc(){return j({},m(this))}function Kc(){return m(this).overflow}function Lc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mc(a,b){O(0,[a,a.length],0,b)}function Nc(a){return Rc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Oc(a){return Rc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Pc(){return xa(this.year(),1,4)}function Qc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Rc(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Sc.call(this,a,b,c,d,e))}function Sc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Tc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Uc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Vc(a,b){b[qe]=t(1e3*("0."+a))}function Wc(){return this._isUTC?"UTC":""}function Xc(){return this._isUTC?"Coordinated Universal Time":""}function Yc(a){return zb(1e3*a)}function Zc(){return zb.apply(null,arguments).parseZone()}function $c(a){return a}function _c(a,b,c,d){var e=cb(),f=k().set(d,b);return e[c](f,a)}function ad(a,b,c){if(f(a)&&(b=a,a=void 0),a=a||"",null!=b)return _c(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=_c(a,d,c,"month");return e}function bd(a,b,c,d){"boolean"==typeof a?(f(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,f(b)&&(c=b,b=void 0),b=b||"");var e=cb(),g=a?e._week.dow:0;if(null!=c)return _c(b,(c+g)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=_c(b,(h+g)%7,d,"day");return i}function cd(a,b){return ad(a,b,"months")}function dd(a,b){return ad(a,b,"monthsShort")}function ed(a,b,c){return bd(a,b,c,"weekdays")}function fd(a,b,c){return bd(a,b,c,"weekdaysShort")}function gd(a,b,c){return bd(a,b,c,"weekdaysMin")}function hd(){var a=this._data;return this._milliseconds=pf(this._milliseconds),this._days=pf(this._days),this._months=pf(this._months),a.milliseconds=pf(a.milliseconds),a.seconds=pf(a.seconds),a.minutes=pf(a.minutes),a.hours=pf(a.hours),a.months=pf(a.months),a.years=pf(a.years),this}function id(a,b,c,d){var e=Yb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function jd(a,b){return id(this,a,b,1)}function kd(a,b){return id(this,a,b,-1)}function ld(a){return a<0?Math.floor(a):Math.ceil(a)}function md(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*ld(od(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=s(f/1e3),i.seconds=a%60,b=s(a/60),i.minutes=b%60,c=s(b/60),i.hours=c%24,g+=s(c/24),e=s(nd(g)),h+=e,g-=ld(od(e)),d=s(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function nd(a){return 4800*a/146097}function od(a){return 146097*a/4800}function pd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=J(a))||"quarter"===a||"year"===a)switch(b=this._days+d/864e5,c=this._months+nd(b),a){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(b=this._days+Math.round(od(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function qd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12):NaN}function rd(a){return function(){return this.as(a)}}function sd(){return Yb(this)}function td(a){return a=J(a),this.isValid()?this[a+"s"]():NaN}function ud(a){return function(){return this.isValid()?this._data[a]:NaN}}function vd(){return s(this.days()/7)}function wd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function xd(a,b,c){var d=Yb(a).abs(),e=Gf(d.as("s")),f=Gf(d.as("m")),g=Gf(d.as("h")),h=Gf(d.as("d")),i=Gf(d.as("M")),j=Gf(d.as("y")),k=e<=Hf.ss&&["s",e]||e<Hf.s&&["ss",e]||f<=1&&["m"]||f<Hf.m&&["mm",f]||g<=1&&["h"]||g<Hf.h&&["hh",g]||h<=1&&["d"]||h<Hf.d&&["dd",h]||i<=1&&["M"]||i<Hf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,wd.apply(null,k)}function yd(a){return void 0===a?Gf:"function"==typeof a&&(Gf=a,!0)}function zd(a,b){return void 0!==Hf[a]&&(void 0===b?Hf[a]:(Hf[a]=b,"s"===a&&(Hf.ss=b-1),!0))}function Ad(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=xd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Bd(a){return(a>0)-(a<0)||+a}function Cd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=If(this._milliseconds)/1e3,e=If(this._days),f=If(this._months);a=s(d/60),b=s(a/60),d%=60,a%=60,c=s(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d?d.toFixed(3).replace(/\.?0+$/,""):"",m=this.asSeconds();if(!m)return"P0D";var n=m<0?"-":"",o=Bd(this._months)!==Bd(m)?"-":"",p=Bd(this._days)!==Bd(m)?"-":"",q=Bd(this._milliseconds)!==Bd(m)?"-":"";return n+"P"+(g?o+g+"Y":"")+(h?o+h+"M":"")+(i?p+i+"D":"")+(j||k||l?"T":"")+(j?q+j+"H":"")+(k?q+k+"M":"")+(l?q+l+"S":"")}var Dd,Ed;Ed=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Fd=a.momentProperties=[],Gd=!1,Hd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var Id;Id=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)i(a,b)&&c.push(b);return c};var Jd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Kd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ld=/\d{1,2}/,Md={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Nd={},Od={},Pd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rd={},Sd={},Td=/\d/,Ud=/\d\d/,Vd=/\d{3}/,Wd=/\d{4}/,Xd=/[+-]?\d{6}/,Yd=/\d\d?/,Zd=/\d\d\d\d?/,$d=/\d\d\d\d\d\d?/,_d=/\d{1,3}/,ae=/\d{1,4}/,be=/[+-]?\d{1,6}/,ce=/\d+/,de=/[+-]?\d+/,ee=/Z|[+-]\d\d:?\d\d/gi,fe=/Z|[+-]\d\d(?::?\d\d)?/gi,ge=/[+-]?\d+(\.\d{1,3})?/,he=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ie={},je={},ke=0,le=1,me=2,ne=3,oe=4,pe=5,qe=6,re=7,se=8;O("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),T("Y",de),T("YY",Yd,Ud),T("YYYY",ae,Wd),T("YYYYY",be,Xd),T("YYYYYY",be,Xd),X(["YYYYY","YYYYYY"],ke),X("YYYY",function(b,c){c[ke]=2===b.length?a.parseTwoDigitYear(b):t(b)}),X("YY",function(b,c){c[ke]=a.parseTwoDigitYear(b)}),X("Y",function(a,b){b[ke]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)};var te,ue=ba("FullYear",!0);te=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),O("MMMM",0,0,function(a){return this.localeData().months(this,a)}),I("month","M"),L("month",8),T("M",Yd),T("MM",Yd,Ud),T("MMM",function(a,b){return b.monthsShortRegex(a)}),T("MMMM",function(a,b){return b.monthsRegex(a)}),X(["M","MM"],function(a,b){b[le]=t(a)-1}),X(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[le]=e:m(c).invalidMonth=a});var ve=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ye=he,ze=he;O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),T("w",Yd),T("ww",Yd,Ud),T("W",Yd),T("WW",Yd,Ud),Y(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=t(a)});var Ae={dow:0,doy:6};O("d",0,"do","day"),O("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),O("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),O("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),T("d",Yd),T("e",Yd),T("E",Yd),T("dd",function(a,b){return b.weekdaysMinRegex(a)}),T("ddd",function(a,b){return b.weekdaysShortRegex(a)}),T("dddd",function(a,b){return b.weekdaysRegex(a)}),Y(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:m(c).invalidWeekday=a}),Y(["d","e","E"],function(a,b,c,d){b[d]=t(a)});var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ce="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),De="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ee=he,Fe=he,Ge=he;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Sa),O("k",["kk",2],0,Ta),O("hmm",0,0,function(){return""+Sa.apply(this)+N(this.minutes(),2)}),O("hmmss",0,0,function(){return""+Sa.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),Ua("a",!0),Ua("A",!1),I("hour","h"),L("hour",13),T("a",Va),T("A",Va),T("H",Yd),T("h",Yd),T("k",Yd),T("HH",Yd,Ud),T("hh",Yd,Ud),T("kk",Yd,Ud),T("hmm",Zd),T("hmmss",$d),T("Hmm",Zd),T("Hmmss",$d),X(["H","HH"],ne),X(["k","kk"],function(a,b,c){var d=t(a);b[ne]=24===d?0:d}),X(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),X(["h","hh"],function(a,b,c){b[ne]=t(a),m(c).bigHour=!0}),X("hmm",function(a,b,c){var d=a.length-2;b[ne]=t(a.substr(0,d)),b[oe]=t(a.substr(d)),m(c).bigHour=!0}),X("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ne]=t(a.substr(0,d)),b[oe]=t(a.substr(d,2)),b[pe]=t(a.substr(e)),m(c).bigHour=!0}),X("Hmm",function(a,b,c){var d=a.length-2;b[ne]=t(a.substr(0,d)),b[oe]=t(a.substr(d))}),X("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ne]=t(a.substr(0,d)),b[oe]=t(a.substr(d,2)),b[pe]=t(a.substr(e))});var He,Ie=/[ap]\.?m?\.?/i,Je=ba("Hours",!0),Ke={calendar:Jd,longDateFormat:Kd,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ld,relativeTime:Md,months:we,monthsShort:xe,week:Ae,weekdays:Be,weekdaysMin:De,weekdaysShort:Ce,meridiemParse:Ie},Le={},Me={},Ne=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pe=/Z|[+-]\d\d(?::?\d\d)?/,Qe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Re=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Se=/^\/?Date\((\-?\d+)/i,Te=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ue={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};a.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Ve=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=zb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:o()}),We=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=zb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:o()}),Xe=function(){return Date.now?Date.now():+new Date},Ye=["year","quarter","month","week","day","hour","minute","second","millisecond"];Jb("Z",":"),Jb("ZZ",""),T("Z",fe),T("ZZ",fe),X(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Kb(fe,a)});var Ze=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var $e=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,_e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Yb.fn=Gb.prototype,Yb.invalid=Fb;var af=ac(1,"add"),bf=ac(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cf=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)}),df=1e3,ef=60*df,ff=60*ef,gf=3506328*ff;O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mc("gggg","weekYear"),Mc("ggggg","weekYear"),Mc("GGGG","isoWeekYear"),Mc("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),T("G",de),T("g",de),T("GG",Yd,Ud),T("gg",Yd,Ud),T("GGGG",ae,Wd),T("gggg",ae,Wd),T("GGGGG",be,Xd),T("ggggg",be,Xd),Y(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=t(a)}),Y(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),O("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),T("Q",Td),X("Q",function(a,b){b[le]=3*(t(a)-1)}),O("D",["DD",2],"Do","date"),I("date","D"),L("date",9),T("D",Yd),T("DD",Yd,Ud),T("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),X(["D","DD"],me),X("Do",function(a,b){b[me]=t(a.match(Yd)[0])});var hf=ba("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),T("DDD",_d),T("DDDD",Vd),X(["DDD","DDDD"],function(a,b,c){c._dayOfYear=t(a)}),O("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),T("m",Yd),T("mm",Yd,Ud),X(["m","mm"],oe);var jf=ba("Minutes",!1);O("s",["ss",2],0,"second"),I("second","s"),L("second",15),T("s",Yd),T("ss",Yd,Ud),X(["s","ss"],pe);var kf=ba("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),T("S",_d,Td),T("SS",_d,Ud),T("SSS",_d,Vd);var lf;for(lf="SSSS";lf.length<=9;lf+="S")T(lf,ce);for(lf="S";lf.length<=9;lf+="S")X(lf,Vc);var mf=ba("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var nf=q.prototype;nf.add=af,nf.calendar=dc,nf.clone=ec,nf.diff=lc,nf.endOf=Bc,nf.format=qc,nf.from=rc,nf.fromNow=sc,nf.to=tc,nf.toNow=uc,nf.get=ea,nf.invalidAt=Kc,nf.isAfter=fc,nf.isBefore=gc,nf.isBetween=hc,nf.isSame=ic,nf.isSameOrAfter=jc,nf.isSameOrBefore=kc,nf.isValid=Ic,nf.lang=cf,nf.locale=vc,nf.localeData=wc,nf.max=We,nf.min=Ve,nf.parsingFlags=Jc,nf.set=fa,nf.startOf=Ac,nf.subtract=bf,nf.toArray=Fc,nf.toObject=Gc,nf.toDate=Ec,nf.toISOString=oc,nf.inspect=pc,nf.toJSON=Hc,nf.toString=nc,nf.unix=Dc,nf.valueOf=Cc,nf.creationData=Lc,nf.year=ue,nf.isLeapYear=aa,nf.weekYear=Nc,nf.isoWeekYear=Oc,nf.quarter=nf.quarters=Tc,nf.month=na,nf.daysInMonth=oa,nf.week=nf.weeks=Ba,nf.isoWeek=nf.isoWeeks=Ca,nf.weeksInYear=Qc,nf.isoWeeksInYear=Pc,nf.date=hf,nf.day=nf.days=La,nf.weekday=Ma,nf.isoWeekday=Na,nf.dayOfYear=Uc,nf.hour=nf.hours=Je,nf.minute=nf.minutes=jf,nf.second=nf.seconds=kf,nf.millisecond=nf.milliseconds=mf,nf.utcOffset=Nb,nf.utc=Pb,nf.local=Qb,nf.parseZone=Rb,nf.hasAlignedHourOffset=Sb,nf.isDST=Tb,nf.isLocal=Vb,nf.isUtcOffset=Wb,nf.isUtc=Xb,nf.isUTC=Xb,nf.zoneAbbr=Wc,nf.zoneName=Xc,nf.dates=w("dates accessor is deprecated. Use date instead.",hf),nf.months=w("months accessor is deprecated. Use month instead",na),nf.years=w("years accessor is deprecated. Use year instead",ue),nf.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ob),nf.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ub);var of=B.prototype;of.calendar=C,of.longDateFormat=D,of.invalidDate=E,of.ordinal=F,of.preparse=$c,of.postformat=$c,of.relativeTime=G,of.pastFuture=H,of.set=z,of.months=ia,of.monthsShort=ja,of.monthsParse=la,of.monthsRegex=qa,of.monthsShortRegex=pa,of.week=ya,of.firstDayOfYear=Aa,of.firstDayOfWeek=za,of.weekdays=Ga,of.weekdaysMin=Ia,of.weekdaysShort=Ha,of.weekdaysParse=Ka,of.weekdaysRegex=Oa,of.weekdaysShortRegex=Pa,of.weekdaysMinRegex=Qa,of.isPM=Wa,of.meridiem=Xa,_a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=w("moment.lang is deprecated. Use moment.locale instead.",_a),a.langData=w("moment.langData is deprecated. Use moment.localeData instead.",cb);var pf=Math.abs,qf=rd("ms"),rf=rd("s"),sf=rd("m"),tf=rd("h"),uf=rd("d"),vf=rd("w"),wf=rd("M"),xf=rd("Q"),yf=rd("y"),zf=ud("milliseconds"),Af=ud("seconds"),Bf=ud("minutes"),Cf=ud("hours"),Df=ud("days"),Ef=ud("months"),Ff=ud("years"),Gf=Math.round,Hf={ss:44,s:45,m:45,h:22,d:26,M:11},If=Math.abs,Jf=Gb.prototype;return Jf.isValid=Eb,Jf.abs=hd,Jf.add=jd,Jf.subtract=kd,Jf.as=pd,Jf.asMilliseconds=qf,Jf.asSeconds=rf,Jf.asMinutes=sf,Jf.asHours=tf,Jf.asDays=uf,Jf.asWeeks=vf,Jf.asMonths=wf,Jf.asQuarters=xf,Jf.asYears=yf,Jf.valueOf=qd,Jf._bubble=md,Jf.clone=sd,Jf.get=td,Jf.milliseconds=zf,Jf.seconds=Af,Jf.minutes=Bf,Jf.hours=Cf,Jf.days=Df,Jf.weeks=vd,Jf.months=Ef,Jf.years=Ff,Jf.humanize=Ad,Jf.toISOString=Cd,Jf.toString=Cd,Jf.toJSON=Cd,Jf.locale=vc,Jf.localeData=wc,Jf.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cd),Jf.lang=cf,O("X",0,0,"unix"),O("x",0,0,"valueOf"),T("x",de),T("X",ge),X("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),X("x",function(a,b,c){c._d=new Date(t(a))}),a.version="2.24.0",function(a){Dd=a}(zb),a.fn=nf,a.min=Bb,a.max=Cb,a.now=Xe,a.utc=k,a.unix=Yc,a.months=cd,a.isDate=g,a.locale=_a,a.invalid=o,a.duration=Yb,a.isMoment=r,a.weekdays=ed,a.parseZone=Zc,a.localeData=cb,a.isDuration=Hb,a.monthsShort=dd,a.weekdaysMin=gd,a.defineLocale=ab,a.updateLocale=bb,a.locales=db,a.weekdaysShort=fd,a.normalizeUnits=J,a.relativeTimeRounding=yd,a.relativeTimeThreshold=zd,
a.calendarFormat=cc,a.prototype=nf,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}),function(){function a(b){var c=a.modules[b];if(!c)throw new Error('failed to require "'+b+'"');return"exports"in c||"function"!=typeof c.definition||(c.client=c.component=!0,c.definition.call(this,c.exports={},c),delete c.definition),c.exports}a.loader="component",a.helper={},a.helper.semVerSort=function(a,b){for(var c=a.version.split("."),d=b.version.split("."),e=0;e<c.length;++e){var f=parseInt(c[e],10),g=parseInt(d[e],10);if(f!==g)return f>g?1:-1;var h=c[e].substr((""+f).length),i=d[e].substr((""+g).length);if(""===h&&""!==i)return 1;if(""!==h&&""===i)return-1;if(""!==h&&""!==i)return h>i?1:-1}return 0},a.latest=function(b,c){function d(a){throw new Error('failed to find latest module of "'+a+'"')}var e=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(b)||d(b);for(var f=Object.keys(a.modules),g=[],h=[],i=0;i<f.length;i++){var j=f[i];if(new RegExp(b+"@").test(j)){var k=j.substr(b.length+1);null!=e.exec(j)?g.push({version:k,name:j}):h.push({version:k,name:j})}}if(0===g.concat(h).length&&d(b),g.length>0){var l=g.sort(a.helper.semVerSort).pop().name;return!0===c?l:a(l)}var l=h.sort(function(a,b){return a.name>b.name})[0].name;return!0===c?l:a(l)},a.modules={},a.register=function(b,c){a.modules[b]={definition:c}},a.define=function(b,c){a.modules[b]={exports:c}},a.register("abpetkov~transitionize@0.0.3",function(a,b){function c(a,b){if(!(this instanceof c))return new c(a,b);this.element=a,this.props=b||{},this.init()}b.exports=c,c.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},c.prototype.init=function(){var a=[];for(var b in this.props)a.push(b+" "+this.props[b]);this.element.style.transition=a.join(", "),this.isSafari()&&(this.element.style.webkitTransition=a.join(", "))}}),a.register("ftlabs~fastclick@v0.6.11",function(a,b){function c(a){"use strict";var b,d=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a,!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return c.prototype.onClick.apply(d,arguments)},this.onMouse=function(){return c.prototype.onMouse.apply(d,arguments)},this.onTouchStart=function(){return c.prototype.onTouchStart.apply(d,arguments)},this.onTouchMove=function(){return c.prototype.onTouchMove.apply(d,arguments)},this.onTouchEnd=function(){return c.prototype.onTouchEnd.apply(d,arguments)},this.onTouchCancel=function(){return c.prototype.onTouchCancel.apply(d,arguments)},c.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null))}c.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,c.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),c.prototype.deviceIsIOS4=c.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c.prototype.deviceIsIOSWithBadTarget=c.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),c.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},c.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},c.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},c.prototype.determineEventType=function(a){"use strict";return this.deviceIsAndroid&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},c.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},c.prototype.updateScrollParent=function(a){"use strict";var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},c.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},c.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],this.deviceIsIOS){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},c.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},c.prototype.onTouchMove=function(a){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},c.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},c.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(d=g.tagName.toLowerCase())){if(b=this.findControl(g)){if(this.focus(g),this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.deviceIsIOS4&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||!(e=g.fastClickScrollParent)||e.fastClickLastScrollTop===e.scrollTop)||(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},c.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},c.prototype.onMouse=function(a){"use strict";return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},c.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},c.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},c.notNeeded=function(a){"use strict";var b,d;if(void 0===window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c.prototype.deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===a.style.msTouchAction},c.attach=function(a){"use strict";return new c(a)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return c}):void 0!==b&&b.exports?(b.exports=c.attach,b.exports.FastClick=c):window.FastClick=c}),a.register("component~indexof@0.0.3",function(a,b){b.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}}),a.register("component~classes@1.2.1",function(b,c){function d(a){if(!a)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}var e=a("component~indexof@0.0.3"),f=/\s+/,g=Object.prototype.toString;c.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array();return~e(b,a)||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?(void 0!==b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(void 0!==b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,""),b=a.split(f);return""===b[0]&&b.shift(),b},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}}),a.register("component~event@0.1.4",function(a,b){var c=window.addEventListener?"addEventListener":"attachEvent",d=window.removeEventListener?"removeEventListener":"detachEvent",e="addEventListener"!==c?"on":"";a.bind=function(a,b,d,f){return a[c](e+b,d,f||!1),d},a.unbind=function(a,b,c,f){return a[d](e+b,c,f||!1),c}}),a.register("component~query@0.0.3",function(a,b){function c(a,b){return b.querySelector(a)}a=b.exports=function(a,b){return b=b||document,c(a,b)},a.all=function(a,b){return b=b||document,b.querySelectorAll(a)},a.engine=function(b){if(!b.one)throw new Error(".one callback required");if(!b.all)throw new Error(".all callback required");return c=b.one,a.all=b.all,a}}),a.register("component~matches-selector@0.1.5",function(b,c){function d(a,b){if(!a||1!==a.nodeType)return!1;if(g)return g.call(a,b);for(var c=e.all(b,a.parentNode),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}var e=a("component~query@0.0.3"),f=Element.prototype,g=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector;c.exports=d}),a.register("component~closest@0.1.4",function(b,c){var d=a("component~matches-selector@0.1.5");c.exports=function(a,b,c,e){for(a=c?{parentNode:a}:a,e=e||document;(a=a.parentNode)&&a!==document;){if(d(a,b))return a;if(a===e)return}}}),a.register("component~delegate@0.2.3",function(b,c){var d=a("component~closest@0.1.4"),e=a("component~event@0.1.4");b.bind=function(a,b,c,f,g){return e.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=d(e,b,!0,a),c.delegateTarget&&f.call(a,c)},g)},b.unbind=function(a,b,c,d){e.unbind(a,b,c,d)}}),a.register("component~events@1.0.9",function(b,c){function d(a,b){if(!(this instanceof d))return new d(a,b);if(!a)throw new Error("element required");if(!b)throw new Error("object required");this.el=a,this.obj=b,this._events={}}function e(a){var b=a.split(/ +/);return{name:b.shift(),selector:b.join(" ")}}var f=a("component~event@0.1.4"),g=a("component~delegate@0.2.3");c.exports=d,d.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{},this._events[a][b]=c},d.prototype.bind=function(a,b){function c(){var a=[].slice.call(arguments).concat(k);i[b].apply(i,a)}var d=e(a),h=this.el,i=this.obj,j=d.name,b=b||"on"+j,k=[].slice.call(arguments,2);return d.selector?c=g.bind(h,d.selector,j,c):f.bind(h,j,c),this.sub(j,b,c),c},d.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);var c=this._events[a];if(c){var d=c[b];d&&f.unbind(this.el,a,d)}},d.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)},d.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}}),a.register("switchery",function(b,c){function d(a,b){if(!(this instanceof d))return new d(a,b);this.element=a,this.options=b||{};for(var c in i)null==this.options[c]&&(this.options[c]=i[c]);null!=this.element&&"checkbox"==this.element.type&&this.init(),!0===this.isDisabled()&&this.disable()}var e=a("abpetkov~transitionize@0.0.3"),f=a("ftlabs~fastclick@v0.6.11"),g=a("component~classes@1.2.1"),h=a("component~events@1.0.9");c.exports=d;var i={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};d.prototype.hide=function(){this.element.style.display="none"},d.prototype.show=function(){var a=this.create();this.insertAfter(this.element,a)},d.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=h(this.switcher,this),this.switcher},d.prototype.insertAfter=function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},d.prototype.setPosition=function(a){var b=this.isChecked(),c=this.switcher,d=this.jack;a&&b?b=!1:a&&!b&&(b=!0),!0===b?(this.element.checked=!0,window.getComputedStyle?d.style.left=parseInt(window.getComputedStyle(c).width)-parseInt(window.getComputedStyle(d).width)+"px":d.style.left=parseInt(c.currentStyle.width)-parseInt(d.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(d.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==i.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor,this.setSpeed())},d.prototype.setSpeed=function(){var a={},b={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};a=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},e(this.switcher,a),e(this.jack,b)},d.prototype.setSize=function(){switch(this.options.size){case"small":g(this.switcher).add("switchery-small");break;case"large":g(this.switcher).add("switchery-large");break;default:g(this.switcher).add("switchery-default")}},d.prototype.colorize=function(){var a=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+a+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},d.prototype.handleOnchange=function(a){if(document.dispatchEvent){var b=document.createEvent("HTMLEvents");b.initEvent("change",!0,!0),this.element.dispatchEvent(b)}else this.element.fireEvent("onchange")},d.prototype.handleChange=function(){var a=this,b=this.element;b.addEventListener?b.addEventListener("change",function(){a.setPosition()}):b.attachEvent("onchange",function(){a.setPosition()})},d.prototype.handleClick=function(){var a=this.switcher;f(a),this.events.bind("click","bindClick")},d.prototype.bindClick=function(){var a=this.element.parentNode.tagName.toLowerCase(),b="label"!==a;this.setPosition(b),this.handleOnchange(this.element.checked)},d.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},d.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},d.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},d.prototype.isChecked=function(){return this.element.checked},d.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},d.prototype.destroy=function(){this.events.unbind()},d.prototype.enable=function(){this.options.disabled&&(this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick"))},d.prototype.disable=function(){this.options.disabled||(this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy())}}),"object"==typeof exports?module.exports=a("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return a("switchery")}):(this||window).Switchery=a("switchery")}(),function(){function a(a){return document.createElementNS(l,a)}function b(a){return(10>a?"0":"")+a}function c(a){var b=++v+"";return a?a+b:b}function d(a){return a>11?"PM":"AM"}function e(){}function f(d,e){function f(a,b){var c=l.offset(),d=/^touch/.test(a.type),f=c.left+w,i=c.top+w,j=(d?a.originalEvent.touches[0]:a).pageX-f,n=(d?a.originalEvent.touches[0]:a).pageY-i,o=Math.sqrt(j*j+n*n),p=!1;if(!b||!(x-z>o||o>x+z)){a.preventDefault();var s=setTimeout(function(){h.addClass("jqclockpicker-moving")},200);m&&l.append(v.canvas),v.setHand(j,n,!b,!0),k.off(q).on(q,function(a){a.preventDefault();var b=/^touch/.test(a.type),c=(b?a.originalEvent.touches[0]:a).pageX-f,d=(b?a.originalEvent.touches[0]:a).pageY-i;(p||c!==j||d!==n)&&(p=!0,v.setHand(c,d,!1,!0))}),k.off(r).on(r,function(a){k.off(r),a.preventDefault();var c=!1,d=!1;"hours"===v.currentView?(g(v.options.beforeHourSelect),c=!0):(g(v.options.beforeMinuteSelect),d=!0);var m=/^touch/.test(a.type),o=(m?a.originalEvent.changedTouches[0]:a).pageX-f,t=(m?a.originalEvent.changedTouches[0]:a).pageY-i;(b||p)&&o===j&&t===n&&v.setHand(o,t),"hours"===v.currentView?v.toggleView("minutes",B/2):e.autoClose&&(v.minutesView.addClass("jqclockpicker-dial-out"),setTimeout(function(){v.done()},B/2)),l.prepend(L),clearTimeout(s),h.removeClass("jqclockpicker-moving"),k.off(q),c&&g(v.options.afterHourSelect),d&&g(v.options.afterMinuteSelect)})}}var j=i(e.template),l=j.find(".jqclockpicker-plate"),n=j.find(".jqclockpicker-hours"),o=j.find(".jqclockpicker-minutes"),s=j.find(".jqclockpicker-am-pm-block"),t="INPUT"===d.prop("tagName"),u=t?d:d.find("input"),v=this;if(this.id=c("jqcp"),this.element=d,this.options=e,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=t,this.input=u,this.template=j,this.plate=l,this.hoursView=n,this.minutesView=o,this.amPmBlock=s,this.hoursLabel=j.find(".jqclockpicker-hours-label"),this.minutesLabel=j.find(".jqclockpicker-minutes-label"),this.spanAmPm=j.find(".jqclockpicker-span-am-pm"),this.amOrPm="PM",this.lastVal,"12h"===e.format){var C=['<div class="jqclockpicker-am-button jqclockpicker-clickable">AM</div>','<div class="jqclockpicker-pm-button jqclockpicker-clickable">PM</div>'].join(""),D=i(C);this.amPmBlock.on("click",".jqclockpicker-am-button",function(){v.amOrPm="AM",v.amPmBlock.find(".jqclockpicker-am-button").addClass("jqclockpicker-active"),v.amPmBlock.find(".jqclockpicker-pm-button").removeClass("jqclockpicker-active"),v._checkTimeLimits()}),this.amPmBlock.on("click",".jqclockpicker-pm-button",function(){v.amOrPm="PM",v.amPmBlock.find(".jqclockpicker-pm-button").addClass("jqclockpicker-active"),v.amPmBlock.find(".jqclockpicker-am-button").removeClass("jqclockpicker-active"),v._checkTimeLimits()}),D.appendTo(this.amPmBlock)}if(!e.autoClose){if(e.appendActions){var E=['<div class="jqclockpicker-footer">','<div class="jqclockpicker-actions">','<button type="button" class="jqclockpicker-cancel-button jqclockpicker-button jqclockpicker-clickable">'+e.cancelText+"</button>",'<button type="button" class="jqclockpicker-ok-button jqclockpicker-button jqclockpicker-clickable">'+e.okText+"</button>","</div>","</div>"].join("");i(E).appendTo(j)}j.on("click",".jqclockpicker-ok-button",i.proxy(this.done,this)),j.on("click",".jqclockpicker-cancel-button",i.proxy(this.hide,this))}j.addClass("jqclockpicker-position-"+e.position),j.addClass("jqclockpicker-align-"+e.alignment),this.hoursLabel.click(i.proxy(this.toggleView,this,"hours")),this.minutesLabel.click(i.proxy(this.toggleView,this,"minutes")),u.on("focus.jqclockpicker click.jqclockpicker",i.proxy(this.show,this)),u.on("keyup",i.proxy(this._doKeyUp,this)),u.on("blur",i.proxy(function(){this.options.autoClose&&this._updateInput()},this));var F,G,H,I,J=i('<div class="jqclockpicker-tick"></div>');if("12h"===e.format)for(F=1;13>F;F+=1)G=J.clone(),H=F/6*Math.PI,I=x,G.css("font-size","115%"),G.css({left:w+Math.sin(H)*I-z,top:w-Math.cos(H)*I-z}),G.html(0===F?"00":F),n.append(G),G.on(p,f);else for(F=0;24>F;F+=1){G=J.clone(),H=F/6*Math.PI;var K=F>0&&13>F;I=K?y:x,G.css({left:w+Math.sin(H)*I-z,top:w-Math.cos(H)*I-z}),K&&G.css("font-size","115%"),G.html(0===F?"00":F),n.append(G),G.on(p,f)}for(F=0;60>F;F+=5)G=J.clone(),H=F/30*Math.PI,G.css({left:w+Math.sin(H)*x-z,top:w-Math.cos(H)*x-z}),G.css("font-size","115%"),G.html(b(F)),o.append(G),G.on(p,f);if(l.on(p,function(a){0===i(a.target).closest(".jqclockpicker-tick").length&&f(a,!0)}),m){var L=j.find(".jqclockpicker-canvas"),M=a("svg");M.setAttribute("class","jqclockpicker-svg"),M.setAttribute("width",A),M.setAttribute("height",A);var N=a("g");N.setAttribute("transform","translate("+w+","+w+")");var O=a("circle");O.setAttribute("class","jqclockpicker-canvas-bearing"),O.setAttribute("cx",0),O.setAttribute("cy",0),O.setAttribute("r",2);var P=a("line");P.setAttribute("x1",0),P.setAttribute("y1",0);var Q=a("circle");Q.setAttribute("class","jqclockpicker-canvas-bg"),Q.setAttribute("r",z);var R=a("circle");R.setAttribute("class","jqclockpicker-canvas-fg"),R.setAttribute("r",3.5),N.appendChild(P),N.appendChild(R),N.appendChild(Q),N.appendChild(O),M.appendChild(N),L.append(M),this.hand=P,this.bg=Q,this.fg=R,this.bearing=O,this.g=N,this.canvas=L}g(this.options.init)}function g(a){a&&"function"==typeof a&&a()}var h,i=window.jQuery,j=i(window),k=i(document),l="http://www.w3.org/2000/svg",m="SVGAngle"in window&&function(){var a,b=document.createElement("div");return b.innerHTML="<svg/>",a=(b.firstChild&&b.firstChild.namespaceURI)==l,b.innerHTML="",a}(),n=function(){var a=document.createElement("div").style;return"transition"in a||"WebkitTransition"in a||"MozTransition"in a||"msTransition"in a||"OTransition"in a}(),o="ontouchstart"in window,p="mousedown"+(o?" touchstart":""),q="mousemove.jqclockpicker"+(o?" touchmove.jqclockpicker":""),r="mouseup.jqclockpicker"+(o?" touchend.jqclockpicker":""),s=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,t=['<div class="jqclockpicker-container">','<div class="jqclockpicker-header">','<div class="jqclockpicker-time">','<span class="jqclockpicker-hours-label jqclockpicker-clickable"></span>','<span class="jqclockpicker-label-separator">:</span>','<span class="jqclockpicker-minutes-label jqclockpicker-clickable"></span>',"</div>",'<div class="jqclockpicker-am-pm-block"></div>',"</div>",'<div class="jqclockpicker-body">','<div class="jqclockpicker-plate">','<div class="jqclockpicker-canvas"></div>','<div class="jqclockpicker-dial jqclockpicker-hours"></div>','<div class="jqclockpicker-dial jqclockpicker-minutes jqclockpicker-dial-out"></div>',"</div>","</div>","</div>"].join(""),u=function(a,b,c){this.hours=a||0,this.minutes=b||0,this.amOrPm=c||"AM"};f.DEFAULTS={autoClose:!0,appendActions:!0,format:"24h",okText:"OK",cancelText:"Cancel",defaultTime:"",timeFromNow:0,minTime:null,vibrate:!0,position:"bottom",alignment:"left",template:t,beforeShow:e,afterShow:e,beforeHide:e,afterHide:e,beforeShowHours:e,afterShowHours:e,beforeShowMinutes:e,afterShowMinutes:e,beforeHourSelect:e,afterHourSelect:e,beforeMinuteSelect:e,afterMinuteSelect:e,beforeDone:e,afterDone:e};var v=0,w=100,x=83,y=60,z=13,A=2*w,B=n?350:1;i.extend(f.prototype,{toggle:function(){this[this.isShown?"hide":"show"]()},locate:function(){var a=this.element,b=this.template,c=a.offset(),d=a.outerWidth(),e=a.outerHeight(),f=this.options.position,g=this.options.alignment,h={};switch(b.show(),f){case"bottom":h.top=c.top+e;break;case"right":h.left=c.left+d;break;case"top":h.top=c.top-b.outerHeight();break;case"left":h.left=c.left-b.outerWidth()}switch(g){case"left":h.left=c.left;break;case"right":h.left=c.left+d-b.outerWidth()}b.css(h)},show:function(a){if(!this.isShown){g(this.options.beforeShow);var b=this;this.isAppended||(h=i(document.body).append(this.template),j.on("resize.jqclockpicker"+this.id,function(){b.isShown&&b.locate()}),this.isAppended=!0);var c=this.input.prop("value")||this.options.defaultTime||"",d=this._parseTime(c,this.options.timeFromNow);this._setTime(d),this._updateLabels(),this.toggleView("hours"),this.locate(),this.isShown=!0,k.on("click.jqclockpicker."+this.id+" focusin.jqclockpicker."+this.id,function(a){var c=i(a.target);0===c.closest(b.template).length&&0===c.closest(b.input).length&&b.hide()}),k.on("keyup.jqclockpicker."+this.id,function(a){27===a.keyCode&&b.hide()}),g(this.options.afterShow)}},setTime:function(a){this._setTime(this._parseTime(a))},hide:function(){g(this.options.beforeHide),this.isShown=!1,k.off("click.jqclockpicker."+this.id+" focusin.jqclockpicker."+this.id),k.off("keyup.jqclockpicker."+this.id),this.template.hide(),g(this.options.afterHide)},toggleView:function(a,b){var c=!1,d=!1;"hours"===a&&(g(this.options.beforeShowHours),c=!0),"minutes"===a&&(g(this.options.beforeShowMinutes),d=!0);var e="hours"===a,f=e?this.hoursView:this.minutesView,h=e?this.minutesView:this.hoursView;this.currentView=a,this._checkTimeLimits(),this.hoursLabel.toggleClass("jqclockpicker-active",e),this.minutesLabel.toggleClass("jqclockpicker-active",!e),h.addClass("jqclockpicker-dial-out"),f.css("visibility","visible").removeClass("jqclockpicker-dial-out"),this.resetClock(b),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){h.css("visibility","hidden")},B),c&&g(this.options.afterShowHours),d&&g(this.options.afterShowMinutes)},resetClock:function(a){var b=this.currentView,c=this[b],d="hours"===b,e=Math.PI/(d?6:30),f=c*e,g=d&&c>0&&13>c?y:x,h=Math.sin(f)*g,i=-Math.cos(f)*g,j=this;m&&a?(j.canvas.addClass("jqclockpicker-canvas-out"),setTimeout(function(){j.canvas.removeClass("jqclockpicker-canvas-out"),j.setHand(h,i)},a)):this.setHand(h,i)},setHand:function(a,c,d,e){var f,g=Math.atan2(a,-c),h="hours"===this.currentView,j=Math.PI/(h||d?6:30),k=Math.sqrt(a*a+c*c),l=this.options,n=h&&(x+y)/2>k,o=n?y:x;"12h"===l.format&&(o=x),0>g&&(g=2*Math.PI+g),f=Math.round(g/j),g=f*j,"12h"===l.format?h?0===f&&(f=12):(d&&(f*=5),60===f&&(f=0)):h?(12===f&&(f=0),f=n?0===f?12:f:0===f?0:f+12):(d&&(f*=5),60===f&&(f=0));var p=this._parseTime(this.options.minTime);if(h){if(f<p.hours)return}else{var q=this.hours;if("12h"===this.options.format&&"PM"===this.amOrPm&&(q+=12),q<=p.hours&&f<p.minutes)return}if(this[this.currentView]!==f&&s&&this.options.vibrate&&(this.vibrateTimer||(navigator[s](10),this.vibrateTimer=setTimeout(i.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=f,this[h?"hoursLabel":"minutesLabel"].html(b(f)),this[h?"hoursView":"minutesView"].find(".jqclockpicker-tick").each(function(){var a=i(this);a.toggleClass("jqclockpicker-tick-active",f===+a.html())}),m){var r=Math.sin(g)*o,t=-Math.cos(g)*o,u=Math.sin(g)*(o-this.bg.getAttribute("r")),v=-Math.cos(g)*(o-this.bg.getAttribute("r"));return this.hand.setAttribute("x2",u),this.hand.setAttribute("y2",v),this.bg.setAttribute("cx",r),this.bg.setAttribute("cy",t),this.fg.setAttribute("visibility","hidden"),this.bg.setAttribute("class","jqclockpicker-canvas-bg"),!h&&f%5&&(this.fg.setAttribute("cx",r),this.fg.setAttribute("cy",t),this.fg.setAttribute("visibility","visible")),e?this.g.insertBefore(this.hand,this.bearing):this.g.insertBefore(this.hand,this.bg),!0}},done:function(){g(this.options.beforeDone),this.hide(),this._updateInput(),this.options.autoClose&&this.input.trigger("blur"),g(this.options.afterDone)},remove:function(){this.element.removeData("jqclockpicker"),this.input.off("focus.jqclockpicker click.jqclockpicker").off("keyup",this._doKeyUp),this.isShown&&this.hide(),this.isAppended&&(j.off("resize.jqclockpicker"+this.id),this.template.remove())},_updateLabels:function(){this.hoursLabel.html(b(this.hours)),this.minutesLabel.html(b(this.minutes)),"12h"===this.options.format&&("AM"===this.amOrPm?(this.amPmBlock.find(".jqclockpicker-am-button").addClass("jqclockpicker-active"),this.amPmBlock.find(".jqclockpicker-pm-button").removeClass("jqclockpicker-active")):(this.amPmBlock.find(".jqclockpicker-pm-button").addClass("jqclockpicker-active"),this.amPmBlock.find(".jqclockpicker-am-button").removeClass("jqclockpicker-active")))},_parseTime:function(a,b){var c,e,f;if("now"===(a+"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")){var g=new Date(+new Date+(b||0));c=g.getHours(),e=g.getMinutes(),f=d(this.hours)}else{var h=(a+"").replace(/^\s\s*/,"").replace(/\s\s*$/,"").toUpperCase(),i=h.match(/^([0-9]|0[0-9]|1[0-9]|2[0-3])(?::)?(?:(?::)([0-5][0-9])\s*(AM|PM)?)?$/);i?(c=i[1]?+i[1]:0,e=i[2]?+i[2]:0,f=i[3]||null):(c=0,e=0)}return new u(c,e,f)},_setTime:function(a){this.hours=a.hours,this.minutes=a.minutes,this.amOrPm=a.amOrPm,this._checkTimeLimits(),this._updateLabels(),this.resetClock()},_checkTimeLimits:function(){this._checkMinTime()},_checkMinTime:function(){var a=this,b=this._parseTime(this.options.minTime),c=this.hours;"12h"===a.options.format&&"PM"===a.amOrPm&&(c+=12),(c<b.hours||c==b.hours&&this.minutes<b.minutes)&&(this.hours=b.hours,this.minutes=b.minutes);var d="hours"==this.currentView;if(d)this[d?"hoursView":"minutesView"].find(".jqclockpicker-tick").each(function(){var c=i(this),d=parseInt(c.html());"12h"===a.options.format&&"PM"===a.amOrPm&&(d+=12),c.toggleClass("disabled",d<b.hours)});else{var c=this.hours;"12h"===a.options.format&&"PM"===a.amOrPm&&(c+=12),
c<=b.hours?this[d?"hoursView":"minutesView"].find(".jqclockpicker-tick").each(function(){var a=i(this);a.toggleClass("disabled",a.html()<b.minutes)}):this.minutesView.find(".jqclockpicker-tick").removeClass("disabled")}},_updateInput:function(){if(this.hasOwnProperty("hours")&&this.hasOwnProperty("minutes")){var a=this.input.prop("value"),c=b(this.hours)+":"+b(this.minutes);"12h"===this.options.format&&(c+=this.amOrPm),this.input.prop("value",c),this.lastVal=this.input.prop("value"),c!==a&&(this.input.trigger("change"),this.input.triggerHandler("change"),this.isInput||this.element.trigger("change"))}},_doKeyUp:function(a){return this.input.val()!==this.lastVal&&this.setTime(this.input.val()),!0},_setOption:function(a,b){a in f.DEFAULTS&&(this.options[a]="default"===b?f.DEFAULTS[a]:b,this._checkTimeLimits(),this._updateInput())}}),i.fn.jqclockpicker=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=i(this),d=c.data("jqclockpicker");if(d)"option"===a&&2===b.length&&"string"==typeof b[1]?d._setOption.apply(d,b):"function"==typeof d[a]&&d[a].apply(d,b);else{var e=i.extend({},f.DEFAULTS,c.data(),"object"==typeof a&&a);c.data("jqclockpicker",new f(c,e))}})}}(),function(a,b){if("function"==typeof define&&define.amd)define(["jquery","jquery-asColor","jquery-asGradient"],b);else if("undefined"!=typeof exports)b(require("jquery"),require("jquery-asColor"),require("jquery-asGradient"));else{var c={exports:{}};b(a.jQuery,a.AsColor,a.AsGradient),a.jqueryAsColorPickerEs=c.exports}}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){}function g(a){return a<0?a=0:a>1&&(a=1),100*a+"%"}function h(a){a.id=C,C++}var i=d(a),j=d(b),k=d(c),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m={namespace:"asColorPicker",readonly:!1,skin:null,lang:"en",hideInput:!1,hideFireChange:!0,keyboard:!1,color:{format:!1,alphaConvert:{RGB:"RGBA",HSL:"HSLA",HEX:"RGBA",NAMESPACE:"RGBA"},shortenHex:!1,hexUseName:!1,reduceAlpha:!0,nameDegradation:"HEX",invalidValue:"",zeroAlphaAsTransparent:!0},mode:"simple",onInit:null,onReady:null,onChange:null,onClose:null,onOpen:null,onApply:null},n={simple:{trigger:!0,clear:!0,saturation:!0,hue:!0,alpha:!0},palettes:{trigger:!0,clear:!0,palettes:!0},complex:{trigger:!0,clear:!0,preview:!0,palettes:!0,saturation:!0,hue:!0,alpha:!0,hex:!0,buttons:!0},gradient:{trigger:!0,clear:!0,preview:!0,palettes:!0,saturation:!0,hue:!0,alpha:!0,hex:!0,gradient:!0}},o={size:150,defaults:{direction:"vertical",template:function(a){return'<div class="'+a+"-alpha "+a+"-alpha-"+this.direction+'"><i></i></div>'}},data:{},init:function(a,b){var c=this;this.options=$.extend(this.defaults,b),c.direction=this.options.direction,this.api=a,this.$alpha=$(this.options.template.call(c,a.namespace)).appendTo(a.$dropdown),this.$handle=this.$alpha.find("i"),a.$element.on("asColorPicker::firstOpen",function(){"vertical"===c.direction?c.size=c.$alpha.height():c.size=c.$alpha.width(),c.step=c.size/360,c.bindEvents(),c.keyboard()}),a.$element.on("asColorPicker::update asColorPicker::setup",function(a,b,d){c.update(d)})},bindEvents:function(){var a=this;this.$alpha.on(this.api.eventName("mousedown"),function(b){if(b.which?3===b.which:2===b.button)return!1;$.proxy(a.mousedown,a)(b)})},mousedown:function(a){var b=this.$alpha.offset();return"vertical"===this.direction?(this.data.startY=a.pageY,this.data.top=a.pageY-b.top,this.move(this.data.top)):(this.data.startX=a.pageX,this.data.left=a.pageX-b.left,this.move(this.data.left)),this.mousemove=function(a){var b=void 0;return b="vertical"===this.direction?this.data.top+(a.pageY||this.data.startY)-this.data.startY:this.data.left+(a.pageX||this.data.startX)-this.data.startX,this.move(b),!1},this.mouseup=function(){return $(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),"vertical"===this.direction?this.data.top=this.data.cach:this.data.left=this.data.cach,!1},$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),!1},move:function(a,b,c){a=Math.max(0,Math.min(this.size,a)),this.data.cach=a,void 0===b&&(b=1-a/this.size),b=Math.max(0,Math.min(1,b)),"vertical"===this.direction?this.$handle.css({top:a}):this.$handle.css({left:a}),!1!==c&&this.api.set({a:Math.round(100*b)/100})},moveLeft:function(){var a=this.step,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left-a)),this.move(b.left)},moveRight:function(){var a=this.step,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left+a)),this.move(b.left)},moveUp:function(){var a=this.step,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top-a)),this.move(b.top)},moveDown:function(){var a=this.step,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top+a)),this.move(b.top)},keyboard:function(){var a=void 0,b=this;if(!this.api._keyboard)return!1;a=$.extend(!0,{},this.api._keyboard),this.$alpha.attr("tabindex","0").on("focus",function(){return"vertical"===this.direction?a.attach({up:function(){b.moveUp()},down:function(){b.moveDown()}}):a.attach({left:function(){b.moveLeft()},right:function(){b.moveRight()}}),!1}).on("blur",function(){a.detach()})},update:function(a){var b=this.size*(1-a.value.a);this.$alpha.css("backgroundColor",a.toHEX()),this.move(b,a.value.a,!1)},destroy:function(){$(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}},p={init:function(a){var b='<input type="text" class="'+a.namespace+'-hex" />';this.$hex=$(b).appendTo(a.$dropdown),this.$hex.on("change",function(){a.set(this.value)});var c=this;a.$element.on("asColorPicker::update asColorPicker::setup",function(a,b,d){c.update(d)})},update:function(a){this.$hex.val(a.toHEX())}},q={size:150,defaults:{direction:"vertical",template:function(){var a=this.api.namespace;return'<div class="'+a+"-hue "+a+"-hue-"+this.direction+'"><i></i></div>'}},data:{},init:function(a,b){var c=this;this.options=$.extend(this.defaults,b),this.direction=this.options.direction,this.api=a,this.$hue=$(this.options.template.call(c)).appendTo(a.$dropdown),this.$handle=this.$hue.find("i"),a.$element.on("asColorPicker::firstOpen",function(){"vertical"===c.direction?c.size=c.$hue.height():c.size=c.$hue.width(),c.step=c.size/360,c.bindEvents(a),c.keyboard(a)}),a.$element.on("asColorPicker::update asColorPicker::setup",function(a,b,d){c.update(d)})},bindEvents:function(){var a=this;this.$hue.on(this.api.eventName("mousedown"),function(b){if(b.which?3===b.which:2===b.button)return!1;$.proxy(a.mousedown,a)(b)})},mousedown:function(a){var b=this.$hue.offset();return"vertical"===this.direction?(this.data.startY=a.pageY,this.data.top=a.pageY-b.top,this.move(this.data.top)):(this.data.startX=a.pageX,this.data.left=a.pageX-b.left,this.move(this.data.left)),this.mousemove=function(a){var b=void 0;return b="vertical"===this.direction?this.data.top+(a.pageY||this.data.startY)-this.data.startY:this.data.left+(a.pageX||this.data.startX)-this.data.startX,this.move(b),!1},this.mouseup=function(){return $(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),"vertical"===this.direction?this.data.top=this.data.cach:this.data.left=this.data.cach,!1},$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),!1},move:function(a,b,c){a=Math.max(0,Math.min(this.size,a)),this.data.cach=a,void 0===b&&(b=360*(1-a/this.size)),b=Math.max(0,Math.min(360,b)),"vertical"===this.direction?this.$handle.css({top:a}):this.$handle.css({left:a}),!1!==c&&this.api.set({h:b})},moveLeft:function(){var a=this.step,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left-a)),this.move(b.left)},moveRight:function(){var a=this.step,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left+a)),this.move(b.left)},moveUp:function(){var a=this.step,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top-a)),this.move(b.top)},moveDown:function(){var a=this.step,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top+a)),this.move(b.top)},keyboard:function(){var a=void 0,b=this;if(!this.api._keyboard)return!1;a=$.extend(!0,{},this.api._keyboard),this.$hue.attr("tabindex","0").on("focus",function(){return"vertical"===this.direction?a.attach({up:function(){b.moveUp()},down:function(){b.moveDown()}}):a.attach({left:function(){b.moveLeft()},right:function(){b.moveRight()}}),!1}).on("blur",function(){a.detach()})},update:function(a){var b=0===a.value.h?0:this.size*(1-a.value.h/360);this.move(b,a.value.h,!1)},destroy:function(){$(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}},r={defaults:{template:function(a){return'<div class="'+a+'-saturation"><i><b></b></i></div>'}},width:0,height:0,size:6,data:{},init:function(a,b){var c=this;this.options=$.extend(this.defaults,b),this.api=a,this.$saturation=$(this.options.template.call(c,a.namespace)).appendTo(a.$dropdown),this.$handle=this.$saturation.find("i"),a.$element.on("asColorPicker::firstOpen",function(){c.width=c.$saturation.width(),c.height=c.$saturation.height(),c.step={left:c.width/20,top:c.height/20},c.size=c.$handle.width()/2,c.bindEvents(),c.keyboard(a)}),a.$element.on("asColorPicker::update asColorPicker::setup",function(a,b,d){c.update(d)})},bindEvents:function(){var a=this;this.$saturation.on(this.api.eventName("mousedown"),function(b){if(b.which?3===b.which:2===b.button)return!1;a.mousedown(b)})},mousedown:function(a){var b=this.$saturation.offset();return this.data.startY=a.pageY,this.data.startX=a.pageX,this.data.top=a.pageY-b.top,this.data.left=a.pageX-b.left,this.data.cach={},this.move(this.data.left,this.data.top),this.mousemove=function(a){var b=this.data.left+(a.pageX||this.data.startX)-this.data.startX,c=this.data.top+(a.pageY||this.data.startY)-this.data.startY;return this.move(b,c),!1},this.mouseup=function(){return $(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.data.left=this.data.cach.left,this.data.top=this.data.cach.top,!1},$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),!1},move:function(a,b,c){b=Math.max(0,Math.min(this.height,b)),a=Math.max(0,Math.min(this.width,a)),void 0===this.data.cach&&(this.data.cach={}),this.data.cach.left=a,this.data.cach.top=b,this.$handle.css({top:b-this.size,left:a-this.size}),!1!==c&&this.api.set({s:a/this.width,v:1-b/this.height})},update:function(a){void 0===a.value.h&&(a.value.h=0),this.$saturation.css("backgroundColor",j.default.HSLtoHEX({h:a.value.h,s:1,l:.5}));var b=a.value.s*this.width,c=(1-a.value.v)*this.height;this.move(b,c,!1)},moveLeft:function(){var a=this.step.left,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left-a)),this.move(b.left,b.top)},moveRight:function(){var a=this.step.left,b=this.data;b.left=Math.max(0,Math.min(this.width,b.left+a)),this.move(b.left,b.top)},moveUp:function(){var a=this.step.top,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top-a)),this.move(b.left,b.top)},moveDown:function(){var a=this.step.top,b=this.data;b.top=Math.max(0,Math.min(this.width,b.top+a)),this.move(b.left,b.top)},keyboard:function(){var a=void 0,b=this;if(!this.api._keyboard)return!1;a=$.extend(!0,{},this.api._keyboard),this.$saturation.attr("tabindex","0").on("focus",function(){return a.attach({left:function(){b.moveLeft()},right:function(){b.moveRight()},up:function(){b.moveUp()},down:function(){b.moveDown()}}),!1}).on("blur",function(){a.detach()})},destroy:function(){$(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}},s={defaults:{apply:!1,cancel:!0,applyText:null,cancelText:null,template:function(a){return'<div class="'+a+'-buttons"></div>'},applyTemplate:function(a){return'<a href="#" alt="'+this.options.applyText+'" class="'+a+'-buttons-apply">'+this.options.applyText+"</a>"},cancelTemplate:function(a){return'<a href="#" alt="'+this.options.cancelText+'" class="'+a+'-buttons-apply">'+this.options.cancelText+"</a>"}},init:function(a,b){var c=this;this.options=$.extend(this.defaults,{applyText:a.getString("applyText","apply"),cancelText:a.getString("cancelText","cancel")},b),this.$buttons=$(this.options.template.call(this,a.namespace)).appendTo(a.$dropdown),a.$element.on("asColorPicker::firstOpen",function(){c.options.apply&&(c.$apply=$(c.options.applyTemplate.call(c,a.namespace)).appendTo(c.$buttons).on("click",function(){return a.apply(),!1})),c.options.cancel&&(c.$cancel=$(c.options.cancelTemplate.call(c,a.namespace)).appendTo(c.$buttons).on("click",function(){return a.cancel(),!1}))})}},t={defaults:{template:function(a){return'<div class="'+a+'-trigger"><span></span></div>'}},init:function(a,b){this.options=$.extend(this.defaults,b),a.$trigger=$(this.options.template.call(this,a.namespace)),this.$triggerInner=a.$trigger.children("span"),a.$trigger.insertAfter(a.$element),a.$trigger.on("click",function(){return a.opened?a.close():a.open(),!1});var c=this;a.$element.on("asColorPicker::update",function(a,b,d,e){void 0===e&&(e=!1),c.update(d,e)}),this.update(a.color)},update:function(a,b){b?this.$triggerInner.css("background",b.toString(!0)):this.$triggerInner.css("background",a.toRGBA())},destroy:function(a){a.$trigger.remove()}},u={defaults:{template:function(a){return'<a href="#" class="'+a+'-clear"></a>'}},init:function(a,b){a.options.hideInput||(this.options=$.extend(this.defaults,b),this.$clear=$(this.options.template.call(this,a.namespace)).insertAfter(a.$element),this.$clear.on("click",function(){return a.clear(),!1}))}},v={color:["white","black","transparent"],init:function(a){var b='<ul class="'+a.namespace+'-info"><li><label>R:<input type="text" data-type="r"/></label></li><li><label>G:<input type="text" data-type="g"/></label></li><li><label>B:<input type="text" data-type="b"/></label></li><li><label>A:<input type="text" data-type="a"/></label></li></ul>';this.$info=$(b).appendTo(a.$dropdown),this.$r=this.$info.find('[data-type="r"]'),this.$g=this.$info.find('[data-type="g"]'),this.$b=this.$info.find('[data-type="b"]'),this.$a=this.$info.find('[data-type="a"]'),this.$info.on(a.eventName("keyup update change"),"input",function(b){var c=void 0,d=$(b.target).data("type");switch(d){case"r":case"g":case"b":c=parseInt(this.value,10),c>255?c=255:c<0&&(c=0);break;case"a":c=parseFloat(this.value,10),c>1?c=1:c<0&&(c=0)}isNaN(c)&&(c=0);var e={};e[d]=c,a.set(e)});var c=this;a.$element.on("asColorPicker::update asColorPicker::setup",function(a,b){c.update(b)})},update:function(a){this.$r.val(a.value.r),this.$g.val(a.value.g),this.$b.val(a.value.b),this.$a.val(a.value.a)}};window.localStorage||(window.localStorage=f);var w={defaults:{template:function(a){return'<ul class="'+a+'-palettes"></ul>'},item:function(a,b){return'<li data-color="'+b+'"><span style="background-color:'+b+'" /></li>'},colors:["white","black","red","blue","yellow"],max:10,localStorage:!0},init:function(a,b){var c=this,d=void 0,e=(0,j.default)();this.options=$.extend(!0,{},this.defaults,b),this.colors=[];var f=void 0;this.options.localStorage?(f=a.namespace+"_palettes_"+a.id,(d=this.getLocal(f))||(d=this.options.colors,this.setLocal(f,d))):d=this.options.colors;for(var g in d)Object.hasOwnProperty.call(d,g)&&this.colors.push(e.val(d[g]).toRGBA());var h="";$.each(this.colors,function(b,d){h+=c.options.item(a.namespace,d)}),this.$palettes=$(this.options.template.call(this,a.namespace)).html(h).appendTo(a.$dropdown),this.$palettes.on(a.eventName("click"),"li",function(b){var c=$(this).data("color");a.set(c),b.preventDefault(),b.stopPropagation()}),a.$element.on("asColorPicker::apply",function(a,b,d){"function"!=typeof d.toRGBA&&(d=d.get().color);var e=d.toRGBA();-1===$.inArray(e,c.colors)&&(c.colors.length>=c.options.max&&(c.colors.shift(),c.$palettes.find("li").eq(0).remove()),c.colors.push(e),c.$palettes.append(c.options.item(b.namespace,d)),c.options.localStorage&&c.setLocal(f,c.colors))})},setLocal:function(a,b){var c=JSON.stringify(b);localStorage[a]=c},getLocal:function(a){var b=localStorage[a];return b?JSON.parse(b):b}},x={defaults:{template:function(a){return'<ul class="'+a+'-preview"><li class="'+a+'-preview-current"><span /></li><li class="'+a+'-preview-previous"><span /></li></ul>'}},init:function(a,b){var c=this;this.options=$.extend(this.defaults,b),this.$preview=$(this.options.template.call(c,a.namespace)).appendTo(a.$dropdown),this.$current=this.$preview.find("."+a.namespace+"-preview-current span"),this.$previous=this.$preview.find("."+a.namespace+"-preview-previous span"),a.$element.on("asColorPicker::firstOpen",function(){c.$previous.on("click",function(){return a.set($(this).data("color")),!1})}),a.$element.on("asColorPicker::setup",function(a,b,d){c.updateCurrent(d),c.updatePreview(d)}),a.$element.on("asColorPicker::update",function(a,b,d){c.updateCurrent(d)})},updateCurrent:function(a){this.$current.css("backgroundColor",a.toRGBA())},updatePreview:function(a){this.$previous.css("backgroundColor",a.toRGBA()),this.$previous.data("color",{r:a.value.r,g:a.value.g,b:a.value.b,a:a.value.a})}},y=function(a,b){this.api=a,this.options=b,this.classes={enable:a.namespace+"-gradient_enable",marker:a.namespace+"-gradient-marker",active:a.namespace+"-gradient-marker_active",focus:a.namespace+"-gradient_focus"},this.isEnabled=!1,this.initialized=!1,this.current=null,this.value=(0,k.default)(this.options.settings),this.$doc=$(document);var c=this;$.extend(c,{init:function(){c.$wrap=$(c.options.template.call(c)).appendTo(a.$dropdown),c.$gradient=c.$wrap.filter("."+a.namespace+"-gradient"),this.angle.init(),this.preview.init(),this.markers.init(),this.wheel.init(),this.bind(),(!1===c.options.switchable||this.value.matchString(a.element.value))&&c.enable(),this.initialized=!0},bind:function(){var b=a.namespace;c.$gradient.on("update",function(){var b=c.value.getById(c.current);b&&a._trigger("update",b.color,c.value),a.element.value!==c.value.toString()&&a._updateInput()}),c.options.switchable&&c.$wrap.on("click","."+b+"-gradient-switch",function(){return c.isEnabled?c.disable():c.enable(),!1}),c.$wrap.on("click","."+b+"-gradient-cancel",function(){return(!1===c.options.switchable||k.default.matchString(a.originValue))&&c.overrideCore(),a.cancel(),!1})},overrideCore:function(){a.set=function(b){if(a.isEmpty=""===b,"string"==typeof b)!1===c.options.switchable||k.default.matchString(b)?c.isEnabled?(c.val(b),a.color=c.value,c.$gradient.trigger("update",c.value.value)):c.enable(b):(c.disable(),a.val(b));else{var d=c.value.getById(c.current);d&&(d.color.val(b),a._trigger("update",d.color,c.value)),c.$gradient.trigger("update",{id:c.current,stop:d})}},a._setup=function(){var b=c.value.getById(c.current);a._trigger("setup",b.color)}},revertCore:function(){a.set=$.proxy(a._set,a),a._setup=function(){a._trigger("setup",a.color)}},preview:{init:function(){var b=this;c.$preview=c.$gradient.find("."+a.namespace+"-gradient-preview"),c.$gradient.on("add del update empty",function(){b.render()})},render:function(){c.$preview.css({"background-image":c.value.toStringWithAngle("to right",!0)}),c.$preview.css({"background-image":c.value.toStringWithAngle("to right")})}},markers:{width:160,init:function(){var b=this;c.$markers=c.$gradient.find("."+a.namespace+"-gradient-markers").attr("tabindex",0),c.$gradient.on("add",function(a,c){b.add(c.stop)}),c.$gradient.on("active",function(a,c){b.active(c.id)}),c.$gradient.on("del",function(a,c){b.del(c.id)}),c.$gradient.on("update",function(a,c){c.stop&&b.update(c.stop.id,c.stop.color)}),c.$gradient.on("empty",function(){b.empty()}),c.$markers.on(c.api.eventName("mousedown"),function(a){if(a.which?3===a.which:2===a.button)return!1;var b=parseFloat((a.pageX-c.$markers.offset().left)/c.markers.width,10);return c.add("#fff",b),!1});var d=this;c.$markers.on(c.api.eventName("mousedown"),"li",function(a){return(a.which?3!==a.which:2!==a.button)&&(d.mousedown(this,a),!1)}),c.$doc.on(c.api.eventName("keydown"),function(a){if(c.api.opened&&c.$markers.is("."+c.classes.focus)){var b=a.keyCode||a.which;if(46===b||8===b)return!(c.value.length<=2)&&(c.del(c.current),!1)}}),c.$markers.on(c.api.eventName("focus"),function(){c.$markers.addClass(c.classes.focus)}).on(c.api.eventName("blur"),function(){c.$markers.removeClass(c.classes.focus)}),c.$markers.on(c.api.eventName("click"),"li",function(){var a=$(this).data("id");c.active(a)})},getMarker:function(a){return c.$markers.find('[data-id="'+a+'"]')},update:function(a,b){var c=this.getMarker(a);c.find("span").css("background-color",b.toHEX()),c.find("i").css("background-color",b.toHEX())},add:function(a){$('<li data-id="'+a.id+'" style="left:'+g(a.position)+'" class="'+c.classes.marker+'"><span style="background-color: '+a.color.toHEX()+'"></span><i style="background-color: '+a.color.toHEX()+'"></i></li>').appendTo(c.$markers)},empty:function(){c.$markers.html("")},del:function(a){var b=this.getMarker(a),d=b.prev();0===d.length&&(d=b.next()),c.active(d.data("id")),b.remove()},active:function(a){c.$markers.children().removeClass(c.classes.active),this.getMarker(a).addClass(c.classes.active),c.$markers.focus()},mousedown:function(a,b){var d=this,e=$(a).data("id"),f=$(a).position().left,g=b.pageX,h=void 0;return this.mousemove=function(b){h=b.pageX||g;var c=(f+h-g)/this.width;return d.move(a,c,e),!1},this.mouseup=function(){return $(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),!1},c.$doc.on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),c.active(e),!1},move:function(a,b,d){c.api.isEmpty=!1,b=Math.max(0,Math.min(1,b)),$(a).css({left:g(b)}),d||(d=$(a).data("id")),c.value.getById(d).setPosition(b),c.$gradient.trigger("update",{id:$(a).data("id"),position:b})}},wheel:{init:function(){var b=this;c.$wheel=c.$gradient.find("."+a.namespace+"-gradient-wheel"),c.$pointer=c.$wheel.find("i"),c.$gradient.on("update",function(a,c){void 0!==c.angle&&b.position(c.angle)}),c.$wheel.on(c.api.eventName("mousedown"),function(a){return(a.which?3!==a.which:2!==a.button)&&(b.mousedown(a,c),!1)})},mousedown:function(a,b){var c=this,d=b.$wheel.offset(),e=b.$wheel.width()/2,f=d.left+e,g=d.top+e,h=b.$doc;this.r=e,this.wheelMove=function(a){var d=a.pageX-f,e=g-a.pageY,h=c.getPosition(d,e),i=c.calAngle(h.x,h.y);b.api.isEmpty=!1,b.setAngle(i)},this.wheelMouseup=function(){return h.off({mousemove:this.wheelMove,mouseup:this.wheelMouseup}),!1},h.on({mousemove:$.proxy(this.wheelMove,this),mouseup:$.proxy(this.wheelMouseup,this)}),this.wheelMove(a)},getPosition:function(a,b){var c=this.r;return{x:a/Math.sqrt(a*a+b*b)*c,y:b/Math.sqrt(a*a+b*b)*c}},calAngle:function(a,b){var c=Math.round(Math.atan(Math.abs(a/b))*(180/Math.PI));return a<0&&b>0?360-c:a<0&&b<=0?c+180:a>=0&&b<=0?180-c:a>=0&&b>0?c:void 0},set:function(a){c.value.angle(a),c.$gradient.trigger("update",{angle:a})},position:function(a){var b=this.r||c.$wheel.width()/2,d=this.calPointer(a,b);c.$pointer.css({left:d.x,top:d.y})},calPointer:function(a,b){return{x:b+Math.sin(a*Math.PI/180)*b,y:b-Math.cos(a*Math.PI/180)*b}}},angle:{init:function(){c.$angle=c.$gradient.find("."+a.namespace+"-gradient-angle"),c.$angle.on(c.api.eventName("blur"),function(){return c.setAngle(this.value),!1}).on(c.api.eventName("keydown"),function(a){if(13===(a.keyCode||a.which))return c.api.isEmpty=!1,$(this).blur(),!1}),c.$gradient.on("update",function(a,b){void 0!==b.angle&&c.$angle.val(b.angle)})},set:function(a){c.value.angle(a),c.$gradient.trigger("update",{angle:a})}}}),this.init()};y.prototype={constructor:y,enable:function(a){!0!==this.isEnabled&&(this.isEnabled=!0,this.overrideCore(),this.$gradient.addClass(this.classes.enable),this.markers.width=this.$markers.width(),void 0===a&&(a=this.api.element.value),this.api.isEmpty=""===a,!k.default.matchString(a)&&this._last?this.value=this._last:this.val(a),this.api.color=this.value,this.$gradient.trigger("update",this.value.value),this.api.opened&&this.api.position())},val:function(a){if(""===a||this.value.toString()!==a){if(this.empty(),this.value.val(a),this.value.reorder(),this.value.length<2){var b=a;j.default.matchString(a)||(b="rgba(0,0,0,1)"),0===this.value.length&&this.value.append(b,0),1===this.value.length&&this.value.append(b,1)}for(var c=void 0,d=0;d<this.value.length;d++)(c=this.value.get(d))&&this.$gradient.trigger("add",{stop:c});this.active(c.id)}},disable:function(){!1!==this.isEnabled&&(this.isEnabled=!1,this.revertCore(),this.$gradient.removeClass(this.classes.enable),this._last=this.value,this.api.color=this.api.color.getCurrent().color,this.api.set(this.api.color.value),this.api.opened&&this.api.position())},active:function(a){this.current!==a&&(this.current=a,this.value.setCurrentById(a),this.$gradient.trigger("active",{id:a}))},empty:function(){this.value.empty(),this.$gradient.trigger("empty")},add:function(a,b){var c=this.value.insert(a,b);return this.api.isEmpty=!1,this.value.reorder(),this.$gradient.trigger("add",{stop:c}),this.active(c.id),this.$gradient.trigger("update",{stop:c}),c},del:function(a){this.value.length<=2||(this.value.removeById(a),this.value.reorder(),this.$gradient.trigger("del",{id:a}),this.$gradient.trigger("update",{}))},setAngle:function(a){this.value.angle(a),this.$gradient.trigger("update",{angle:a})}};var z={defaults:{switchable:!0,switchText:"Gradient",cancelText:"Cancel",settings:{forceStandard:!0,angleUseKeyword:!0,emptyString:"",degradationFormat:!1,cleanPosition:!1,color:{format:"rgb"}},template:function(){var a=this.api.namespace,b='<div class="'+a+'-gradient-control">';return this.options.switchable&&(b+='<a href="#" class="'+a+'-gradient-switch">'+this.options.switchText+"</a>"),(b+='<a href="#" class="'+a+'-gradient-cancel">'+this.options.cancelText+"</a></div>")+'<div class="'+a+'-gradient"><div class="'+a+'-gradient-preview"><ul class="'+a+'-gradient-markers"></ul></div><div class="'+a+'-gradient-wheel"><i></i></div><input class="'+a+'-gradient-angle" type="text" value="" size="3" /></div>'}},init:function(a,b){var c=this;a.$element.on("asColorPicker::ready",function(d,e){"gradient"===e.options.mode&&(c.defaults.settings.color=a.options.color,b=$.extend(!0,c.defaults,b),a.gradient=new y(a,b))})}},A={},B={en:{cancelText:"cancel",applyText:"apply"}},C=0,D=function(){function a(b,c){e(this,a),this.element=b,this.$element=(0,i.default)(b),this.opened=!1,this.firstOpen=!0,this.disabled=!1,this.initialed=!1,this.originValue=this.element.value,this.isEmpty=!1,h(this),this.options=i.default.extend(!0,{},m,c,this.$element.data()),this.namespace=this.options.namespace,this.classes={wrap:this.namespace+"-wrap",dropdown:this.namespace+"-dropdown",input:this.namespace+"-input",skin:this.namespace+"_"+this.options.skin,open:this.namespace+"_open",mask:this.namespace+"-mask",hideInput:this.namespace+"_hideInput",disabled:this.namespace+"_disabled",mode:this.namespace+"-mode_"+this.options.mode},this.options.hideInput&&this.$element.addClass(this.classes.hideInput),this.components=n[this.options.mode],this._components=i.default.extend(!0,{},A),this._trigger("init"),this.init()}return l(a,[{key:"_trigger",value:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=[this].concat(c);this.$element.trigger("asColorPicker::"+a,e),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var f="on"+a;"function"==typeof this.options[f]&&this.options[f].apply(this,c)}},{key:"eventName",value:function(a){if("string"!=typeof a||""===a)return"."+this.options.namespace;a=a.split(" ");for(var b=a.length,c=0;c<b;c++)a[c]=a[c]+"."+this.options.namespace;return a.join(" ")}},{key:"init",value:function(){this.color=(0,j.default)(this.element.value,this.options.color),this._create(),this.options.skin&&(this.$dropdown.addClass(this.classes.skin),this.$element.parent().addClass(this.classes.skin)),this.options.readonly&&this.$element.prop("readonly",!0),this._bindEvent(),this.initialed=!0,this._trigger("ready")}},{key:"_create",value:function(){var a=this;this.$dropdown=(0,i.default)('<div class="'+this.classes.dropdown+'" data-mode="'+this.options.mode+'"></div>'),this.$element.wrap('<div class="'+this.classes.wrap+'"></div>').addClass(this.classes.input),this.$wrap=this.$element.parent(),this.$body=(0,i.default)("body"),this.$dropdown.data("asColorPicker",this);var b=void 0;i.default.each(this.components,function(c,d){!0===d&&(d={}),void 0!==a.options[c]&&(d=i.default.extend(!0,{},d,a.options[c])),Object.hasOwnProperty.call(a._components,c)&&(b=a._components[c],b.init(a,d))}),this._trigger("create")}},{key:"_bindEvent",value:function(){var a=this;this.$element.on(this.eventName("click"),function(){return a.opened||a.open(),!1}),this.$element.on(this.eventName("keydown"),function(b){9===b.keyCode?a.close():13===b.keyCode&&(a.val(a.element.value),a.close())}),this.$element.on(this.eventName("keyup"),function(){a.color.matchString(a.element.value)&&a.val(a.element.value)})}},{key:"opacity",value:function(a){if(!a)return this.color.alpha();this.color.alpha(a)}},{key:"position",value:function(){var a=!this.$element.is(":visible"),b=a?this.$trigger.offset():this.$element.offset(),c=a?this.$trigger.outerHeight():this.$element.outerHeight(),d=a?this.$trigger.outerWidth():this.$element.outerWidth()+this.$trigger.outerWidth(),e=this.$dropdown.outerWidth(!0),f=this.$dropdown.outerHeight(!0),g=void 0,h=void 0;g=f+b.top>(0,i.default)(window).height()+(0,i.default)(window).scrollTop()?b.top-f:b.top+c,h=e+b.left>(0,i.default)(window).width()+(0,i.default)(window).scrollLeft()?b.left-e+d:b.left,this.$dropdown.css({position:"absolute",top:g,left:h})}},{key:"open",value:function(){this.disabled||(this.originValue=this.element.value,this.$dropdown[0]!==this.$body.children().last()[0]&&this.$dropdown.detach().appendTo(this.$body),this.$mask=(0,i.default)("."+this.classes.mask),0===this.$mask.length&&this.createMask(),this.$dropdown.prev()[0]!==this.$mask[0]&&this.$dropdown.before(this.$mask),(0,i.default)("#asColorPicker-dropdown").removeAttr("id"),this.$dropdown.attr("id","asColorPicker-dropdown"),this.$mask.show(),this.position(),(0,i.default)(window).on(this.eventName("resize"),i.default.proxy(this.position,this)),this.$dropdown.addClass(this.classes.open),this.opened=!0,this.firstOpen&&(this.firstOpen=!1,this._trigger("firstOpen")),this._setup(),this._trigger("open"))}},{key:"createMask",value:function(){this.$mask=(0,i.default)(document.createElement("div")),this.$mask.attr("class",this.classes.mask),this.$mask.hide(),this.$mask.appendTo(this.$body),this.$mask.on(this.eventName("mousedown touchstart click"),function(a){var b=(0,i.default)("#asColorPicker-dropdown"),c=void 0;b.length>0&&(c=b.data("asColorPicker"),c.opened&&(c.options.hideFireChange?c.apply():c.cancel()),a.preventDefault(),a.stopPropagation())})}},{key:"close",value:function(){this.opened=!1,this.$element.blur(),this.$mask.hide(),this.$dropdown.removeClass(this.classes.open),(0,i.default)(window).off(this.eventName("resize")),this._trigger("close")}},{key:"clear",value:function(){this.val("")}},{key:"cancel",value:function(){this.close(),this.set(this.originValue)}},{key:"apply",value:function(){this._trigger("apply",this.color),this.close()}},{key:"val",value:function(a){if(void 0===a)return this.color.toString();this.set(a)}},{key:"_update",value:function(){this._trigger("update",this.color),this._updateInput()}},{key:"_updateInput",value:function(){var a=this.color.toString();this.isEmpty&&(a=""),this._trigger("change",a),this.$element.val(a)}},{key:"set",value:function(a){return this.isEmpty=""===a,this._set(a)}},{key:"_set",value:function(a){"string"==typeof a?this.color.val(a):this.color.set(a),this._update()}},{key:"_setup",value:function(){this._trigger("setup",this.color)}},{key:"get",value:function(){return this.color}},{key:"enable",value:function(){return this.disabled=!1,this.$parent.addClass(this.classes.disabled),this._trigger("enable"),this}},{key:"disable",
value:function(){return this.disabled=!0,this.$parent.removeClass(this.classes.disabled),this._trigger("disable"),this}},{key:"destroy",value:function(){return this.$element.unwrap(),this.$element.off(this.eventName()),this.$mask.remove(),this.$dropdown.remove(),this.initialized=!1,this.$element.data("asColorPicker",null),this._trigger("destroy"),this}},{key:"getString",value:function(a,b){return this.options.lang in B&&void 0!==B[this.options.lang][a]?B[this.options.lang][a]:b}}],[{key:"setLocalization",value:function(a,b){B[a]=b}},{key:"registerComponent",value:function(a,b){A[a]=b}},{key:"setDefaults",value:function(a){i.default.extend(!0,m,i.default.isPlainObject(a)&&a)}}]),a}();D.registerComponent("alpha",o),D.registerComponent("hex",p),D.registerComponent("hue",q),D.registerComponent("saturation",r),D.registerComponent("buttons",s),D.registerComponent("trigger",t),D.registerComponent("clear",u),D.registerComponent("info",v),D.registerComponent("palettes",w),D.registerComponent("preview",x),D.registerComponent("gradient",z),D.setLocalization("cn",{cancelText:"取消",applyText:"应用"}),D.setLocalization("de",{cancelText:"Abbrechen",applyText:"Wählen"}),D.setLocalization("dk",{cancelText:"annuller",applyText:"Vælg"}),D.setLocalization("es",{cancelText:"Cancelar",applyText:"Elegir"}),D.setLocalization("fi",{cancelText:"Kumoa",applyText:"Valitse"}),D.setLocalization("fr",{cancelText:"Annuler",applyText:"Valider"}),D.setLocalization("it",{cancelText:"annulla",applyText:"scegli"}),D.setLocalization("ja",{cancelText:"中止",applyText:"選択"}),D.setLocalization("ru",{cancelText:"отмена",applyText:"выбрать"}),D.setLocalization("sv",{cancelText:"Avbryt",applyText:"Välj"}),D.setLocalization("tr",{cancelText:"Avbryt",applyText:"Välj"});var E={version:"0.4.4"},F=i.default.fn.asColorPicker,G=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if("string"==typeof a){var e=a;if(/^_/.test(e))return!1;if(!(/^(get)$/.test(e)||"val"===e&&0===c.length))return this.each(function(){var a=i.default.data(this,"asColorPicker");a&&"function"==typeof a[e]&&a[e].apply(a,c)});var f=this.first().data("asColorPicker");if(f&&"function"==typeof f[e])return f[e].apply(f,c)}return this.each(function(){(0,i.default)(this).data("asColorPicker")||(0,i.default)(this).data("asColorPicker",new D(this,a))})};i.default.fn.asColorPicker=G,i.default.asColorPicker=i.default.extend({setDefaults:D.setDefaults,registerComponent:D.registerComponent,setLocalization:D.setLocalization,noConflict:function(){return i.default.fn.asColorPicker=F,G}},E)}),function(a,b){if("function"==typeof define&&define.amd)define("AsGradient",["exports","jquery","jquery-asColor"],b);else if("undefined"!=typeof exports)b(exports,require("jquery"),require("jquery-asColor"));else{var c={exports:{}};b(c.exports,a.jQuery,a.AsColor),a.AsGradient=c.exports}}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){var a=window.navigator.userAgent,b="";return/MSIE/g.test(a)?b="-ms-":/Firefox/g.test(a)?b="-moz-":/(WebKit)/i.test(a)?b="-webkit-":/Opera/g.test(a)&&(b="-o-"),b}function g(a){var b={top:"bottom",right:"left",bottom:"top",left:"right","right top":"left bottom","top right":"bottom left","bottom right":"top left","right bottom":"left top","left bottom":"right top","bottom left":"top right","top left":"bottom right","left top":"right bottom"};return b.hasOwnProperty(a)?b[a]:a}function h(a){return/^(top|left|right|bottom)$/i.test(a)}Object.defineProperty(a,"__esModule",{value:!0});var i=d(b),j=d(c),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m={prefixes:["-webkit-","-moz-","-ms-","-o-"],forceStandard:!0,angleUseKeyword:!0,emptyString:"",degradationFormat:!1,cleanPosition:!0,color:{format:!1,hexUseName:!1,reduceAlpha:!0,shortenHex:!0,zeroAlphaAsTransparent:!1,invalidValue:{r:0,g:0,b:0,a:1}}};String.prototype.includes||(String.prototype.includes=function(a,b){return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&-1!==this.indexOf(a,b)});var n={"to top":0,"to right":90,"to bottom":180,"to left":270,"to right top":45,"to top right":45,"to bottom right":135,"to right bottom":135,"to left bottom":225,"to bottom left":225,"to top left":315,"to left top":315},o=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(n),p=function(){var a=/(?:rgba|rgb|hsla|hsl)\s*\([\s\d\.,%]+\)|#[a-z0-9]{3,6}|[a-z]+/i,b=/\d{1,3}%/i,c=/(?:to ){0,1}(?:(?:top|left|right|bottom)\s*){1,2}|\d+deg/i,d=new RegExp("("+a.source+")\\s*("+b.source+"){0,1}","i"),e=new RegExp(d.source,"gi"),f=new RegExp("(?:("+c.source+")){0,1}\\s*,{0,1}\\s*(.*?)\\s*","i");return{FULL:new RegExp("^(-webkit-|-moz-|-ms-|-o-){0,1}(linear|radial|repeating-linear)-gradient\\s*\\(\\s*("+f.source+")\\s*\\)$","i"),ANGLE:c,COLOR:a,POSITION:b,STOP:d,STOPS:e,PARAMETERS:new RegExp("^"+f.source+"$","i")}}(),q={matchString:function(a){var b=this.parseString(a);return!!(b&&b.value&&b.value.stops&&b.value.stops.length>1)},parseString:function(a){a=i.default.trim(a);var b=void 0;if(null!==(b=p.FULL.exec(a))){var c=this.parseParameters(b[3]);return{prefix:void 0===b[1]?null:b[1],type:b[2],value:c}}return!1},parseParameters:function(a){var b=void 0;if(null!==(b=p.PARAMETERS.exec(a))){var c=this.parseStops(b[2]);return{angle:void 0===b[1]?0:b[1],stops:c}}return!1},parseStops:function(a){var b=this,c=void 0,d=[];return null!==(c=a.match(p.STOPS))&&(i.default.each(c,function(a,c){var e=b.parseStop(c);e&&d.push(e)}),d)},formatStops:function(a,b){for(var c=void 0,d=[],e=[],f=[],g=void 0,h=0;h<a.length;h++)c=a[h],g=void 0===c.position||null===c.position?0===h?0:h===a.length-1?1:void 0:c.position,e.push(g),f.push(c.color.toString());e=function(a){for(var b=null,c=void 0,d=0;d<a.length;d++)if(isNaN(a[d])){if(null===b){b=d;continue}}else if(b){c=(a[d]-a[b-1])/(d-b+1);for(var e=b;e<d;e++)a[e]=a[b-1]+(e-b+1)*c;b=null}return a}(e);for(var i=0;i<a.length;i++)g=b&&(0===i&&0===e[i]||i===a.length-1&&1===e[i])?"":" "+this.formatPosition(e[i]),d.push(f[i]+g);return d.join(", ")},parseStop:function(a){var b=void 0;if(null!==(b=p.STOP.exec(a))){var c=this.parsePosition(b[2]);return{color:b[1],position:c}}return!1},parsePosition:function(a){return"string"==typeof a&&"%"===a.substr(-1)&&(a=parseFloat(a.slice(0,-1)/100)),void 0!==a&&null!==a?parseFloat(a,10):null},formatPosition:function(a){return parseInt(100*a,10)+"%"},parseAngle:function(a,b){if("string"==typeof a&&a.includes("deg")&&(a=a.replace("deg","")),isNaN(a)||b&&(a=this.fixOldAngle(a)),"string"==typeof a){var c=a.split(" "),d=[];for(var e in c)h(c[e])&&d.push(c[e].toLowerCase());var f=d.join(" ");a.includes("to ")||(f=g(f)),f="to "+f,n.hasOwnProperty(f)&&(a=n[f])}var i=parseFloat(a,10);return i>360?i%=360:i<0&&0!==(i%=-360)&&(i+=360),i},fixOldAngle:function(a){return a=parseFloat(a),a=Math.abs(450-a)%360,a=parseFloat(a.toFixed(3))},formatAngle:function(a,b,c){return a=parseInt(a,10),c&&o.hasOwnProperty(a)?(a=o[a],b&&(a=g(a.substr(3)))):(b&&(a=this.fixOldAngle(a)),a+="deg"),a}},r=function(){function a(b,c,d){e(this,a),this.color=(0,j.default)(b,d.options.color),this.position=q.parsePosition(c),this.id=++d._stopIdCount,this.gradient=d}return l(a,[{key:"setPosition",value:function(a){var b=q.parsePosition(a);this.position!==b&&(this.position=b,this.gradient.reorder())}},{key:"setColor",value:function(a){this.color.fromString(a)}},{key:"remove",value:function(){this.gradient.removeById(this.id)}}]),a}(),s={LINEAR:{parse:function(a){return{r:"%"===a[1].substr(-1)?parseInt(2.55*a[1].slice(0,-1),10):parseInt(a[1],10),g:"%"===a[2].substr(-1)?parseInt(2.55*a[2].slice(0,-1),10):parseInt(a[2],10),b:"%"===a[3].substr(-1)?parseInt(2.55*a[3].slice(0,-1),10):parseInt(a[3],10),a:1}},to:function(a,b,c){if(0===a.stops.length)return b.options.emptyString;if(1===a.stops.length)return a.stops[0].color.to(b.options.degradationFormat);var d=b.options.forceStandard,e=b._prefix;e||(d=!0),c&&-1!==i.default.inArray(c,b.options.prefixes)&&(d=!1,e=c);var f=q.formatAngle(a.angle,!d,b.options.angleUseKeyword),g=q.formatStops(a.stops,b.options.cleanPosition),h="linear-gradient("+f+", "+g+")";return d?h:e+h}}},t=function(){function a(b,c){e(this,a),"object"===(void 0===b?"undefined":k(b))&&void 0===c&&(c=b,b=void 0),this.value={angle:0,stops:[]},this.options=i.default.extend(!0,{},m,c),this._type="LINEAR",this._prefix=null,this.length=this.value.stops.length,this.current=0,this._stopIdCount=0,this.init(b)}return l(a,[{key:"init",value:function(a){a&&this.fromString(a)}},{key:"val",value:function(a){return void 0===a?this.toString():(this.fromString(a),this)}},{key:"angle",value:function(a){return void 0===a?this.value.angle:(this.value.angle=q.parseAngle(a),this)}},{key:"append",value:function(a,b){return this.insert(a,b,this.length)}},{key:"reorder",value:function(){this.length<2||(this.value.stops=this.value.stops.sort(function(a,b){return a.position-b.position}))}},{key:"insert",value:function(a,b,c){void 0===c&&(c=this.current);var d=new r(a,b,this);return this.value.stops.splice(c,0,d),this.length=this.length+1,this.current=c,d}},{key:"getById",value:function(a){if(this.length>0)for(var b in this.value.stops)if(a===this.value.stops[b].id)return this.value.stops[b];return!1}},{key:"removeById",value:function(a){var b=this.getIndexById(a);b&&this.remove(b)}},{key:"getIndexById",value:function(a){var b=0;for(var c in this.value.stops){if(a===this.value.stops[c].id)return b;b++}return!1}},{key:"getCurrent",value:function(){return this.value.stops[this.current]}},{key:"setCurrentById",value:function(a){var b=0;for(var c in this.value.stops)this.value.stops[c].id!==a?b++:this.current=b}},{key:"get",value:function(a){return void 0===a&&(a=this.current),a>=0&&a<this.length&&(this.current=a,this.value.stops[a])}},{key:"remove",value:function(a){void 0===a&&(a=this.current),a>=0&&a<this.length&&(this.value.stops.splice(a,1),this.length=this.length-1,this.current=a-1)}},{key:"empty",value:function(){this.value.stops=[],this.length=0,this.current=0}},{key:"reset",value:function(){this.value._angle=0,this.empty(),this._prefix=null,this._type="LINEAR"}},{key:"type",value:function(a){return"string"==typeof a&&(a=a.toUpperCase())&&void 0!==s[a]?(this._type=a,this):this._type}},{key:"fromString",value:function(a){var b=this;this.reset();var c=q.parseString(a);c&&(this._prefix=c.prefix,this.type(c.type),c.value&&(this.value.angle=q.parseAngle(c.value.angle,null!==this._prefix),i.default.each(c.value.stops,function(a,c){b.append(c.color,c.position)})))}},{key:"toString",value:function(a){return!0===a&&(a=f()),s[this.type()].to(this.value,this,a)}},{key:"matchString",value:function(a){return q.matchString(a)}},{key:"toStringWithAngle",value:function(a,b){var c=i.default.extend(!0,{},this.value);return c.angle=q.parseAngle(a),!0===b&&(b=f()),s[this.type()].to(c,this,b)}},{key:"getPrefixedStrings",value:function(){var a=[];for(var b in this.options.prefixes)Object.hasOwnProperty.call(this.options.prefixes,b)&&a.push(this.toString(this.options.prefixes[b]));return a}}],[{key:"setDefaults",value:function(a){i.default.extend(!0,m,i.default.isPlainObject(a)&&a)}}]),a}(),u={version:"0.3.3"},v=i.default.asGradient,w=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(Function.prototype.bind.apply(t,[null].concat(b)))};i.default.asGradient=w,i.default.asGradient.Constructor=t,i.default.extend(i.default.asGradient,{setDefaults:t.setDefaults,noConflict:function(){return i.default.asGradient=v,w}},q,u);var x=i.default.asGradient;a.default=x}),function(a,b){if("function"==typeof define&&define.amd)define("AsColor",["exports","jquery"],b);else if("undefined"!=typeof exports)b(exports,require("jquery"));else{var c={exports:{}};b(c.exports,a.jQuery),a.AsColor=c.exports}}(this,function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a){return 0===a.indexOf("#")&&(a=a.substr(1)),a?(3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),6===a.length?"#"+a:null):null}function e(a){return 0===a.indexOf("#")&&(a=a.substr(1)),6===a.length&&a[0]===a[1]&&a[2]===a[3]&&a[4]===a[5]&&(a=a[0]+a[2]+a[4]),"#"+a}function f(a){return parseInt(a,16)}function g(a){return"string"==typeof a&&a.indexOf("%")===a.length-1}function h(a){return parseInt(Math.round(2.55*a.slice(0,-1)),10)}function i(a){return parseFloat(a.slice(0,-1)/100,10)}Object.defineProperty(a,"__esModule",{value:!0});var j=function(a){return a&&a.__esModule?a:{default:a}}(b),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m={format:!1,shortenHex:!1,hexUseName:!1,reduceAlpha:!1,alphaConvert:{RGB:"RGBA",HSL:"HSLA",HEX:"RGBA",NAMESPACE:"RGBA"},nameDegradation:"HEX",invalidValue:"",zeroAlphaAsTransparent:!0},n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},o=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(n),p={HSLtoRGB:function(a){var b=a.h/360,c=a.s,d=a.l,e=void 0,f=void 0,g=void 0;return f=d<=.5?d*(c+1):d+c-d*c,e=2*d-f,g={r:this.hueToRGB(e,f,b+1/3),g:this.hueToRGB(e,f,b),b:this.hueToRGB(e,f,b-1/3)},void 0!==a.a&&(g.a=a.a),0===a.l&&(g.h=a.h),1===a.l&&(g.h=a.h),g},hueToRGB:function(a,b,c){var d=void 0;return c<0?c+=1:c>1&&(c-=1),d=6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a,Math.round(255*d)},RGBtoHSL:function(a){var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=f-e,h=f+e,i=.5*h,j=void 0,k=void 0;return j=e===f?0:b===f?60*(c-d)/g+360:c===f?60*(d-b)/g+120:60*(b-c)/g+240,k=0===g?0:i<=.5?g/h:g/(2-h),{h:Math.round(j)%360,s:k,l:i}},RGBtoHEX:function(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];return j.default.each(b,function(a,c){1===c.length&&(b[a]="0"+c)}),"#"+b.join("")},HSLtoHEX:function(a){var b=this.HSLtoRGB(a);return this.RGBtoHEX(b)},HSVtoHEX:function(a){var b=this.HSVtoRGB(a);return this.RGBtoHEX(b)},RGBtoHSV:function(a){var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.max(b,c,d),f=Math.min(b,c,d),g=void 0,h=void 0,i=e,j=e-f;if(h=0===e?0:j/e,e===f)g=0;else{switch(e){case b:g=(c-d)/j+(c<d?6:0);break;case c:g=(d-b)/j+2;break;case d:g=(b-c)/j+4}g/=6}return{h:Math.round(360*g),s:h,v:i}},HSVtoRGB:function(a){var b=void 0,c=void 0,d=void 0,e=a.h%360/60,f=a.s,g=a.v,h=g*f,i=h*(1-Math.abs(e%2-1));b=c=d=g-h,e=~~e,b+=[h,i,0,0,i,h][e],c+=[i,h,h,i,0,0][e],d+=[0,0,i,h,h,i][e];var j={r:Math.round(255*b),g:Math.round(255*c),b:Math.round(255*d)};return void 0!==a.a&&(j.a=a.a),0===a.v&&(j.h=a.h),1===a.v&&0===a.s&&(j.h=a.h),j},HEXtoRGB:function(a){return 4===a.length&&(a=d(a)),{r:f(a.substr(1,2)),g:f(a.substr(3,2)),b:f(a.substr(5,2))}},isNAME:function(a){return!!n.hasOwnProperty(a)},NAMEtoHEX:function(a){return n.hasOwnProperty(a)?"#"+n[a]:null},NAMEtoRGB:function(a){var b=this.NAMEtoHEX(a);return b?this.HEXtoRGB(b):null},hasNAME:function(a){var b=this.RGBtoHEX(a);return b=e(b),0===b.indexOf("#")&&(b=b.substr(1)),!!o.hasOwnProperty(b)&&o[b]},RGBtoNAME:function(a){var b=this.hasNAME(a);return b||null}},q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",r="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)",s="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)",t={RGB:{match:new RegExp("^rgb"+r+"$","i"),parse:function(a){return{r:g(a[1])?h(a[1]):parseInt(a[1],10),g:g(a[2])?h(a[2]):parseInt(a[2],10),b:g(a[3])?h(a[3]):parseInt(a[3],10),a:1}},to:function(a){return"rgb("+a.r+", "+a.g+", "+a.b+")"}},RGBA:{match:new RegExp("^rgba"+s+"$","i"),parse:function(a){return{r:g(a[1])?h(a[1]):parseInt(a[1],10),g:g(a[2])?h(a[2]):parseInt(a[2],10),b:g(a[3])?h(a[3]):parseInt(a[3],10),a:g(a[4])?i(a[4]):parseFloat(a[4],10)}},to:function(a){return"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")"}},HSL:{match:new RegExp("^hsl"+r+"$","i"),parse:function(a){var b={h:(a[1]%360+360)%360,s:g(a[2])?i(a[2]):parseFloat(a[2],10),l:g(a[3])?i(a[3]):parseFloat(a[3],10),a:1};return p.HSLtoRGB(b)},to:function(a){var b=p.RGBtoHSL(a);return"hsl("+parseInt(b.h,10)+", "+Math.round(100*b.s)+"%, "+Math.round(100*b.l)+"%)"}},HSLA:{match:new RegExp("^hsla"+s+"$","i"),parse:function(a){var b={h:(a[1]%360+360)%360,s:g(a[2])?i(a[2]):parseFloat(a[2],10),l:g(a[3])?i(a[3]):parseFloat(a[3],10),a:g(a[4])?i(a[4]):parseFloat(a[4],10)};return p.HSLtoRGB(b)},to:function(a){var b=p.RGBtoHSL(a);return"hsla("+parseInt(b.h,10)+", "+Math.round(100*b.s)+"%, "+Math.round(100*b.l)+"%, "+a.a+")"}},HEX:{match:/^#([a-f0-9]{6}|[a-f0-9]{3})$/i,parse:function(a){var b=a[0],c=p.HEXtoRGB(b);return{r:c.r,g:c.g,b:c.b,a:1}},to:function(a,b){var c=p.RGBtoHEX(a);if(b){if(b.options.hexUseName){var d=p.hasNAME(a);if(d)return d}b.options.shortenHex&&(c=e(c))}return""+c}},TRANSPARENT:{match:/^transparent$/i,parse:function(){return{r:0,g:0,b:0,a:0}},to:function(){return"transparent"}},NAME:{match:/^\w+$/i,parse:function(a){var b=p.NAMEtoRGB(a[0]);return b?{r:b.r,g:b.g,b:b.b,a:1}:null},to:function(a,b){var c=p.RGBtoNAME(a);return c||t[b.options.nameDegradation.toUpperCase()].to(a)}}};String.prototype.includes||(String.prototype.includes=function(a,b){return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&-1!==this.indexOf(a,b)});var u=function(){function a(b,d){c(this,a),"object"===(void 0===b?"undefined":k(b))&&void 0===d&&(d=b,b=void 0),"string"==typeof d&&(d={format:d}),this.options=j.default.extend(!0,{},m,d),this.value={r:0,g:0,b:0,h:0,s:0,v:0,a:1},this._format=!1,this._matchFormat="HEX",this._valid=!0,this.init(b)}return l(a,[{key:"init",value:function(a){return this.format(this.options.format),this.fromString(a),this}},{key:"isValid",value:function(){return this._valid}},{key:"val",value:function(a){return void 0===a?this.toString():(this.fromString(a),this)}},{key:"alpha",value:function(a){return void 0===a||isNaN(a)?this.value.a:(a=parseFloat(a),a>1?a=1:a<0&&(a=0),this.value.a=a,this)}},{key:"matchString",value:function(b){return a.matchString(b)}},{key:"fromString",value:function(a,b){if("string"==typeof a){a=j.default.trim(a);var c=null,d=void 0;this._valid=!1;for(var e in t)if(null!==(c=t[e].match.exec(a))&&(d=t[e].parse(c))){this.set(d),"TRANSPARENT"===e&&(e="HEX"),this._matchFormat=e,!0===b&&this.format(e);break}}else"object"===(void 0===a?"undefined":k(a))&&this.set(a);return this}},{key:"format",value:function(a){return"string"==typeof a&&(a=a.toUpperCase())&&void 0!==t[a]?this._format="TRANSPARENT"!==a?a:"HEX":!1===a&&(this._format=!1),!1===this._format?this._matchFormat:this._format}},{key:"toRGBA",value:function(){return t.RGBA.to(this.value,this)}},{key:"toRGB",value:function(){return t.RGB.to(this.value,this)}},{key:"toHSLA",value:function(){return t.HSLA.to(this.value,this)}},{key:"toHSL",value:function(){return t.HSL.to(this.value,this)}},{key:"toHEX",value:function(){return t.HEX.to(this.value,this)}},{key:"toNAME",value:function(){return t.NAME.to(this.value,this)}},{key:"to",value:function(a){return"string"==typeof a&&(a=a.toUpperCase())&&void 0!==t[a]?t[a].to(this.value,this):this.toString()}},{key:"toString",value:function(){var a=this.value;if(!this._valid&&"string"==typeof(a=this.options.invalidValue))return a;if(0===a.a&&this.options.zeroAlphaAsTransparent)return t.TRANSPARENT.to(a,this);var b=void 0;if(b=!1===this._format?this._matchFormat:this._format,this.options.reduceAlpha&&1===a.a)switch(b){case"RGBA":b="RGB";break;case"HSLA":b="HSL"}return 1!==a.a&&"RGBA"!==b&&"HSLA"!==b&&this.options.alphaConvert&&("string"==typeof this.options.alphaConvert&&(b=this.options.alphaConvert),void 0!==this.options.alphaConvert[b]&&(b=this.options.alphaConvert[b])),t[b].to(a,this)}},{key:"get",value:function(){return this.value}},{key:"set",value:function(a){this._valid=!0;var b=0,c=0,d=void 0,e=void 0;for(var f in a)"hsv".includes(f)?(c++,this.value[f]=a[f]):"rgb".includes(f)?(b++,this.value[f]=a[f]):"a"===f&&(this.value.a=a.a);return b>c?(d=p.RGBtoHSV(this.value),0===this.value.r&&0===this.value.g&&0===this.value.b||(this.value.h=d.h),this.value.s=d.s,this.value.v=d.v):c>b&&(e=p.HSVtoRGB(this.value),this.value.r=e.r,this.value.g=e.g,this.value.b=e.b),this}}],[{key:"matchString",value:function(a){if("string"==typeof a){a=j.default.trim(a);var b=null;for(var c in t)if(null!==(b=t[c].match.exec(a))&&t[c].parse(b))return!0}return!1}},{key:"setDefaults",value:function(a){j.default.extend(!0,m,j.default.isPlainObject(a)&&a)}}]),a}(),v={version:"0.3.6"},w=j.default.asColor,x=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(Function.prototype.bind.apply(u,[null].concat(b)))};j.default.asColor=x,j.default.asColor.Constructor=u,j.default.extend(j.default.asColor,{matchString:u.matchString,setDefaults:u.setDefaults,noConflict:function(){return j.default.asColor=w,x}},p,v);var y=j.default.asColor;a.default=y}),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){"use strict";var e={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(b,c){this.prepareOptions(b,a.toast.options),this.process()},prepareOptions:function(b,c){var d={};"string"==typeof b||b instanceof Array?d.text=b:d=b,this.options=a.extend({},c,d)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var b="";if(this._toastEl=this._toastEl||a("<div></div>",{class:"jq-toast-single"}),b+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(b+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+='<ul class="jq-toast-ul">';for(var c=0;c<this.options.text.length;c++)b+='<li class="jq-toast-li" id="jq-toast-item-'+c+'">'+this.options.text[c]+"</li>";b+="</ul>"}else this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+=this.options.text;this._toastEl.html(b),!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor),!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==a.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon))},position:function(){"string"==typeof this.options.position&&-1!==a.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:a(b).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var a=this;this._toastEl.on("afterShown",function(){a.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(b){b.preventDefault(),"fade"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){a.options.beforeShow()}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){a.options.afterShown()}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){a.options.beforeHide()}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){a.options.afterHidden()})},addToDom:function(){var b=a(".jq-toast-wrap");if(0===b.length?(b=a("<div></div>",{class:"jq-toast-wrap"}),a("body").append(b)):this.options.stack&&!isNaN(parseInt(this.options.stack,10))||b.empty(),b.find(".jq-toast-single:hidden").remove(),b.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var c=b.find(".jq-toast-single").length,d=c-this.options.stack;d>0&&a(".jq-toast-wrap").find(".jq-toast-single").slice(0,d).remove()}this._container=b},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var a=this._toastEl.find(".jq-toast-loader"),b=(this.options.hideAfter-400)/1e3+"s",c=this.options.loaderBg,d=a.attr("style")||"";d=d.substring(0,d.indexOf("-webkit-transition")),d+="-webkit-transition: width "+b+" ease-in;                       -o-transition: width "+b+" ease-in;                       transition: width "+b+" ease-in;                       background-color: "+c+";",a.attr("style",d).addClass("jq-toast-loaded")},animate:function(){var a=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){a._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){a._toastEl.trigger("afterShown")}):this._toastEl.show(function(){a._toastEl.trigger("afterShown")}),this.canAutoHide()){var a=this;b.setTimeout(function(){"fade"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(b){"all"===b?a(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(a){this.prepareOptions(a,this.options),this.setup(),this.bindToast()}};a.toast=function(a){var b=Object.create(e);return b.init(a,this),{reset:function(a){b.reset(a)},update:function(a){b.update(a)}}},a.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.Dropify=b(a.jQuery)}(this,function(a){function b(b,c){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var d={defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',
preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}};this.element=b,this.input=a(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=a.extend(!0,d,c,this.input.data()),this.errorsEvent=a.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}var c="dropify";return b.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},b.prototype.createElements=function(){this.isInit=!0,this.input.wrap(a(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var b=a(this.settings.tpl.message).insertBefore(this.input);a(this.settings.tpl.errorLine).appendTo(b),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=a(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=a(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=a(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=a(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=a(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var c=this.settings.defaultFile||"";""!==c.trim()&&(this.file.name=this.cleanFilename(c),this.setPreview(this.isImage(),c))},b.prototype.readFile=function(b){if(b.files&&b.files[0]){var c=new FileReader,d=new Image,e=b.files[0],f=null,g=this,h=a.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(e),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),c.readAsDataURL(e),c.onload=function(a){f=a.target.result,d.src=a.target.result,d.onload=function(){g.setFileDimensions(this.width,this.height),g.validateImage(),g.input.trigger(h,[!0,f])}}.bind(this)):this.onFileReady(!1)}},b.prototype.onFileReady=function(a,b,c){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(b,c);else{this.input.trigger(this.errorsEvent,[this]);for(var d=this.errorsEvent.errors.length-1;d>=0;d--){var e=this.errorsEvent.errors[d].namespace,f=e.split(".").pop();this.showError(f)}if(void 0!==this.errorsContainer){this.errorsContainer.addClass("visible");var g=this.errorsContainer;setTimeout(function(){g.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},b.prototype.setFileInformations=function(a){this.file.object=a,this.file.name=a.name,this.file.size=a.size,this.file.type=a.type,this.file.width=null,this.file.height=null},b.prototype.setFileDimensions=function(a,b){this.file.width=a,this.file.height=b},b.prototype.setPreview=function(b,c){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var d=this.preview.children(".dropify-render");if(this.hideLoader(),!0===b){var e=a("<img />").attr("src",c);this.settings.height&&e.css("max-height",this.settings.height),e.appendTo(d)}else a("<i />").attr("class","dropify-font-file").appendTo(d),a('<span class="dropify-extension" />').html(this.getFileType()).appendTo(d);this.preview.fadeIn()},b.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var a=this.preview.children(".dropify-render");a.find(".dropify-extension").remove(),a.find("i").remove(),a.find("img").remove(),this.preview.hide(),this.hideLoader()},b.prototype.cleanFilename=function(a){var b=a.split("\\").pop();return b==a&&(b=a.split("/").pop()),""!==a?b:""},b.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var b=a.Event("dropify.beforeClear");this.input.trigger(b,[this]),!1!==b.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(a.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},b.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},b.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},b.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},b.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},b.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},b.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},b.prototype.translateMessages=function(){for(var a in this.settings.tpl)for(var b in this.settings.messages)this.settings.tpl[a]=this.settings.tpl[a].replace("{{ "+b+" }}",this.settings.messages[b])},b.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},b.prototype.sizeToByte=function(a){var b=0;if(0!==a){var c=a.slice(-1).toUpperCase(),d=1048576;"K"===c?b=1024*parseFloat(a):"M"===c?b=parseFloat(a)*d:"G"===c&&(b=1073741824*parseFloat(a))}return b},b.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},b.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},b.prototype.pushError=function(b){var c=a.Event("dropify.error."+b);this.errorsEvent.errors.push(c),this.input.trigger(c,[this])},b.prototype.clearErrors=function(){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").html("")},b.prototype.showError=function(a){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").append("<li>"+this.getError(a)+"</li>")},b.prototype.getError=function(a){var b=this.settings.error[a],c="";return"fileSize"===a?c=this.settings.maxFileSize:"minWidth"===a?c=this.settings.minWidth:"maxWidth"===a?c=this.settings.maxWidth:"minHeight"===a?c=this.settings.minHeight:"maxHeight"===a?c=this.settings.maxHeight:"imageFormat"===a?c=this.settings.allowedFormats.join(", "):"fileExtension"===a&&(c=this.settings.allowedFileExtensions.join(", ")),""!==c?b.replace("{{ value }}",c):b},b.prototype.showLoader=function(){void 0!==this.loader&&this.loader.show()},b.prototype.hideLoader=function(){void 0!==this.loader&&this.loader.hide()},b.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},b.prototype.init=function(){this.createElements()},b.prototype.isDropified=function(){return this.isInit},a.fn[c]=function(d){return this.each(function(){a.data(this,c)||a.data(this,c,new b(this,d))}),this},b}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.lightbox=b(a.jQuery)}(this,function(a){function b(b){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=a.extend({},this.constructor.defaults),this.option(b)}return b.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},b.prototype.option=function(b){a.extend(this.options,b)},b.prototype.imageCountLabel=function(a,b){return this.options.albumLabel.replace(/%1/g,a).replace(/%2/g,b)},b.prototype.init=function(){var b=this;a(document).ready(function(){b.enable(),b.build()})},b.prototype.enable=function(){var b=this;a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){return b.start(a(c.currentTarget)),!1})},b.prototype.build=function(){if(!(a("#lightbox").length>0)){var b=this;a('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(a("body")),this.$lightbox=a("#lightbox"),this.$overlay=a("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return b.end(),!1}),this.$lightbox.hide().on("click",function(c){"lightbox"===a(c.target).attr("id")&&b.end()}),this.$outerContainer.on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===b.currentImageIndex?b.changeImage(b.album.length-1):b.changeImage(b.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return b.currentImageIndex===b.album.length-1?b.changeImage(0):b.changeImage(b.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(a){3===a.which&&(b.$nav.css("pointer-events","none"),b.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(b),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return b.end(),!1})}},b.prototype.start=function(b){function c(a){d.album.push({alt:a.attr("data-alt"),link:a.attr("href"),title:a.attr("data-title")||a.attr("title")})}var d=this,e=a(window);e.on("resize",a.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var f,g=0,h=b.attr("data-lightbox");if(h){f=a(b.prop("tagName")+'[data-lightbox="'+h+'"]');for(var i=0;i<f.length;i=++i)c(a(f[i])),f[i]===b[0]&&(g=i)}else if("lightbox"===b.attr("rel"))c(b);else{f=a(b.prop("tagName")+'[rel="'+b.attr("rel")+'"]');for(var j=0;j<f.length;j=++j)c(a(f[j])),f[j]===b[0]&&(g=j)}var k=e.scrollTop()+this.options.positionFromTop,l=e.scrollLeft();this.$lightbox.css({top:k+"px",left:l+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&a("body").addClass("lb-disable-scrolling"),this.changeImage(g)},b.prototype.changeImage=function(b){var c=this,d=this.album[b].link,e=d.split(".").slice(-1)[0],f=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),a(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var g=new Image;g.onload=function(){var h,i,j,k,l,m;f.attr({alt:c.album[b].alt,src:d}),a(g),f.width(g.width),f.height(g.height),m=a(window).width(),l=a(window).height(),k=m-c.containerPadding.left-c.containerPadding.right-c.imageBorderWidth.left-c.imageBorderWidth.right-20,j=l-c.containerPadding.top-c.containerPadding.bottom-c.imageBorderWidth.top-c.imageBorderWidth.bottom-c.options.positionFromTop-70,"svg"===e&&(0!==g.width&&0!==g.height||(f.width(k),f.height(j))),c.options.fitImagesInViewport?(c.options.maxWidth&&c.options.maxWidth<k&&(k=c.options.maxWidth),c.options.maxHeight&&c.options.maxHeight<j&&(j=c.options.maxHeight)):(k=c.options.maxWidth||g.width||k,j=c.options.maxHeight||g.height||j),(g.width>k||g.height>j)&&(g.width/k>g.height/j?(i=k,h=parseInt(g.height/(g.width/i),10),f.width(i),f.height(h)):(h=j,i=parseInt(g.width/(g.height/h),10),f.width(i),f.height(h))),c.sizeContainer(f.width(),f.height())},g.src=this.album[b].link,this.currentImageIndex=b},b.prototype.sizeOverlay=function(){var b=this;setTimeout(function(){b.$overlay.width(a(document).width()).height(a(document).height())},0)},b.prototype.sizeContainer=function(a,b){function c(){d.$lightbox.find(".lb-dataContainer").width(g),d.$lightbox.find(".lb-prevLink").height(h),d.$lightbox.find(".lb-nextLink").height(h),d.$overlay.focus(),d.showImage()}var d=this,e=this.$outerContainer.outerWidth(),f=this.$outerContainer.outerHeight(),g=a+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,h=b+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;e!==g||f!==h?this.$outerContainer.animate({width:g,height:h},this.options.resizeDuration,"swing",function(){c()}):c()},b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},b.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=!!this.options.alwaysShowNavOnTouchDevices}catch(a){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1"))))},b.prototype.updateDetails=function(){var a=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var b=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?b.text(this.album[this.currentImageIndex].title):b.html(this.album[this.currentImageIndex].title),b.fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){var c=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(c).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return a.sizeOverlay()})},b.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){(new Image).src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){(new Image).src=this.album[this.currentImageIndex-1].link}},b.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",a.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",a.proxy(this.keyboardAction,this))},b.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},b.prototype.keyboardAction=function(a){var b=a.keyCode;27===b?(a.stopPropagation(),this.end()):37===b?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):39===b&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},b.prototype.end=function(){this.disableKeyboardNav(),a(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&a("body").removeClass("lb-disable-scrolling")},new b}),function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g>0;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i,g-=1;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(a("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},e.prototype.initializeItems=function(){var b=this.$element.find(".owl-item");if(b.length)return this._items=b.get().map(function(b){return a(b)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var a,b,c;a=this.$element.find("img"),b=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,c=this.$element.children(b).width(),a.length&&c<=0&&this.preloadAutoWidthImages(a)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var e=-1,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-30&&b<h+30?e=a:"right"===c&&b>h-f-30&&b<h-f+30?e=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]!==d?g[a+1]:h-f)&&(e="left"===c?a+1:a),-1===e},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?e=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(e=b=this.maximum())),e},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){if(b=this._items.length)for(c=this._items[--b].width(),d=this.$element.width();b--&&!((c+=this._items[b].width()+this.settings.margin)>d););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},
e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2==0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.isVisible()&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf("owl")?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type)){var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&void 0!==b.property.value?b.property.value:this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);for(c.lazyLoadEager>0&&(d+=c.lazyLoadEager,c.loop&&(f-=c.lazyLoadEager,d++));e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f)),h),f++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src")||f.attr("data-srcset");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):f.is("source")?f.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("srcset",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(c){this._core=c,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"===a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var d=this;a(b).on("load",function(){d._core.settings.autoHeight&&d.update()}),a(b).resize(function(){d._core.settings.autoHeight&&(null!=d._intervalId&&clearTimeout(d._intervalId),d._intervalId=setTimeout(function(){d.update()},250))})};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(b,c),f=[],g=0;a.each(e,function(b,c){f.push(a(c).height())}),g=Math.max.apply(null,f),g<=1&&d&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?"width:"+c.width+"px;height:"+c.height+"px;":"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(c){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?a("<div/>",{class:"owl-video-tn "+j,srcType:c}):a("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+c+")"}),b.after(d),b.after(e)};if(b.wrap(a("<div/>",{class:"owl-video-wrapper",style:g})),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),c=a('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),c.attr("height",h),c.attr("width",g),"youtube"===f.type?c.attr("src","//www.youtube.com/embed/"+f.id+"?autoplay=1&rel=0&v="+f.id):"vimeo"===f.type?c.attr("src","//player.vimeo.com/video/"+f.id+"?autoplay=1"):"vzaar"===f.type&&c.attr("src","//view.vzaar.com/"+f.id+"/player?autoplay=true"),a(c).wrap('<div class="owl-video-frame" />').insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype._next=function(d){this._call=b.setTimeout(a.proxy(this._next,this,d),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||c.hidden||this._core.next(d||this._core.settings.autoplaySpeed)},e.prototype.read=function(){return(new Date).getTime()-this._time},e.prototype.play=function(c,d){var e;this._core.is("rotating")||this._core.enter("rotating"),c=c||this._core.settings.autoplayTimeout,e=Math.min(this._time%(this._timeout||c),c),this._paused?(this._time=this.read(),this._paused=!1):b.clearTimeout(this._call),this._time+=this.read()%c-e,this._timeout=c,this._call=b.setTimeout(a.proxy(this._next,this,d),c-e)},e.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,b.clearTimeout(this._call),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,b.clearTimeout(this._call))},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a('<button role="button">').addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d,e;e=this._core.settings;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)"$relative"===b&&e.navContainer?this._controls[b].html(""):this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),d=this._core.$stage.children(),e=this._hashes[c]&&d.index(this._hashes[c]);void 0!==e&&e!==this._core.current()&&this._core.to(this._core.relative(e),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(c,d){return function(){return d!==b&&a.fn.datepicker.deprecated(d),this[c].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split("-")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;c<d;c++)if(0<=this[c].valueOf()-b&&this[c].valueOf()-b<864e5)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a.data(b,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),
this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return Number(b)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(b){return a.each(r.viewModes,function(c,d){if(b===c||-1!==a.inArray(b,d.names))return b=c,!1}),b},_resolveDaysOfWeek:function(b){return a.isArray(b)||(b=b.split(/[,\s]*/)),a.map(b,Number)},_check_template:function(c){try{return c!==b&&""!==c&&((c.match(/[<>]/g)||[]).length<=0||a(c).length>0)}catch(a){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split("-")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===h.length)switch(h[0]){case"top":case"bottom":e.orientation.y=h[0];break;case"left":case"right":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||"auto",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||"auto";if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=r.parseDate(e.defaultViewDate,g,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.inputField.length?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[this.picker,".prev, .next",{click:a.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:a.proxy(this.dayCellClick,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,viewMode:this.viewMode,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;c=window.clipboardData.getData("Text")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){if(!a)return a;var b=new Date(a.getTime()+6e4*a.getTimezoneOffset());return b.getTimezoneOffset()!==a.getTimezoneOffset()&&(b=new Date(a.getTime()+6e4*b.getTimezoneOffset())),b},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&c(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return a!==b?new Date(a):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,a.map(b,this._utc_to_local)),this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){return this._process_options({datesDisabled:a}),this.update(),this},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=a(this.o.container),e=d.width(),f="body"===this.o.container?a(document).scrollTop():d.scrollTop(),g=d.offset(),h=[0];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==Number(b)&&h.push(Number(b))});var i=Math.max.apply(Math,h)+this.o.zIndexOffset,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left-g.left,n=j.top-g.top;"body"!==this.o.container&&(n+=f),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=b-l)):j.left<0?(this.picker.addClass("datepicker-orient-left"),m-=j.left-10):m+b>e?(this.picker.addClass("datepicker-orient-right"),m+=l-b):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var o,p=this.o.orientation.y;if("auto"===p&&(o=-f+n-c,p=o<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?n-=c+parseInt(this.picker.css("padding-top")):n+=k,this.o.rtl){var q=e-(m+l);this.picker.css({top:n,right:q,zIndex:i})}else this.picker.css({top:n,left:m,zIndex:i});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),d?(this.setValue(),this.element.change()):this.dates.length&&String(b)!==String(this.dates)&&d&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&b.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var b=this.o.weekStart,c="<tr>";for(this.o.calendarWeeks&&(c+='<th class="cw">&#160;</th>');b<this.o.weekStart+7;)c+='<th class="dow',-1!==a.inArray(b,this.o.daysOfWeekDisabled)&&(c+=" disabled"),c+='">'+q[this.o.language].daysMin[b++%7]+"</th>";c+="</tr>",this.picker.find(".datepicker-days thead").append(c)}},fillMonths:function(){for(var a,b=this._utc_to_local(this.viewDate),c="",d=0;d<12;d++)a=b&&b.getMonth()===d?" focused":"",c+='<span class="month'+a+'">'+q[this.o.language].monthsShort[d]+"</span>";this.picker.find(".datepicker-months td").html(c)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=d();return b.getUTCFullYear()<f||b.getUTCFullYear()===f&&b.getUTCMonth()<g?c.push("old"):(b.getUTCFullYear()>f||b.getUTCFullYear()===f&&b.getUTCMonth()>g)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&e(b,h)&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),this.dateWithinRange(b)||c.push("disabled"),this.dateIsDisabled(b)&&c.push("disabled","disabled-date"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end")),c},_fill_yearsView:function(c,d,e,f,g,h,i){for(var j,k,l,m="",n=e/10,o=this.picker.find(c),p=Math.floor(f/e)*e,q=p+9*n,r=Math.floor(this.viewDate.getFullYear()/n)*n,s=a.map(this.dates,function(a){return Math.floor(a.getUTCFullYear()/n)*n}),t=p-n;t<=q+n;t+=n)j=[d],k=null,t===p-n?j.push("old"):t===q+n&&j.push("new"),-1!==a.inArray(t,s)&&j.push("active"),(t<g||t>h)&&j.push("disabled"),t===r&&j.push("focused"),i!==a.noop&&(l=i(new Date(t,0,1)),l===b?l={}:"boolean"==typeof l?l={enabled:l}:"string"==typeof l&&(l={classes:l}),!1===l.enabled&&j.push("disabled"),l.classes&&(j=j.concat(l.classes.split(/\s+/))),l.tooltip&&(k=l.tooltip)),m+='<span class="'+j.join(" ")+'"'+(k?' title="'+k+'"':"")+">"+t+"</span>";o.find(".datepicker-switch").text(p+"-"+q),o.find("td").html(m)},fill:function(){var e,f,g=new Date(this.viewDate),h=g.getUTCFullYear(),i=g.getUTCMonth(),j=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,k=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,m=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,n=q[this.o.language].today||q.en.today||"",o=q[this.o.language].clear||q.en.clear||"",p=q[this.o.language].titleFormat||q.en.titleFormat,s=d(),t=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&s>=this.o.startDate&&s<=this.o.endDate&&!this.weekOfDateIsDisabled(s);if(!isNaN(h)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(g,p,this.o.language)),this.picker.find("tfoot .today").text(n).css("display",t?"table-cell":"none"),this.picker.find("tfoot .clear").text(o).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var u=c(h,i,0),v=u.getUTCDate();u.setUTCDate(v-(u.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(u);u.getUTCFullYear()<100&&w.setUTCFullYear(u.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var x,y,z=[];u.valueOf()<w;){if((x=u.getUTCDay())===this.o.weekStart&&(z.push("<tr>"),this.o.calendarWeeks)){var A=new Date(+u+(this.o.weekStart-x-7)%7*864e5),B=new Date(Number(A)+(11-A.getUTCDay())%7*864e5),C=new Date(Number(C=c(B.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),D=(B-C)/864e5/7+1;z.push('<td class="cw">'+D+"</td>")}y=this.getClassNames(u),y.push("day");var E=u.getUTCDate();this.o.beforeShowDay!==a.noop&&(f=this.o.beforeShowDay(this._utc_to_local(u)),f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1===f.enabled&&y.push("disabled"),f.classes&&(y=y.concat(f.classes.split(/\s+/))),f.tooltip&&(e=f.tooltip),f.content&&(E=f.content)),y=a.isFunction(a.uniqueSort)?a.uniqueSort(y):a.unique(y),z.push('<td class="'+y.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+u.getTime().toString()+'">'+E+"</td>"),e=null,x===this.o.weekEnd&&z.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(z.join(""));var F=q[this.o.language].monthsTitle||q.en.monthsTitle||"Months",G=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?F:h).end().find("tbody span").removeClass("active");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===h&&G.eq(b.getUTCMonth()).addClass("active")}),(h<j||h>l)&&G.addClass("disabled"),h===j&&G.slice(0,k).addClass("disabled"),h===l&&G.slice(m+1).addClass("disabled"),this.o.beforeShowMonth!==a.noop){var H=this;a.each(G,function(c,d){var e=new Date(h,c,1),f=H.o.beforeShowMonth(e);f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1!==f.enabled||a(d).hasClass("disabled")||a(d).addClass("disabled"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop("title",f.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,h,j,l,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,h,j,l,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,h,j,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a,b,c=new Date(this.viewDate),d=c.getUTCFullYear(),e=c.getUTCMonth(),f=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,g=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,i=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,j=1;switch(this.viewMode){case 4:j*=10;case 3:j*=10;case 2:j*=10;case 1:a=Math.floor(d/j)*j<=f,b=Math.floor(d/j)*j+j>h;break;case 0:a=d<=f&&e<=g,b=d>=h&&e>=i}this.picker.find(".prev").toggleClass("disabled",a),this.picker.find(".next").toggleClass("disabled",b)}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h;e=a(b.target),e.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),f=1,1===this.viewMode?(h=e.parent().find("span").index(e),g=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(h)):(h=0,g=Number(e.text()),this.viewDate.setUTCFullYear(g)),this._trigger(r.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(c(g,h,f)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(b){var c=a(b.currentTarget),d=c.data("date"),e=new Date(d);this.o.updateViewDate&&(e.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),e.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(e)},navArrowsClick:function(b){var c=a(b.currentTarget),d=c.hasClass("prev")?-1:1;0!==this.viewMode&&(d*=12*r.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,d),this._trigger(r.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):!1===this.o.multidate?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),(!b&&this.o.updateViewDate||"view"===b)&&(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&"view"===b||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),c=(c+12)%12;else{for(var j=0;j<i;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(":visible"))return void(40!==a.keyCode&&27!==a.keyCode||(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,"moveYear"))&&this._trigger("changeYear",this.viewDate):a.shiftKey?(c=this.moveAvailableDate(e,b,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,"moveDay"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,"moveWeek")):1===this.viewMode?(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveMonth")):2===this.viewMode&&(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveYear")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(a){this.viewMode=a,this.picker.children("div").hide().filter(".datepicker-"+r.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var l=function(b,c){a.data(b,"datepicker",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,this.keepEmptyValues=c.keepEmptyValues,delete c.keepEmptyValues,n.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a.data(b,"datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},clearDates:function(){a.each(this.pickers,function(a,b){b.clearDates()})},dateUpdated:function(c){if(!this.updating){this.updating=!0;var d=a.data(c.target,"datepicker");if(d!==b){var e=d.getUTCDate(),f=this.keepEmptyValues,g=a.inArray(c.target,this.inputs),h=g-1,i=g+1,j=this.inputs.length;if(-1!==g){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b!==d&&f||b.setUTCDate(e)}),e<this.dates[h])for(;h>=0&&e<this.dates[h];)this.pickers[h--].setUTCDate(e);else if(e>this.dates[i])for(;i<j&&e>this.dates[i];)this.pickers[i++].setUTCDate(e);this.updateDates(),delete this.updating}}}},destroy:function(){a.map(this.pickers,function(a){a.destroy()}),a(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data("datepicker"),g="object"==typeof c&&c;if(!f){var j=h(this,"date"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass("input-daterange")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find("input").toArray()}),f=new l(this,p)):f=new k(this,p),b.data("datepicker",f)}"string"==typeof c&&"function"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+c+" function)");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},r={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"==typeof a.toValue&&"function"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,e,f,g){function h(a,b){return!0===b&&(b=10),a<100&&(a+=2e3)>(new Date).getFullYear()+b&&(a-=100),a}function i(){var a=this.slice(0,j[n].length),b=j[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!c)return b;if(c instanceof Date)return c;if("string"==typeof e&&(e=r.parseFormat(e)),e.toValue)return e.toValue(c,e,f);var j,l,m,n,o,p={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},s={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(c in s&&(c=s[c]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(c)){for(j=c.match(/([\-+]\d+)([dmwy])/gi),c=new Date,n=0;n<j.length;n++)l=j[n].match(/([\-+]\d+)([dmwy])/i),m=Number(l[1]),o=p[l[2].toLowerCase()],c=k.prototype[o](c,m);return k.prototype._zero_utc_time(c)}j=c&&c.match(this.nonpunctuation)||[];var t,u,v={},w=["yyyy","yy","M","MM","m","mm","d","dd"],x={yyyy:function(a,b){return a.setUTCFullYear(g?h(b,g):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};x.yy=x.yyyy,x.M=x.MM=x.mm=x.m,x.dd=x.d,c=d();var y=e.parts.slice();if(j.length!==y.length&&(y=a(y).filter(function(b,c){return-1!==a.inArray(c,w)}).toArray()),j.length===y.length){var z;for(n=0,z=y.length;n<z;n++){if(t=parseInt(j[n],10),l=y[n],isNaN(t))switch(l){case"MM":u=a(q[f].months).filter(i),t=a.inArray(u[0],q[f].months)+1;break;case"M":u=a(q[f].monthsShort).filter(i),t=a.inArray(u[0],q[f].monthsShort)+1}v[l]=t}var A,B;for(n=0;n<w.length;n++)(B=w[n])in v&&!isNaN(v[B])&&(A=new Date(c),x[B](A,v[B]),isNaN(A)||(c=A))}return c},formatDate:function(b,c,d){if(!b)return"";if("string"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+o.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+o.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version="1.9.0",a.fn.datepicker.deprecated=function(a){var b=window.console;b&&b.warn&&b.warn("DEPRECATED: "+a)},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),n.call(c,"show"))}),a(function(){n.call(a('[data-provide="datepicker-inline"]'))})}),function(a,b,c){"use strict";var d=function(b,c){this.widget="",this.$element=a(b),this.defaultTime=c.defaultTime,this.disableFocus=c.disableFocus,this.disableMousewheel=c.disableMousewheel,this.isOpen=c.isOpen,
this.minuteStep=c.minuteStep,this.modalBackdrop=c.modalBackdrop,this.orientation=c.orientation,this.secondStep=c.secondStep,this.snapToStep=c.snapToStep,this.showInputs=c.showInputs,this.showMeridian=c.showMeridian,this.showSeconds=c.showSeconds,this.template=c.template,this.appendWidgetTo=c.appendWidgetTo,this.showWidgetOnAddonClick=c.showWidgetOnAddonClick,this.icons=c.icons,this.maxHours=c.maxHours,this.explicitMode=c.explicitMode,this.handleDocumentClick=function(a){var b=a.data.scope;b.$element.parent().find(a.target).length||b.$widget.is(a.target)||b.$widget.find(a.target).length||b.hideWidget()},this._init()};d.prototype={constructor:d,_init:function(){var b=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":a.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}),!1!==this.template?this.$widget=a(this.getTemplate()).on("click",a.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(b.widgetKeydown,b),"keyup.timepicker":a.proxy(b.widgetKeyup,b)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(a){var b;b=a?this.minute-a:this.minute-this.minuteStep,b<0?(this.decrementHour(),this.minute=b+60):this.minute=b},decrementSecond:function(){var a=this.second-this.secondStep;a<0?(this.decrementMinute(!0),this.second=a+60):this.second=a},elementKeydown:function(a){switch(a.which){case 9:if(a.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}a.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:a.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(c.selection){a.focus();var b=c.selection.createRange(),d=c.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-d}},getTemplate:function(){var a,b,c,d,e,f;switch(this.showInputs?(b='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',c='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',d='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',e='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(b='<span class="bootstrap-timepicker-hour"></span>',c='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',e='<span class="bootstrap-timepicker-meridian"></span>'),f='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+b+'</td> <td class="separator">:</td><td>'+c+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+e+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":a='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+f+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":a='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"</div>"}return a},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),a(c).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="hour",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(0,1):a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="minute",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(2,4):a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="second",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="meridian",a.setSelectionRange&&(this.showSeconds?setTimeout(function(){b.hour<10?a.setSelectionRange(8,10):a.setSelectionRange(9,11)},0):setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}if(this.hour===this.maxHours-1)return void(this.hour=0);this.hour++},incrementMinute:function(a){var b;b=a?this.minute+a:this.minute+this.minuteStep-this.minute%this.minuteStep,b>59?(this.incrementHour(),this.minute=b-60):this.minute=b},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;a>59?(this.incrementMinute(!0),this.second=a-60):this.second=a},mousewheel:function(b){if(!this.disableMousewheel){b.preventDefault(),b.stopPropagation();var c=b.originalEvent.wheelDelta||-b.originalEvent.detail,d=null;switch("mousewheel"===b.type?d=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(d=40*b.originalEvent.detail),d&&(b.preventDefault(),a(this).scrollTop(d+a(this).scrollTop())),this.highlightedUnit){case"minute":c>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":c>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:c>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(a,b){return a%b==0?a:Math.round(a%b/b)?(a+(b-a%b))%60:a-a%b},place:function(){if(!this.isInline){var c=this.$widget.outerWidth(),d=this.$widget.outerHeight(),e=a(b).width(),f=a(b).height(),g=a(b).scrollTop(),h=parseInt(this.$element.parents().filter(function(){return"auto"!==a(this).css("z-index")}).first().css("z-index"),10)+10,i=this.component?this.component.parent().offset():this.$element.offset(),j=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),k=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),l=i.left,m=i.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(l-=c-k)):(this.$widget.addClass("timepicker-orient-left"),i.left<0?l-=i.left-10:i.left+c>e&&(l=e-c-10));var n,o,p=this.orientation.y;"auto"===p&&(n=-g+i.top-d,o=g+f-(i.top+j+d),p=Math.max(n,o)===o?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+p),"top"===p?m+=j:m-=d+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:m,left:l,zIndex:h})}},remove:function(){a("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){var b=new Date,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds(),f="AM";0!==e&&60===(e=Math.ceil(b.getSeconds()/this.secondStep)*this.secondStep)&&(d+=1,e=0),0!==d&&60===(d=Math.ceil(b.getMinutes()/this.minuteStep)*this.minuteStep)&&(c+=1,d=0),this.showMeridian&&(0===c?c=12:c>=12?(c>12&&(c-=12),f="PM"):f="AM"),this.hour=c,this.minute=d,this.second=e,this.meridian=f,this.update()}else!1===a?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(a)},setTime:function(a,b){if(!a)return void this.clear();var c,d,e,f,g,h;if("object"==typeof a&&a.getMonth)e=a.getHours(),f=a.getMinutes(),g=a.getSeconds(),this.showMeridian&&(h="AM",e>12&&(h="PM",e%=12),12===e&&(h="PM"));else{if((c=(/a/i.test(a)?1:0)+(/p/i.test(a)?2:0))>2)return void this.clear();if(d=a.replace(/[^0-9\:]/g,"").split(":"),e=d[0]?d[0].toString():d.toString(),this.explicitMode&&e.length>2&&e.length%2!=0)return void this.clear();f=d[1]?d[1].toString():"",g=d[2]?d[2].toString():"",e.length>4&&(g=e.slice(-2),e=e.slice(0,-2)),e.length>2&&(f=e.slice(-2),e=e.slice(0,-2)),f.length>2&&(g=f.slice(-2),f=f.slice(0,-2)),e=parseInt(e,10),f=parseInt(f,10),g=parseInt(g,10),isNaN(e)&&(e=0),isNaN(f)&&(f=0),isNaN(g)&&(g=0),g>59&&(g=59),f>59&&(f=59),e>=this.maxHours&&(e=this.maxHours-1),this.showMeridian?(e>12&&(c=2,e-=12),c||(c=1),0===e&&(e=12),h=1===c?"AM":"PM"):e<12&&2===c?e+=12:e>=this.maxHours?e=this.maxHours-1:(e<0||12===e&&1===c)&&(e=0)}this.hour=e,this.snapToStep?(this.minute=this.changeToNearestStep(f,this.minuteStep),this.second=this.changeToNearestStep(g,this.secondStep)):(this.minute=f,this.second=g),this.meridian=h,this.update(b)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),a(c).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(a){this.updateElement(),a||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var a=this.hour,b=1===this.minute.toString().length?"0"+this.minute:this.minute,c=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var a=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(a,!0)}},widgetClick:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.closest("a").data("action");d&&this[d](),this.update(),c.is("input")&&c.get(0).setSelectionRange(0,2)},widgetKeydown:function(b){var c=a(b.target),d=c.attr("class").replace("bootstrap-timepicker-","");switch(b.which){case 9:if(b.shiftKey){if("hour"===d)return this.hideWidget()}else if(this.showMeridian&&"meridian"===d||this.showSeconds&&"second"===d||!this.showMeridian&&!this.showSeconds&&"minute"===d)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(b.preventDefault(),d){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2);break;case 40:switch(b.preventDefault(),d){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2)}},widgetKeyup:function(a){(65===a.which||77===a.which||80===a.which||46===a.which||8===a.which||a.which>=48&&a.which<=57||a.which>=96&&a.which<=105)&&this.updateFromWidgetInputs()}},a.fn.timepicker=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var e=a(this),f=e.data("timepicker"),g="object"==typeof b&&b;f||e.data("timepicker",f=new d(this,a.extend({},a.fn.timepicker.defaults,g,a(this).data()))),"string"==typeof b&&f[b].apply(f,c)})},a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},a.fn.timepicker.Constructor=d,a(c).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(b){var c=a(this);c.data("timepicker")||(b.preventDefault(),c.timepicker())})}(jQuery,window,document),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(a,c){return c.fn||(c.fn={}),"function"!=typeof a&&a.default&&(a=a.default),b(a,c)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={}));var d="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=b(d,c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=a().subtract(100,"year").format("YYYY"),this.maxYear=a().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof d&&null!==d||(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel)){var f=document.createElement("textarea");f.innerHTML=d.locale.customRangeLabel;var g=f.value;this.locale.customRangeLabel=g}if(this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyButtonClasses&&(this.applyButtonClasses=d.applyButtonClasses),"string"==typeof d.applyClass&&(this.applyButtonClasses=d.applyClass),"string"==typeof d.cancelButtonClasses&&(this.cancelButtonClasses=d.cancelButtonClasses),"string"==typeof d.cancelClass&&(this.cancelButtonClasses=d.cancelClass),"object"==typeof d.maxSpan&&(this.maxSpan=d.maxSpan),"object"==typeof d.dateLimit&&(this.maxSpan=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"number"==typeof d.minYear&&(this.minYear=d.minYear),"number"==typeof d.maxYear&&(this.maxYear=d.maxYear),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;var i,j,k;if(void 0===d.startDate&&void 0===d.endDate&&b(this.element).is(":text")){var l=b(this.element).val(),m=l.split(this.locale.separator);i=j=null,2==m.length?(i=a(m[0],this.locale.format),j=a(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(i=a(l,this.locale.format),j=a(l,this.locale.format)),null!==i&&null!==j&&(this.setStartDate(i),this.setEndDate(j))}if("object"==typeof d.ranges){for(k in d.ranges){i="string"==typeof d.ranges[k][0]?a(d.ranges[k][0],this.locale.format):a(d.ranges[k][0]),j="string"==typeof d.ranges[k][1]?a(d.ranges[k][1],this.locale.format):a(d.ranges[k][1]),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());var n=this.maxDate;if(this.maxSpan&&n&&i.clone().add(this.maxSpan).isAfter(n)&&(n=i.clone().add(this.maxSpan)),n&&j.isAfter(n)&&(j=n.clone()),!(this.minDate&&j.isBefore(this.minDate,this.timepicker?"minute":"day")||n&&i.isAfter(n,this.timepicker?"minute":"day"))){var f=document.createElement("textarea");f.innerHTML=k;var g=f.value;this.ranges[g]=[i,j]}}var o="<ul>";for(k in this.ranges)o+='<li data-range-key="'+k+'">'+k+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof d.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",b.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",b.proxy(this.toggle,this))),this.updateElement()};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),
this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;q<6;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=a([n,m,r,12,h,i]),q=0,s=0,t=0;q<42;q++,s++,u=a(u).add(24,"hour"))q>0&&s%7==0&&(s=0,t++),d[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&d[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[t][s].isBefore(this.minDate)&&"left"==c&&(d[t][s]=this.minDate.clone()),this.maxDate&&d[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[t][s].isAfter(this.maxDate)&&"right"==c&&(d[t][s]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,x=("left"==c?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?x+="<th></th>":x+='<th class="prev available"><span></span></th>';var y=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var z=d[1][1].month(),A=d[1][1].year(),B=w&&w.year()||this.maxYear,C=v&&v.year()||this.minYear,D=A==C,E=A==B,F='<select class="monthselect">',G=0;G<12;G++)(!D||v&&G>=v.month())&&(!E||w&&G<=w.month())?F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;I<=B;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?x+="<th></th>":x+='<th class="next available"><span></span></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.maxSpan){var J=this.startDate.clone().add(this.maxSpan).endOf("day");w&&!J.isBefore(w)||(w=J)}for(var t=0;t<6;t++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+d[t][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+d[t][0].isoWeek()+"</td>");for(var s=0;s<7;s++){var K=[];d[t][s].isSame(new Date,"day")&&K.push("today"),d[t][s].isoWeekday()>5&&K.push("weekend"),d[t][s].month()!=d[1][1].month()&&K.push("off","ends"),this.minDate&&d[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&d[t][s].isAfter(w,"day")&&K.push("off","disabled"),this.isInvalidDate(d[t][s])&&K.push("off","disabled"),d[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&d[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&d[t][s]>this.startDate&&d[t][s]<this.endDate&&K.push("in-range");var L=this.isCustomDate(d[t][s]);!1!==L&&("string"==typeof L?K.push(L):Array.prototype.push.apply(K,L));for(var M="",N=!1,q=0;q<K.length;q++)M+=K[q]+" ","disabled"==K[q]&&(N=!0);N||(M+="available"),x+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+d[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".drp-calendar."+c+" .calendar-table").html(x)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(e=this.startDate.clone().add(this.maxSpan)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".drp-calendar.right .calendar-time");if(""!=f.html()&&(c.hour(isNaN(c.hour())?f.find(".hourselect option:selected").val():c.hour()),c.minute(isNaN(c.minute())?f.find(".minuteselect option:selected").val():c.minute()),c.second(isNaN(c.second())?f.find(".secondselect option:selected").val():c.second()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;j<=i;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),k!=c.hour()||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":b+='<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;j<60;j+=this.timePickerIncrement){var n=j<10?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),c.minute()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;j<60;j++){var n=j<10?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),c.second()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),c.hour()>=12?b+='<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":b+='<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".drp-calendar."+a+" .calendar-time").html(b)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container.css({top:0,left:0,right:"auto"});var e=this.container.outerWidth();if(this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens){var f=d-this.element.offset().left-this.element.outerWidth();e+f>b(window).width()?this.container.css({top:a,right:"auto",left:9}):this.container.css({top:a,right:f,left:"auto"})}else if("center"==this.opens){var g=this.element.offset().left-c.left+this.element.outerWidth()/2-e/2;g<0?this.container.css({top:a,right:"auto",left:9}):g+e>b(window).width()?this.container.css({top:a,left:"auto",right:0}):this.container.css({top:a,left:g,right:"auto"})}else{var g=this.element.offset().left-c.left;g+e>b(window).width()?this.container.css({top:a,left:"auto",right:0}):this.container.css({top:a,left:g,right:"auto"})}},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e],h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".drp-calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(j)&&(j=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(j)&&(j=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){var d=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(d)==this.ranges[c][0].format(d)&&this.endDate.format(d)==this.ranges[c][1].format(d)){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}b++}a&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".drp-calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".drp-calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".drp-calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10);isNaN(f)&&(f=parseInt(c.find(".minuteselect option:last").val(),10));var g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&e<12&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide(),27===a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var a=this.startDate.format(this.locale.format);this.singleDatePicker||(a+=this.locale.separator+this.endDate.format(this.locale.format)),a!==this.element.val()&&this.element.val(a).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){var e=b.extend(!0,{},b.fn.daterangepicker.defaultOptions,a);return this.each(function(){var a=b(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new c(a,e,d))}),this},c}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(c,d){return function(){return d!==b&&a.fn.datepicker.deprecated(d),this[c].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split("-")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;c<d;c++)if(0<=this[c].valueOf()-b&&this[c].valueOf()-b<864e5)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a.data(b,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return Number(b)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(b){return a.each(r.viewModes,function(c,d){if(b===c||-1!==a.inArray(b,d.names))return b=c,!1}),b},_resolveDaysOfWeek:function(b){return a.isArray(b)||(b=b.split(/[,\s]*/)),a.map(b,Number)},_check_template:function(c){try{if(c===b||""===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;return a(c).length>0}catch(a){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split("-")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===h.length)switch(h[0]){case"top":case"bottom":e.orientation.y=h[0];break;case"left":case"right":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||"auto",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=r.parseDate(e.defaultViewDate,g,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.inputField.length?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[this.picker,".prev, .next",{click:a.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:a.proxy(this.dayCellClick,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,viewMode:this.viewMode,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;c=window.clipboardData.getData("Text")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){if(!a)return a;var b=new Date(a.getTime()+6e4*a.getTimezoneOffset());return b.getTimezoneOffset()!==a.getTimezoneOffset()&&(b=new Date(a.getTime()+6e4*b.getTimezoneOffset())),b},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&c(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return a!==b?new Date(a):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,a.map(b,this._utc_to_local)),this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){return this._process_options({datesDisabled:a}),this.update(),this},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=a(this.o.container),e=d.width(),f="body"===this.o.container?a(document).scrollTop():d.scrollTop(),g=d.offset(),h=[0];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==Number(b)&&h.push(Number(b))});var i=Math.max.apply(Math,h)+this.o.zIndexOffset,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left-g.left,n=j.top-g.top;"body"!==this.o.container&&(n+=f),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=b-l)):j.left<0?(this.picker.addClass("datepicker-orient-left"),m-=j.left-10):m+b>e?(this.picker.addClass("datepicker-orient-right"),m+=l-b):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var o,p=this.o.orientation.y;if("auto"===p&&(o=-f+n-c,p=o<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?n-=c+parseInt(this.picker.css("padding-top")):n+=k,this.o.rtl){var q=e-(m+l);this.picker.css({top:n,right:q,zIndex:i})}else this.picker.css({top:n,left:m,zIndex:i});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),
this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),d?(this.setValue(),this.element.change()):this.dates.length&&String(b)!==String(this.dates)&&d&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&b.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var b=this.o.weekStart,c="<tr>";for(this.o.calendarWeeks&&(c+='<th class="cw">&#160;</th>');b<this.o.weekStart+7;)c+='<th class="dow',-1!==a.inArray(b,this.o.daysOfWeekDisabled)&&(c+=" disabled"),c+='">'+q[this.o.language].daysMin[b++%7]+"</th>";c+="</tr>",this.picker.find(".datepicker-days thead").append(c)}},fillMonths:function(){for(var a,b=this._utc_to_local(this.viewDate),c="",d=0;d<12;d++)a=b&&b.getMonth()===d?" focused":"",c+='<span class="month'+a+'">'+q[this.o.language].monthsShort[d]+"</span>";this.picker.find(".datepicker-months td").html(c)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=d();return b.getUTCFullYear()<f||b.getUTCFullYear()===f&&b.getUTCMonth()<g?c.push("old"):(b.getUTCFullYear()>f||b.getUTCFullYear()===f&&b.getUTCMonth()>g)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&e(b,h)&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),this.dateWithinRange(b)||c.push("disabled"),this.dateIsDisabled(b)&&c.push("disabled","disabled-date"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end")),c},_fill_yearsView:function(c,d,e,f,g,h,i){for(var j,k,l,m="",n=e/10,o=this.picker.find(c),p=Math.floor(f/e)*e,q=p+9*n,r=Math.floor(this.viewDate.getFullYear()/n)*n,s=a.map(this.dates,function(a){return Math.floor(a.getUTCFullYear()/n)*n}),t=p-n;t<=q+n;t+=n)j=[d],k=null,t===p-n?j.push("old"):t===q+n&&j.push("new"),-1!==a.inArray(t,s)&&j.push("active"),(t<g||t>h)&&j.push("disabled"),t===r&&j.push("focused"),i!==a.noop&&(l=i(new Date(t,0,1)),l===b?l={}:"boolean"==typeof l?l={enabled:l}:"string"==typeof l&&(l={classes:l}),!1===l.enabled&&j.push("disabled"),l.classes&&(j=j.concat(l.classes.split(/\s+/))),l.tooltip&&(k=l.tooltip)),m+='<span class="'+j.join(" ")+'"'+(k?' title="'+k+'"':"")+">"+t+"</span>";o.find(".datepicker-switch").text(p+"-"+q),o.find("td").html(m)},fill:function(){var e,f,g=new Date(this.viewDate),h=g.getUTCFullYear(),i=g.getUTCMonth(),j=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,k=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,m=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,n=q[this.o.language].today||q.en.today||"",o=q[this.o.language].clear||q.en.clear||"",p=q[this.o.language].titleFormat||q.en.titleFormat,s=d(),t=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&s>=this.o.startDate&&s<=this.o.endDate&&!this.weekOfDateIsDisabled(s);if(!isNaN(h)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(g,p,this.o.language)),this.picker.find("tfoot .today").text(n).css("display",t?"table-cell":"none"),this.picker.find("tfoot .clear").text(o).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var u=c(h,i,0),v=u.getUTCDate();u.setUTCDate(v-(u.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(u);u.getUTCFullYear()<100&&w.setUTCFullYear(u.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var x,y,z=[];u.valueOf()<w;){if((x=u.getUTCDay())===this.o.weekStart&&(z.push("<tr>"),this.o.calendarWeeks)){var A=new Date(+u+(this.o.weekStart-x-7)%7*864e5),B=new Date(Number(A)+(11-A.getUTCDay())%7*864e5),C=new Date(Number(C=c(B.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),D=(B-C)/864e5/7+1;z.push('<td class="cw">'+D+"</td>")}y=this.getClassNames(u),y.push("day");var E=u.getUTCDate();this.o.beforeShowDay!==a.noop&&(f=this.o.beforeShowDay(this._utc_to_local(u)),f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1===f.enabled&&y.push("disabled"),f.classes&&(y=y.concat(f.classes.split(/\s+/))),f.tooltip&&(e=f.tooltip),f.content&&(E=f.content)),y=a.isFunction(a.uniqueSort)?a.uniqueSort(y):a.unique(y),z.push('<td class="'+y.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+u.getTime().toString()+'">'+E+"</td>"),e=null,x===this.o.weekEnd&&z.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(z.join(""));var F=q[this.o.language].monthsTitle||q.en.monthsTitle||"Months",G=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?F:h).end().find("tbody span").removeClass("active");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===h&&G.eq(b.getUTCMonth()).addClass("active")}),(h<j||h>l)&&G.addClass("disabled"),h===j&&G.slice(0,k).addClass("disabled"),h===l&&G.slice(m+1).addClass("disabled"),this.o.beforeShowMonth!==a.noop){var H=this;a.each(G,function(c,d){var e=new Date(h,c,1),f=H.o.beforeShowMonth(e);f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1!==f.enabled||a(d).hasClass("disabled")||a(d).addClass("disabled"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop("title",f.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,h,j,l,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,h,j,l,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,h,j,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a,b,c=new Date(this.viewDate),d=c.getUTCFullYear(),e=c.getUTCMonth(),f=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,g=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,i=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,j=1;switch(this.viewMode){case 4:j*=10;case 3:j*=10;case 2:j*=10;case 1:a=Math.floor(d/j)*j<=f,b=Math.floor(d/j)*j+j>h;break;case 0:a=d<=f&&e<=g,b=d>=h&&e>=i}this.picker.find(".prev").toggleClass("disabled",a),this.picker.find(".next").toggleClass("disabled",b)}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h;e=a(b.target),e.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),f=1,1===this.viewMode?(h=e.parent().find("span").index(e),g=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(h)):(h=0,g=Number(e.text()),this.viewDate.setUTCFullYear(g)),this._trigger(r.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(c(g,h,f)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(b){var c=a(b.currentTarget),d=c.data("date"),e=new Date(d);this.o.updateViewDate&&(e.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),e.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(e)},navArrowsClick:function(b){var c=a(b.currentTarget),d=c.hasClass("prev")?-1:1;0!==this.viewMode&&(d*=12*r.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,d),this._trigger(r.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):!1===this.o.multidate?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),(!b&&this.o.updateViewDate||"view"===b)&&(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&"view"===b||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),c=(c+12)%12;else{for(var j=0;j<i;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(":visible"))return void(40!==a.keyCode&&27!==a.keyCode||(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,"moveYear"))&&this._trigger("changeYear",this.viewDate):a.shiftKey?(c=this.moveAvailableDate(e,b,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,"moveDay"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,"moveWeek")):1===this.viewMode?(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveMonth")):2===this.viewMode&&(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveYear")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(a){this.viewMode=a,this.picker.children("div").hide().filter(".datepicker-"+r.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var l=function(b,c){a.data(b,"datepicker",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,this.keepEmptyValues=c.keepEmptyValues,delete c.keepEmptyValues,n.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a.data(b,"datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},clearDates:function(){a.each(this.pickers,function(a,b){b.clearDates()})},dateUpdated:function(c){if(!this.updating){this.updating=!0;var d=a.data(c.target,"datepicker");if(d!==b){var e=d.getUTCDate(),f=this.keepEmptyValues,g=a.inArray(c.target,this.inputs),h=g-1,i=g+1,j=this.inputs.length;if(-1!==g){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b!==d&&f||b.setUTCDate(e)}),e<this.dates[h])for(;h>=0&&e<this.dates[h];)this.pickers[h--].setUTCDate(e);else if(e>this.dates[i])for(;i<j&&e>this.dates[i];)this.pickers[i++].setUTCDate(e);this.updateDates(),delete this.updating}}}},destroy:function(){a.map(this.pickers,function(a){a.destroy()}),a(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data("datepicker"),g="object"==typeof c&&c;if(!f){var j=h(this,"date"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass("input-daterange")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find("input").toArray()}),f=new l(this,p)):f=new k(this,p),b.data("datepicker",f)}"string"==typeof c&&"function"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+c+" function)");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},r={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"==typeof a.toValue&&"function"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,e,f,g){function h(a,b){return!0===b&&(b=10),a<100&&(a+=2e3)>(new Date).getFullYear()+b&&(a-=100),a}function i(){var a=this.slice(0,j[n].length),b=j[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!c)return b;if(c instanceof Date)return c;if("string"==typeof e&&(e=r.parseFormat(e)),e.toValue)return e.toValue(c,e,f);var j,l,m,n,o,p={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},s={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(c in s&&(c=s[c]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(c)){for(j=c.match(/([\-+]\d+)([dmwy])/gi),c=new Date,n=0;n<j.length;n++)l=j[n].match(/([\-+]\d+)([dmwy])/i),m=Number(l[1]),o=p[l[2].toLowerCase()],c=k.prototype[o](c,m);return k.prototype._zero_utc_time(c)}j=c&&c.match(this.nonpunctuation)||[];var t,u,v={},w=["yyyy","yy","M","MM","m","mm","d","dd"],x={yyyy:function(a,b){return a.setUTCFullYear(g?h(b,g):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};x.yy=x.yyyy,x.M=x.MM=x.mm=x.m,x.dd=x.d,c=d();var y=e.parts.slice();if(j.length!==y.length&&(y=a(y).filter(function(b,c){return-1!==a.inArray(c,w)}).toArray()),j.length===y.length){var z;for(n=0,z=y.length;n<z;n++){if(t=parseInt(j[n],10),l=y[n],isNaN(t))switch(l){case"MM":u=a(q[f].months).filter(i),t=a.inArray(u[0],q[f].months)+1;break;case"M":u=a(q[f].monthsShort).filter(i),t=a.inArray(u[0],q[f].monthsShort)+1}v[l]=t}var A,B;for(n=0;n<w.length;n++)(B=w[n])in v&&!isNaN(v[B])&&(A=new Date(c),x[B](A,v[B]),isNaN(A)||(c=A))}return c},formatDate:function(b,c,d){if(!b)return"";if("string"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+o.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+o.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version="1.9.0",a.fn.datepicker.deprecated=function(a){var b=window.console;b&&b.warn&&b.warn("DEPRECATED: "+a)},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),n.call(c,"show"))}),a(function(){n.call(a('[data-provide="datepicker-inline"]'))})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(a){if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var b;try{b=require("jquery")}catch(a){b=null}module.exports=a(b)}else window&&(window.Slider=a(window.jQuery))}(function(a){windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){});var b;return function(a){"use strict";function b(){}var c=Array.prototype.slice;!function(a){function d(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,d){a.fn[b]=function(e){if("string"==typeof e){for(var g=c.call(arguments,1),h=0,i=this.length;h<i;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l&&l!==k)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}var m=this.map(function(){var c=a.data(this,b);return c?(c.option(e),c._init()):(c=new d(this,e),a.data(this,b,c)),a(this)});return 1===m.length?m[0]:m}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};a.bridget=function(a,b){d(b),e(a,b)},a.bridget}}(a)}(a),function(a){function c(b,c){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof b?this.element=document.querySelector(b):b instanceof HTMLElement&&(this.element=b),c=c||{};for(var d=Object.keys(this.defaultOptions),e=c.hasOwnProperty("min"),g=c.hasOwnProperty("max"),h=0;h<d.length;h++){var i=d[h],j=c[i];j=void 0!==j?j:function(a,b){var c="data-slider-"+b.replace(/_/g,"-"),d=a.getAttribute(c);try{return JSON.parse(d)}catch(a){return d}}(this.element,i),j=null!==j?j:this.defaultOptions[i],this.options||(this.options={}),this.options[i]=j}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&this.options.ticks.length>0,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl){var k=window.getComputedStyle(this.element);this.options.rtl=null!=k?"rtl"===k.direction:"rtl"===this.element.style.direction}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var l,m,n,o,p,q=this.element.style.width,r=!1,s=this.element.parentNode;if(this.sliderElem)r=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var t=document.createElement("div");t.className="slider-track",m=document.createElement("div"),m.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",n=document.createElement("div"),n.className="slider-track-high",o=document.createElement("div"),o.className="slider-handle min-slider-handle",o.setAttribute("role","slider"),o.setAttribute("aria-valuemin",this.options.min),o.setAttribute("aria-valuemax",this.options.max),p=document.createElement("div"),p.className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),t.appendChild(m),t.appendChild(l),t.appendChild(n),this.rangeHighlightElements=[];var u=this.options.rangeHighlights;if(Array.isArray(u)&&u.length>0)for(var v=0;v<u.length;v++){var w=document.createElement("div"),x=u[v].class||"";w.className="slider-rangeHighlight slider-selection "+x,this.rangeHighlightElements.push(w),t.appendChild(w)}var y=Array.isArray(this.options.labelledby);if(y&&this.options.labelledby[0]&&o.setAttribute("aria-labelledby",this.options.labelledby[0]),y&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!y&&this.options.labelledby&&(o.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",h=0;h<this.options.ticks.length;h++){var z=document.createElement("div");if(z.className="slider-tick",this.options.ticks_tooltip){var A=this._addTickListener(),B=A.addMouseEnter(this,z,h),C=A.addMouseLeave(this,z);this.ticksCallbackMap[h]={mouseEnter:B,mouseLeave:C}}this.ticks.push(z),this.ticksContainer.appendChild(z)}l.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",h=0;h<this.options.ticks_labels.length;h++){var D=document.createElement("div"),E=0===this.options.ticks_positions.length,F=this.options.reversed&&E?this.options.ticks_labels.length-(h+1):h;D.className="slider-tick-label",D.innerHTML=this.options.ticks_labels[F],this.tickLabels.push(D),this.tickLabelContainer.appendChild(D)}var G=function(a){var b=document.createElement("div");b.className="tooltip-arrow";var c=document.createElement("div");c.className="tooltip-inner",a.appendChild(b),a.appendChild(c)},H=document.createElement("div");H.className="tooltip tooltip-main",H.setAttribute("role","presentation"),G(H);var I=document.createElement("div");I.className="tooltip tooltip-min",I.setAttribute("role","presentation"),G(I);var J=document.createElement("div");J.className="tooltip tooltip-max",J.setAttribute("role","presentation"),G(J),this.sliderElem.appendChild(t),this.sliderElem.appendChild(H),this.sliderElem.appendChild(I),this.sliderElem.appendChild(J),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(o),this.sliderElem.appendChild(p),s.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(a&&(this.$element=a(this.element),this.$sliderElem=a(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),f[this.options.scale]&&(this.options.scale=f[this.options.scale]),!0===r&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(a){this._removeProperty(this.trackLow,a),this._removeProperty(this.trackSelection,a),this._removeProperty(this.trackHigh,a)},this),[this.handle1,this.handle2].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"right"),this._removeProperty(a,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"right"),this._removeProperty(a,"top"),this._removeClass(a,"right"),this._removeClass(a,"left"),this._removeClass(a,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=q,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(g||(this.options.max=Math.max.apply(Math,this.options.ticks)),e||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=m||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=n||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=o||this.handle1,this.handle2=p||this.handle2,!0===r)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),h=0;h<this.ticks.length;h++)this._removeClass(this.ticks[h],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),h=0;h<this.ticks.length;h++)this._addClass(this.ticks[h],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var K=this._addTickListener(),L=K.addMouseEnter(this,this.handle1),M=K.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:L,mouseLeave:M},L=K.addMouseEnter(this,this.handle2),M=K.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:L,mouseLeave:M}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1));this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),
this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}var d=void 0,e={formatInvalidInputErrorMsg:function(a){return"Invalid input value '"+a+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},f={linear:{getValue:function(a,b){return a<b.min?b.min:a>b.max?b.max:a},toValue:function(a){var b=a/100*(this.options.max-this.options.min),c=!0;if(this.options.ticks_positions.length>0){for(var d,e,g,h=0,i=1;i<this.options.ticks_positions.length;i++)if(a<=this.options.ticks_positions[i]){d=this.options.ticks[i-1],g=this.options.ticks_positions[i-1],e=this.options.ticks[i],h=this.options.ticks_positions[i];break}b=d+(a-g)/(h-g)*(e-d),c=!1}var j=c?this.options.min:0,k=j+Math.round(b/this.options.step)*this.options.step;return f.linear.getValue(k,this.options)},toPercentage:function(a){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var b,c,d,e=0,f=0;f<this.options.ticks.length;f++)if(a<=this.options.ticks[f]){b=f>0?this.options.ticks[f-1]:0,d=f>0?this.options.ticks_positions[f-1]:0,c=this.options.ticks[f],e=this.options.ticks_positions[f];break}if(f>0){return d+(a-b)/(c-b)*(e-d)}}return 100*(a-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(a){var b=1-this.options.min,c=Math.log(this.options.min+b),d=Math.log(this.options.max+b),e=Math.exp(c+(d-c)*a/100)-b;return Math.round(e)===d?d:(e=this.options.min+Math.round((e-this.options.min)/this.options.step)*this.options.step,f.linear.getValue(e,this.options))},toPercentage:function(a){if(this.options.max===this.options.min)return 0;var b=1-this.options.min,c=Math.log(this.options.max+b),d=Math.log(this.options.min+b);return 100*(Math.log(a+b)-d)/(c-d)}}};b=function(a,b){return c.call(this,a,b),this},b.prototype={_init:function(){},constructor:b,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(a){return Array.isArray(a)?a[0]+" : "+a[1]:a},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(a,b,c){a||(a=0);var d=this.getValue();this._state.value=this._validateInputValue(a);var e=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=e(this._state.value[0]),this._state.value[1]=e(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=e(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var f=this.options.range?this._state.value:this._state.value[0];this._setDataVal(f),!0===b&&this._trigger("slide",f);var g=!1;return g=Array.isArray(f)?d[0]!==f[0]||d[1]!==f[1]:d!==f,g&&!0===c&&this._trigger("change",{oldValue:d,newValue:f}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),a&&(this._unbindJQueryEventHandlers(),"slider"===d&&this.$element.removeData(d),this.$element.removeData("bootstrapSlider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(a,b){return this._bindNonQueryEventHandler(a,b),this},off:function(b,c){a?(this.$element.off(b,c),this.$sliderElem.off(b,c)):this._unbindNonQueryEventHandler(b,c)},getAttribute:function(a){return a?this.options[a]:this.options},setAttribute:function(a,b){return this.options[a]=b,this},refresh:function(b){var e=this.getValue();return this._removeSliderEventHandlers(),c.call(this,this.element,this.options),b&&!0===b.useCurrentValue&&this.setValue(e),a&&("slider"===d?(a.data(this.element,"slider",this),a.data(this.element,"bootstrapSlider",this)):a.data(this.element,"bootstrapSlider",this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(a,b){this.handle1.removeEventListener(a,b,!1),this.handle2.removeEventListener(a,b,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var a=this.ticksContainer.getElementsByClassName("slider-tick"),b=0;b<a.length;b++)a[b].removeEventListener("mouseenter",this.ticksCallbackMap[b].mouseEnter,!1),a[b].removeEventListener("mouseleave",this.ticksCallbackMap[b].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(a,b){void 0===this.eventToCallbackMap[a]&&(this.eventToCallbackMap[a]=[]),this.eventToCallbackMap[a].push(b)},_unbindNonQueryEventHandler:function(a,b){var c=this.eventToCallbackMap[a];if(void 0!==c)for(var d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}},_cleanUpEventCallbacksMap:function(){for(var a=Object.keys(this.eventToCallbackMap),b=0;b<a.length;b++){var c=a[b];delete this.eventToCallbackMap[c]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(a){function b(a,b){return b?[100-a.percentage[0],c.options.range?100-a.percentage[1]:a.percentage[1]]:[a.percentage[0],a.percentage[1]]}var c=this,d=this.options.formatter(a?a.value[0]:this._state.value[0]),e=a?b(a,this.options.reversed):b(this._state,this.options.reversed);this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=e[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(a,b,c){var d=function(){var d=a._copyState(),e=b===a.handle1?d.value[0]:d.value[1],f=void 0;void 0!==c?(e=a.options.ticks[c],f=a.options.ticks_positions.length>0&&a.options.ticks_positions[c]||a._toPercentage(a.options.ticks[c])):f=a._toPercentage(e),d.value[0]=e,d.percentage[0]=f,a._setToolTipOnMouseOver(d),a._showTooltip()};return b.addEventListener("mouseenter",d,!1),d},addMouseLeave:function(a,b){var c=function(){a._hideTooltip()};return b.addEventListener("mouseleave",c,!1),c}}},_layout:function(){var a,b;if(a=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=a[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),b=this.options.formatter(this._state.value[0]),isNaN(b)?this.handle1.setAttribute("aria-valuetext",b):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=a[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),b=this.options.formatter(this._state.value[1]),isNaN(b)?this.handle2.setAttribute("aria-valuetext",b):this.handle2.removeAttribute("aria-valuetext"),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var c=0;c<this.options.rangeHighlights.length;c++){var d=this._toPercentage(this.options.rangeHighlights[c].start),e=this._toPercentage(this.options.rangeHighlights[c].end);if(this.options.reversed){var f=100-e;e=100-d,d=f}var g=this._createHighlightRange(d,e);g?"vertical"===this.options.orientation?(this.rangeHighlightElements[c].style.top=g.start+"%",this.rangeHighlightElements[c].style.height=g.size+"%"):(this.options.rtl?this.rangeHighlightElements[c].style.right=g.start+"%":this.rangeHighlightElements[c].style.left=g.start+"%",this.rangeHighlightElements[c].style.width=g.size+"%"):this.rangeHighlightElements[c].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var h,i="vertical"===this.options.orientation?"height":"width";h="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var j=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var k=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[h]=-j/2+"px"),k=this.tickLabelContainer.offsetHeight;else for(l=0;l<this.tickLabelContainer.childNodes.length;l++)this.tickLabelContainer.childNodes[l].offsetHeight>k&&(k=this.tickLabelContainer.childNodes[l].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=k+"px")}for(var l=0;l<this.options.ticks.length;l++){var m=this.options.ticks_positions[l]||this._toPercentage(this.options.ticks[l]);this.options.reversed&&(m=100-m),this.ticks[l].style[this.stylePos]=m+"%",this._removeClass(this.ticks[l],"in-selection"),this.options.range?m>=a[0]&&m<=a[1]&&this._addClass(this.ticks[l],"in-selection"):"after"===this.options.selection&&m>=a[0]?this._addClass(this.ticks[l],"in-selection"):"before"===this.options.selection&&m<=a[0]&&this._addClass(this.ticks[l],"in-selection"),this.tickLabels[l]&&(this.tickLabels[l].style[i]=j+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[l]?(this.tickLabels[l].style.position="absolute",this.tickLabels[l].style[this.stylePos]=m+"%",this.tickLabels[l].style[h]=-j/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[l].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[l].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[h]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[l],"label-in-selection label-is-selection"),this.options.range?m>=a[0]&&m<=a[1]&&(this._addClass(this.tickLabels[l],"label-in-selection"),(m===a[0]||a[1])&&this._addClass(this.tickLabels[l],"label-is-selection")):("after"===this.options.selection&&m>=a[0]?this._addClass(this.tickLabels[l],"label-in-selection"):"before"===this.options.selection&&m<=a[0]&&this._addClass(this.tickLabels[l],"label-in-selection"),m===a[0]&&this._addClass(this.tickLabels[l],"label-is-selection")))}}var n;if(this.options.range){n=this.options.formatter(this._state.value),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=(a[1]+a[0])/2+"%";var o=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,o);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=a[0]+"%",this.tooltip_max.style[this.stylePos]=a[1]+"%"}else n=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=a[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(a[0],a[1])+"%",this.trackSelection.style.top=Math.min(a[0],a[1])+"%",this.trackSelection.style.height=Math.abs(a[0]-a[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(a[0],a[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(a[0],a[1])+"%":this.trackSelection.style.left=Math.min(a[0],a[1])+"%",this.trackSelection.style.width=Math.abs(a[0]-a[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";var q=this.tooltip_min.getBoundingClientRect(),r=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?q.right>r.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):q.right>r.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(a,b){return this._isHighlightRange(a,b)?a>b?{start:b,size:a-b}:{start:a,size:b-a}:null},_isHighlightRange:function(a,b){return 0<=a&&a<=100&&0<=b&&b<=100},_resize:function(a){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)},_mousedown:function(a){if(!this._state.enabled)return!1;a.preventDefault&&a.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var b=this._getPercentage(a);if(this.options.range){var c=Math.abs(this._state.percentage[0]-b),d=Math.abs(this._state.percentage[1]-b);this._state.dragged=c<d?0:1,this._adjustPercentageForRangeSliders(b)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=b,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var e=this._calculateValue();return this._trigger("slideStart",e),this.setValue(e,!1,!0),a.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(a){this._mousedown(a)},_triggerFocusOnHandle:function(a){0===a&&this.handle1.focus(),1===a&&this.handle2.focus()},_keydown:function(a,b){if(!this._state.enabled)return!1;var c;switch(b.keyCode){case 37:case 40:c=-1;break;case 39:case 38:c=1}if(c){if(this.options.natural_arrow_keys){var d="horizontal"===this.options.orientation,e="vertical"===this.options.orientation,f=this.options.rtl,g=this.options.reversed;d?f?g||(c=-c):g&&(c=-c):e&&(g||(c=-c))}var h;if(this.ticksAreValid&&this.options.lock_to_ticks){var i=void 0;i=this.options.ticks.indexOf(this._state.value[a]),-1===i&&(i=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),i+=c,i=Math.max(0,Math.min(this.options.ticks.length-1,i)),h=this.options.ticks[i]}else h=this._state.value[a]+c*this.options.step;var j=this._toPercentage(h);if(this._state.keyCtrl=a,this.options.range){this._adjustPercentageForRangeSliders(j);var k=this._state.keyCtrl?this._state.value[0]:h,l=this._state.keyCtrl?h:this._state.value[1];h=[Math.max(this.options.min,Math.min(this.options.max,k)),Math.max(this.options.min,Math.min(this.options.max,l))]}else h=Math.max(this.options.min,Math.min(this.options.max,h));return this._trigger("slideStart",h),this.setValue(h,!0,!0),this._trigger("slideStop",h),this._pauseEvent(b),delete this._state.keyCtrl,!1}},_pauseEvent:function(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1},_mousemove:function(a){if(!this._state.enabled)return!1;var b=this._getPercentage(a);this._adjustPercentageForRangeSliders(b),this._state.percentage[this._state.dragged]=b;var c=this._calculateValue(!0);return this.setValue(c,!0,!0),!1},_touchmove:function(a){void 0!==a.changedTouches&&a.preventDefault&&a.preventDefault()},_adjustPercentageForRangeSliders:function(a){if(this.options.range){var b=this._getNumDigitsAfterDecimalPlace(a);b=b?b-1:0;var c=this._applyToFixedAndParseFloat(a,b);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],b)<c?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],b)>c?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<a?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>a&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(a){if(!this._state.enabled)return!1;var b=this._getPercentage(a);this._adjustPercentageForRangeSliders(b),this._state.percentage[this._state.dragged]=b,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var c=this._calculateValue(!0);return this.setValue(c,!1,!0),this._trigger("slideStop",c),this._state.dragged=null,!1},_setValues:function(a,b){var c=0===a?0:100;this._state.percentage[a]!==c&&(b.data[a]=this._toValue(this._state.percentage[a]),b.data[a]=this._applyPrecision(b.data[a]))},_calculateValue:function(a){var b={};return this.options.range?(b.data=[this.options.min,this.options.max],this._setValues(0,b),this._setValues(1,b),a&&(b.data[0]=this._snapToClosestTick(b.data[0]),b.data[1]=this._snapToClosestTick(b.data[1]))):(b.data=this._toValue(this._state.percentage[0]),b.data=parseFloat(b.data),b.data=this._applyPrecision(b.data),a&&(b.data=this._snapToClosestTick(b.data))),b.data},_snapToClosestTick:function(a){for(var b=[a,1/0],c=0;c<this.options.ticks.length;c++){var d=Math.abs(this.options.ticks[c]-a);d<=b[1]&&(b=[this.options.ticks[c],d])}return b[1]<=this.options.ticks_snap_bounds?b[0]:a},_applyPrecision:function(a){var b=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(a,b)},_getNumDigitsAfterDecimalPlace:function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},_applyToFixedAndParseFloat:function(a,b){var c=a.toFixed(b);return parseFloat(c)},_getPercentage:function(a){!this.touchCapable||"touchstart"!==a.type&&"touchmove"!==a.type&&"touchend"!==a.type||(a=a.changedTouches[0]);var b=a[this.mousePos],c=this._state.offset[this.stylePos],d=b-c;"right"===this.stylePos&&(d=-d);var e=d/this._state.size*100;return e=Math.round(e/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(e=100-e),Math.max(0,Math.min(100,e))},_validateInputValue:function(a){if(isNaN(+a)){if(Array.isArray(a))return this._validateArray(a),a;throw new Error(e.formatInvalidInputErrorMsg(a))}return+a},_validateArray:function(a){for(var b=0;b<a.length;b++){var c=a[b];if("number"!=typeof c)throw new Error(e.formatInvalidInputErrorMsg(c))}},_setDataVal:function(a){this.element.setAttribute("data-value",a),this.element.setAttribute("value",a),this.element.value=a},_trigger:function(b,c){c=c||0===c?c:void 0;var d=this.eventToCallbackMap[b];if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e];f(c)}a&&this._triggerJQueryEvent(b,c)},_triggerJQueryEvent:function(a,b){var c={type:a,value:b};this.$element.trigger(c),this.$sliderElem.trigger(c)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(a,b){void 0!==a.textContent?a.textContent=b:void 0!==a.innerText&&(a.innerText=b)},_removeClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e],g=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)");d=d.replace(g," ")}a.className=d.trim()},_addClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e];new RegExp("(?:\\s|^)"+f+"(?:\\s|$)").test(d)||(d+=" "+f)}a.className=d.trim()},_offsetLeft:function(a){return a.getBoundingClientRect().left},_offsetRight:function(a){return a.getBoundingClientRect().right},_offsetTop:function(a){for(var b=a.offsetTop;(a=a.offsetParent)&&!isNaN(a.offsetTop);)b+=a.offsetTop,"BODY"!==a.tagName&&(b-=a.scrollTop);return b},_offset:function(a){return{left:this._offsetLeft(a),right:this._offsetRight(a),top:this._offsetTop(a)}},_css:function(b,c,d){if(a)a.style(b,c,d);else{var e=c.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()});b.style[e]=d}},_toValue:function(a){return this.options.scale.toValue.apply(this,[a])},_toPercentage:function(a){return this.options.scale.toPercentage.apply(this,[a])},_setTooltipPosition:function(){var a=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var b;b=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var c="left"===b?"right":"left";a.forEach(function(a){this._addClass(a,b),a.style[c]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?a.forEach(function(a){this._addClass(a,"bottom"),a.style.top="22px"}.bind(this)):a.forEach(function(a){this._addClass(a,"top"),a.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(a){for(var b=Math.abs(a-this.options.ticks[0]),c=0,d=0;d<this.options.ticks.length;++d){var e=Math.abs(a-this.options.ticks[d]);e<b&&(b=e,c=d)}return c},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},a&&a.fn&&(a.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),d="bootstrapSlider"):(a.bridget("slider",b),d="slider"),a.bridget("bootstrapSlider",b),a(function(){a("input[data-provide=slider]")[d]()}))}(a),b});var Happy,bind=function(a,b){return function(){return a.apply(b,arguments)}};Happy=function(){function a(){this.checkCheckboxState=bind(this.checkCheckboxState,this),this.checkCheckboxStateOnChange=bind(this.checkCheckboxStateOnChange,this),this.checkCheckboxStateOnClick=bind(this.checkCheckboxStateOnClick,this),this.radioOnChange=bind(this.radioOnChange,this),this.colors=["primary","success","info","warning","danger","white","gray"],this.templates={radio:'<div class="happy-radio"><b></b></div>',checkbox:'<div class="happy-checkbox"> <svg viewBox="0 0 30 30"> <rect class="mark-storke" x="15" y="3" rx="1" ry="1" width="10" height="4"/> <rect class="mark-storke" x="-7" y="21" rx="1" ry="1" width="19" height="4"/> </svg> </div>',text:"",textarea:""}}return a.prototype.colorify=function(a,b,c){if(a.classList.contains(c)&&b.classList.add(c),a.classList.contains(c+"-border"))return b.classList.add(c+"-border")},a.prototype.thicknessify=function(a,b){if(a.classList.contains("thin"))return b.classList.add("thin")},a.prototype.setNames=function(a,b){var c;if(b.setAttribute("data-name",a.getAttribute("name")),!1!==(c=a.getAttribute("value"))&&null!==c)return b.setAttribute("data-value",a.getAttribute("value"))},a.prototype.init=function(){return this.initRadio(),this.initCheckbox()},a.prototype.removeBySelector=function(a){var b,c,d,e,f;for(c=document.querySelectorAll(a),f=[],d=0,e=c.length;d<e;d++)b=c[d],f.push(b.parentNode.removeChild(b));return f},a.prototype.reset=function(){return this.removeBySelector(".happy-radio"),this.removeBySelector(".happy-checkbox"),this.init()},a.prototype.initRadio=function(){var a,b,c,d,e,f,g,h,i,j;for(e=document.querySelectorAll("input[type=radio].happy"),j=[],c=0,g=e.length;c<g;c++){for(d=e[c],d.insertAdjacentHTML("afterend",this.templates.radio),b=d.nextElementSibling,i=this.colors,f=0,h=i.length;f<h;f++)a=i[f],this.colorify(d,b,a),this.setNames(d,b);this.thicknessify(d,b),this.checkRadioState(d),j.push(document.addEventListener("change",this.radioOnChange))}return j},a.prototype.radioOnChange=function(a){var b,c,d,e,f,g,h;if(h=a.target,h.classList.contains("happy")){for(f=h.getAttribute("name"),g='.happy-radio[data-name="'+f+'"]',c=document.querySelectorAll(g),d=0,e=c.length;d<e;d++)b=c[d],b.classList.remove("active");return this.checkRadioState(h)}},a.prototype.checkRadioState=function(a){var b,c,d,e;if(a.checked&&(c=a.getAttribute("name"),e=a.getAttribute("value"),d='.happy-radio[data-name="'+c+'"][data-value="'+e+'"]',b=document.querySelector(d)))return b.classList.add("active")},a.prototype.initCheckbox=function(){var a,b,c,d,e,f,g,h,i,j;for(e=document.querySelectorAll("input[type=checkbox].happy"),j=[],c=0,g=e.length;c<g;c++){for(d=e[c],d.insertAdjacentHTML("afterend",this.templates.checkbox),b=d.nextElementSibling,i=this.colors,f=0,h=i.length;f<h;f++)a=i[f],this.colorify(d,b,a),this.setNames(d,b);this.thicknessify(d,b),this.checkCheckboxState(d),document.addEventListener("click",this.checkCheckboxStateOnClick),j.push(document.addEventListener("change",this.checkCheckboxStateOnChange))}return j},a.prototype.checkCheckboxStateOnClick=function(a){var b,c,d,e,f,g;if((c="svg"===a.target.tagName?a.target.parentNode:"rect"===a.target.tagName?a.target.parentNode.parentNode:a.target)&&c.classList.contains("happy-checkbox"))return a.preventDefault(),f='input[type=checkbox][name="'+c.getAttribute("data-name")+'"]',g=c.getAttribute("data-value"),!1!==g&&null!==g&&(f+='[value="'+g+'"]'),e=document.querySelector(f),e?(c.classList.contains("active")?(e.checked=!1,c.classList.remove("active")):(e.checked=!0,c.classList.add("active")),d=window.navigator.userAgent.indexOf("MSIE "),d?(b=document.createEvent("Event"),b.initEvent("change",!0,!0)):b=new Event("change",{bubbles:!0}),e.dispatchEvent(b)):void 0},a.prototype.checkCheckboxStateOnChange=function(a){var b;if(a.target.classList.contains("happy"))return b=a.target,this.checkCheckboxState(b)},a.prototype.checkCheckboxState=function(a){var b,c,d;if(c='.happy-checkbox[data-name="'+a.getAttribute("name")+'"]',d=a.getAttribute("value"),!1!==d&&null!==d&&(c+='[data-value="'+d+'"]'),b=document.querySelector(c))return a.checked?b.classList.add("active"):b.classList.remove("active")},a}(),document.addEventListener("DOMContentLoaded",function(){return window.happy=new Happy,window.happy.init()});var datagridFitlerMultiSelect,datagridGroupActionMultiSelect,datagridShiftGroupSelection,datagridSortable,datagridSortableTree,getEventDomPath,indexOf=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};$(document).on("click","[data-datagrid-confirm]:not(.ajax)",function(a){if(!confirm($(a.target).closest("a").attr("data-datagrid-confirm")))return a.stopPropagation(),a.preventDefault()}),$.nette.ext("datagrid.confirm",{before:function(a,b){var c;if(b.nette&&(c=b.nette.el.data("datagrid-confirm")))return confirm(c)}}),$(document).on("change","select[data-autosubmit-per-page]",function(){var a;return a=$(this).parent().find("input[type=submit]"),0===a.length&&(a=$(this).parent().find("button[type=submit]")),a.click()}).on("change","select[data-autosubmit]",function(){return $(this).closest("form").first().submit()}).on("change","input[data-autosubmit][data-autosubmit-change]",function(a){var b;return a.which||a.keyCode||0,clearTimeout(window.datagrid_autosubmit_timer),b=$(this),window.datagrid_autosubmit_timer=setTimeout(function(a){return function(){return b.closest("form").first().submit()}}(),200)
}).on("keyup","input[data-autosubmit]",function(a){var b,c;if(13===(c=a.which||a.keyCode||0)||!(c>=9&&c<=40||c>=112&&c<=123))return clearTimeout(window.datagrid_autosubmit_timer),b=$(this),window.datagrid_autosubmit_timer=setTimeout(function(a){return function(){return b.closest("form").first().submit()}}(),200)}).on("keydown",".datagrid-inline-edit input",function(a){if(13===(a.which||a.keyCode||0))return a.stopPropagation(),a.preventDefault(),$(this).closest("tr").find('.col-action-inline-edit [name="inline_edit[submit]"]').click()}),$(document).on("keydown","input[data-datagrid-manualsubmit]",function(a){if(13===(a.which||a.keyCode||0))return a.stopPropagation(),a.preventDefault(),$(this).closest("form").first().submit()}),getEventDomPath=function(a){var b,c;if(indexOf.call(a,c)>=0)return a.path;for(c=[],b=a.target;b!==document.body&&null!==b;)c.push(b),b=b.parentNode;return c},datagridShiftGroupSelection=function(){var a;return a=null,document.addEventListener("click",function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(q=getEventDomPath(b),g=0,n=q.length;g<n;g++)if(e=q[g],$(e).is(".col-checkbox")&&a&&b.shiftKey){if(d=$(e).closest("tr"),l=a.closest("tr"),m=l.closest("tbody"),c=m.find("tr").toArray(),d.index()>l.index()?u=c.slice(l.index(),d.index()):d.index()<l.index()&&(u=c.slice(d.index()+1,l.index())),!u)return;for(j=0,o=u.length;j<o;j++)t=u[j],(i=$(t).find(".col-checkbox input[type=checkbox]")[0])&&(i.checked=!0,h=window.navigator.userAgent.indexOf("MSIE "),h?(f=document.createEvent("Event"),f.initEvent("change",!0,!0)):f=new Event("change",{bubbles:!0}),i.dispatchEvent(f))}for(r=getEventDomPath(b),s=[],k=0,p=r.length;k<p;k++)e=r[k],$(e).is(".col-checkbox")?s.push(a=$(e)):s.push(void 0);return s})},datagridShiftGroupSelection(),document.addEventListener("change",function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(e=a.target.getAttribute("data-check"),e&&(b=document.querySelectorAll("input[data-check-all-"+e+"]:checked"),l=document.querySelector(".datagrid-"+e+' select[name="group_action[group_action]"]'),l&&(c=document.querySelector(".datagrid-"+e+" .datagrid-selected-rows-count"),b.length?(l.disabled=!1,m=document.querySelectorAll("input[data-check-all-"+e+"]").length,c&&(c.innerHTML=b.length+"/"+m)):(l.disabled=!0,l.value="",c&&(c.innerHTML=""))),g=window.navigator.userAgent.indexOf("MSIE "),g?(d=document.createEvent("Event"),d.initEvent("change",!0,!0)):d=new Event("change",{bubbles:!0}),l&&l.dispatchEvent(d)),e=a.target.getAttribute("data-check-all")){for(i=document.querySelectorAll("input[type=checkbox][data-check-all-"+e+"]"),k=[],f=0,j=i.length;f<j;f++)h=i[f],h.checked=a.target.checked,g=window.navigator.userAgent.indexOf("MSIE "),g?(d=document.createEvent("Event"),d.initEvent("change",!0,!0)):d=new Event("change",{bubbles:!0}),k.push(h.dispatchEvent(d));return k}}),window.datagridSerializeUrl=function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];if(null!==f&&""!==f)if("object"==typeof f){var g=window.datagridSerializeUrl(f,e);g&&c.push(g)}else c.push(encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")},datagridSortable=function(){if(void 0!==$.fn.sortable)return $(".datagrid [data-sortable]").sortable({handle:".handle-sort",items:"tr",axis:"y",update:function(a,b){var c,d,e,f,g,h,i;return h=b.item.closest("tr[data-id]"),e=h.data("id"),g=null,f=null,h.prev().length&&(g=h.prev().data("id")),h.next().length&&(f=h.next().data("id")),i=$(this).data("sortable-url"),d={},c=h.closest(".datagrid").find("tbody").attr("data-sortable-parent-path"),d[(c+"-item_id").replace(/^-/,"")]=e,null!==g&&(d[(c+"-prev_id").replace(/^-/,"")]=g),null!==f&&(d[(c+"-next_id").replace(/^-/,"")]=f),$.nette.ajax({type:"GET",url:i,data:d,error:function(a,b,c){return alert(a.statusText)}})},helper:function(a,b){return b.children().each(function(){return $(this).width($(this).width())}),b}})},$(function(){return datagridSortable()}),void 0===datagridSortableTree&&(datagridSortableTree=function(){if(void 0!==$(".datagrid-tree-item-children").sortable)return $(".datagrid-tree-item-children").sortable({handle:".handle-sort",items:".datagrid-tree-item:not(.datagrid-tree-header)",toleranceElement:"> .datagrid-tree-item-content",connectWith:".datagrid-tree-item-children",update:function(a,b){var c,d,e,f,g,h,i,j,k;if($(".toggle-tree-to-delete").remove(),j=b.item.closest(".datagrid-tree-item[data-id]"),e=j.data("id"),i=null,f=null,h=null,j.prev().length&&(i=j.prev().data("id")),j.next().length&&(f=j.next().data("id")),g=j.parent().closest(".datagrid-tree-item"),g.length&&(g.find(".datagrid-tree-item-children").first().css({display:"block"}),g.addClass("has-children"),h=g.data("id")),k=$(this).data("sortable-url"))return g.find("[data-toggle-tree]").first().removeClass("hidden"),c=j.closest(".datagrid-tree").attr("data-sortable-parent-path"),d={},d[(c+"-item_id").replace(/^-/,"")]=e,null!==i&&(d[(c+"-prev_id").replace(/^-/,"")]=i),null!==f&&(d[(c+"-next_id").replace(/^-/,"")]=f),d[(c+"-parent_id").replace(/^-/,"")]=h,$.nette.ajax({type:"GET",url:k,data:d,error:function(a,b,c){if("abort"!==c)return alert(a.statusText)}})},stop:function(a,b){return $(".toggle-tree-to-delete").removeClass("toggle-tree-to-delete")},start:function(a,b){var c;if(c=b.item.parent().closest(".datagrid-tree-item"),c.length&&2===c.find(".datagrid-tree-item").length)return c.find("[data-toggle-tree]").addClass("toggle-tree-to-delete")}})}),$(function(){return datagridSortableTree()}),$.nette.ext("datagrid.happy",{success:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(window.happy&&window.happy.reset(),g=$(".datagrid"),n=[],h=0,l=g.length;h<l;h++){for(f=g[h],d=f.classList,c="",k=0,m=d.length;k<m;k++)a=d[k],c=c+"."+a;b=document.querySelectorAll(c+" input[data-check]:checked"),1===b.length&&"toggle-all"===b[0].getAttribute("name")?(j=document.querySelector(c+" input[name=toggle-all]"),j?(j.checked=!1,i=window.navigator.userAgent.indexOf("MSIE "),i?(e=document.createEvent("Event"),e.initEvent("change",!0,!0)):e=new Event("change",{bubbles:!0}),n.push(j.dispatchEvent(e))):n.push(void 0)):n.push(void 0)}return n}}),$.nette.ext("datagrid.sortable",{success:function(){return datagridSortable()}}),$.nette.ext("datagrid.forms",{success:function(){return $(".datagrid").find("form").each(function(){return window.Nette.initForm(this)})}}),$.nette.ext("datagrid.url",{success:function(a){var b,c,d,e;if(a._datagrid_url&&window.history.pushState&&(b=window.location.protocol+"//"+window.location.host,c=window.location.pathname,d=window.datagridSerializeUrl(a.state).replace(/&+$/gm,""),e=d?b+c+"?"+d.replace(/\&*$/,""):b+c,e+=window.location.hash,window.location.href!==e))return window.history.pushState({path:e},"",e)}}),$.nette.ext("datagrid.sort",{success:function(a){var b,c,d,e;if(a._datagrid_sort){d=a._datagrid_sort,e=[];for(c in d)b=d[c],e.push($("#datagrid-sort-"+c).attr("href",b));return e}}}),$.nette.ext("datargid.item_detail",{before:function(a,b){var c,d;if(b.nette&&b.nette.el.attr("data-toggle-detail"))return c=b.nette.el.attr("data-toggle-detail"),d=$(".item-detail-"+c),d.hasClass("loaded")?d.find(".item-detail-content").length?(d.hasClass("toggled")?d.find(".item-detail-content").slideToggle("fast",function(a){return function(){return d.toggleClass("toggled")}}()):(d.toggleClass("toggled"),d.find(".item-detail-content").slideToggle("fast")),!1):(d.removeClass("toggled"),!0):d.addClass("loaded")},success:function(a){var b,c;if(a._datagrid_toggle_detail)return b=a._datagrid_toggle_detail,c=$(".item-detail-"+b),c.toggleClass("toggled"),c.find(".item-detail-content").slideToggle("fast")}}),$.nette.ext("datagrid.tree",{before:function(a,b){var c;return!(b.nette&&b.nette.el.attr("data-toggle-tree")&&(b.nette.el.toggleClass("toggle-rotate"),c=b.nette.el.closest(".datagrid-tree-item").find(".datagrid-tree-item-children").first(),c.hasClass("loaded")))||(c.slideToggle("fast"),!1)},success:function(a,b,c,d){var e,f,g,h,i,j,k;if(a._datagrid_tree){g=a._datagrid_tree,e=d.nette.el.closest('.datagrid-tree-item[data-id="'+g+'"]').find(".datagrid-tree-item-children").first(),e.addClass("loaded"),i=a.snippets;for(h in i)j=i[h],f=$(j),k=$('<div class="datagrid-tree-item" id="'+h+'">'),k.attr("data-id",f.attr("data-id")),k.append(f),f.data("has-children")&&k.addClass("has-children"),e.append(k);e.addClass("loaded"),e.slideToggle("fast"),$.nette.load()}return datagridSortableTree()}}),$(document).on("click","[data-datagrid-editable-url]",function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(e=$(this),"a"!==a.target.tagName.toLowerCase()&&!e.hasClass("datagrid-inline-edit")&&!e.hasClass("editing")){e.addClass("editing"),f=e.html().trim().replace("<br>","\n"),m=e.attr("data-datagrid-editable-value")?e.data("datagrid-editable-value"):f,e.data("originalValue",f),e.data("valueToEdit",m),"textarea"===e.data("datagrid-editable-type")?(j=$("<textarea>"+m+"</textarea>"),i=parseInt(e.css("padding").replace(/[^-\d\.]/g,""),10),g=e.outerHeight(),k=Math.round(parseFloat(e.css("line-height"))),h=(g-2*i)/k,j.attr("rows",Math.round(h))):"select"===e.data("datagrid-editable-type")?(j=$(e.data("datagrid-editable-element")),j.find("option").each(function(){if($(this).text()===m)return j.find("option[value='"+m+"']").prop("selected",!0)})):(j=$('<input type="'+e.data("datagrid-editable-type")+'">'),j.val(m)),d=e.data("datagrid-editable-attrs");for(b in d)c=d[b],j.attr(b,c);return e.removeClass("edited"),e.html(j),console.log($(j)),l=function(a,b){var c;return c=b.val(),c!==a.data("valueToEdit")?$.nette.ajax({url:a.data("datagrid-editable-url"),data:{value:c},method:"POST",success:function(b){return"select"===a.data("datagrid-editable-type")?a.html(j.find("option[value='"+c+"']").html()):(b._datagrid_editable_new_value&&(c=b._datagrid_editable_new_value),a.html(c)),a.addClass("edited")},error:function(){return a.html(a.data("originalValue")),a.addClass("edited-error")}}):a.html(a.data("originalValue")),setTimeout(function(){return a.removeClass("editing")},1200)},e.find("input,textarea,select").focus().on("blur",function(){return console.log("blur"),$(e).closest("select").hasClass("select2-hidden-accessible")&&(console.log(e),console.log("jo"),$($(e).closest("select")).select2("close")),l(e,$(this))}).on("keydown",function(a){return"textarea"!==e.data("datagrid-editable-type")&&13===a.which?(a.stopPropagation(),a.preventDefault(),l(e,$(this))):27===a.which?(a.stopPropagation(),a.preventDefault(),e.removeClass("editing"),e.html(e.data("originalValue"))):void 0}),e.find("select").on("change",function(){return console.log("change"),l(e,$(this))})}}),$.nette.ext("datagrid.after_inline_edit",{success:function(a){var b=$(".datagrid-"+a._datagrid_name);return a._datagrid_inline_edited?(b.find("tr[data-id="+a._datagrid_inline_edited+"] > td").addClass("edited"),b.find(".datagrid-inline-edit-trigger").removeClass("hidden")):a._datagrid_inline_edit_cancel?b.find(".datagrid-inline-edit-trigger").removeClass("hidden"):void 0}}),$(document).on("mouseup","[data-datagrid-cancel-inline-add]",function(a){if(1===(a.which||a.keyCode||0))return a.stopPropagation(),a.preventDefault(),$(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")}),$.nette.ext("datagrid-toggle-inline-add",{success:function(a){var b=$(".datagrid-"+a._datagrid_name);if(a._datagrid_inline_adding){var c=b.find(".datagrid-row-inline-add");c.hasClass("datagrid-row-inline-add-hidden")&&c.removeClass("datagrid-row-inline-add-hidden"),c.find("input:not([readonly]),textarea:not([readonly])").first().focus()}}}),datagridFitlerMultiSelect=function(){var a=$(".selectpicker").first();if($.fn.selectpicker)return $.fn.selectpicker.defaults={countSelectedText:a.data("i18n-selected"),iconBase:"",tickIcon:a.data("selected-icon-check")}},$(function(){return datagridFitlerMultiSelect()}),datagridGroupActionMultiSelect=function(){var a;if($.fn.selectpicker)return a=$("[data-datagrid-multiselect-id]"),a.each(function(){var a;if($(this).hasClass("selectpicker"))return $(this).removeAttr("id"),a=$(this).data("datagrid-multiselect-id"),$(this).on("loaded.bs.select",function(a){return $(this).parent().attr("style","display:none;"),$(this).parent().find(".hidden").removeClass("hidden").addClass("btn-default btn-secondary")}),$(this).on("rendered.bs.select",function(b){return $(this).parent().attr("id",a)})})},$(function(){return datagridGroupActionMultiSelect()}),$.nette.ext("datagrid.fitlerMultiSelect",{success:function(){if(datagridFitlerMultiSelect(),$.fn.selectpicker)return $(".selectpicker").selectpicker({iconBase:"fa"})}}),$.nette.ext("datagrid.groupActionMultiSelect",{success:function(){return datagridGroupActionMultiSelect()}}),$.nette.ext("datagrid.inline-editing",{success:function(a){var b;if(a._datagrid_inline_editing)return b=$(".datagrid-"+a._datagrid_name),b.find(".datagrid-inline-edit-trigger").addClass("hidden")}}),$.nette.ext("datagrid.redraw-item",{success:function(a){var b;if(a._datagrid_redraw_item_class)return b=$("tr[data-id="+a._datagrid_redraw_item_id+"]"),b.attr("class",a._datagrid_redraw_item_class)}}),$.nette.ext("datagrid.reset-filter-by-column",{success:function(a){var b,c,d,e,f,g;if(a._datagrid_name&&(b=$(".datagrid-"+a._datagrid_name),b.find("[data-datagrid-reset-filter-by-column]").addClass("hidden"),a.non_empty_filters&&a.non_empty_filters.length)){for(g=a.non_empty_filters,d=0,f=g.length;d<f;d++)e=g[d],b.find("[data-datagrid-reset-filter-by-column="+e+"]").removeClass("hidden");return c=b.find(".reset-filter").attr("href"),b.find("[data-datagrid-reset-filter-by-column]").each(function(){var b;return e=$(this).attr("data-datagrid-reset-filter-by-column"),b=c.replace("do="+a._datagrid_name+"-resetFilter","do="+a._datagrid_name+"-resetColumnFilter"),b+="&"+a._datagrid_name+"-key="+e,$(this).attr("href",b)})}}}),$(function(){if($(".datagrid").length)return $.nette.ajax({type:"GET",url:$(".datagrid").first().data("refresh-state")})}),$.nette.ext("ublaboo-spinners",{before:function(a,b){var c,d,e,f;if(b.nette){if(c=b.nette.el,f=$('<div class="ublaboo-spinner ublaboo-spinner-small"><i></i><i></i><i></i><i></i></div>'),c.is('.datagrid [name="group_action[submit]"]'))return c.after(f);if(c.is(".datagrid a")&&c.data("toggle-detail")){if(d=b.nette.el.attr("data-toggle-detail"),e=$(".item-detail-"+d),!e.hasClass("loaded"))return c.addClass("ublaboo-spinner-icon")}else{if(c.is(".datagrid .col-pagination a"))return c.closest(".row-grid-bottom").find(".col-per-page").prepend(f);if(c.is(".datagrid .datagrid-per-page-submit"))return c.closest(".row-grid-bottom").find(".col-per-page").prepend(f);if(c.is(".datagrid .reset-filter"))return c.closest(".row-grid-bottom").find(".col-per-page").prepend(f)}}},complete:function(){return $(".ublaboo-spinner").remove(),$(".ublaboo-spinner-icon").removeClass("ublaboo-spinner-icon")}}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(!!(g=a("img[usemap=#"+f+"]")[0])&&d(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(("absolute"===(c=e.css("position"))||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(a){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){if(!a.isFunction(d))return void(i[b]=d);i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(b){for(var c,e,f=d.call(arguments,1),g=0,h=f.length;g<h;g++)for(c in f[g])e=f[g][c],f[g].hasOwnProperty(c)&&void 0!==e&&(a.isPlainObject(e)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],e):a.widget.extend({},e):b[c]=e);return b},a.widget.bridge=function(b,c){var e=c.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=d.call(arguments,1),i=this;return f=!g&&h.length?a.widget.extend.apply(null,[f].concat(h)):f,g?this.each(function(){var c,d=a.data(this,e);return d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):this.each(function(){var b=a.data(this,e);b?b.option(f||{})._init():a.data(this,e,new c(f,this))}),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),void 0===c)return void 0===e[b]?null:e[b];e[b]=c}else{if(void 0===c)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||!0!==f.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&!1===g.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?!0===e||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0))}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&a<b+c}function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===a.axis||d(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")===f)return d=a(this),!1}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),
this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),!1!==h&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],(f=this._intersectsWithPointer(d))&&d.instance===this.currentContainer&&!(e===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===e||a.contains(this.placeholder[0],e)||"semi-dynamic"===this.options.type&&a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&d+j<i,m="y"===this.options.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=b&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return!!e&&(this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1))},_intersectsWithSides:function(a){var b=c(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&b||"up"===e&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&b)for(c=i.length-1;c>=0;c--)for(e=a(i[c]),d=e.length-1;d>=0;d--)(f=a.data(e[d],this.widgetFullName))&&f!==this&&!f.options.disabled&&h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);for(h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),c=h.length-1;c>=0;c--)h[c][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)(f=a.data(e[d],this.widgetFullName))&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;d<j;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){c&&!d.forcePlaceholderSize||(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||d(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(n&&!c(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height)||(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),Math.abs(l-k)<g&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down")));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[p].element,!0),this._trigger("change",b,this._uiHash()),this.containers[p]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),d[0].style.width&&!c.forceHelperSize||d.width(this.currentItem.width()),d[0].style.height&&!c.forceHelperSize||d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)"auto"!==this._storedCSS[c]&&"static"!==this._storedCSS[c]||(this._storedCSS[c]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),c=this.containers.length-1;c>=0;c--)b||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.FullCalendar={}))}(this,function(a){"use strict";function b(a,b,c){var d=document.createElement(a);if(b)for(var e in b)"style"===e?q(d,b[e]):me[e]?d[e]=b[e]:d.setAttribute(e,b[e]);return"string"==typeof c?d.innerHTML=c:null!=c&&g(d,c),d}function c(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.firstChild}function d(a){return Array.prototype.slice.call(e(a))}function e(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.childNodes}function f(a){return ne[a.substr(0,3)]||"div"}function g(a,b){for(var c=j(b),d=0;d<c.length;d++)a.appendChild(c[d])}function h(a,b){for(var c=j(b),d=a.firstChild||null,e=0;e<c.length;e++)a.insertBefore(c[e],d)}function i(a,b){for(var c=j(b),d=a.nextSibling||null,e=0;e<c.length;e++)a.parentNode.insertBefore(c[e],d)}function j(a){return"string"==typeof a?d(a):a instanceof Node?[a]:Array.prototype.slice.call(a)}function k(a){a.parentNode&&a.parentNode.removeChild(a)}function l(a,b){return pe.call(a,b)}function m(a,b){return oe.call(a,b)}function n(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].querySelectorAll(b),g=0;g<f.length;g++)d.push(f[g]);return d}function o(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].children,g=0;g<f.length;g++){var h=f[g];b&&!m(h,b)||d.push(h)}return d}function p(a,b,c){c?a.classList.add(b):a.classList.remove(b)}function q(a,b){for(var c in b)r(a,c,b[c])}function r(a,b,c){null==c?a.style[b]="":"number"==typeof c&&qe.test(b)?a.style[b]=c+"px":a.style[b]=c}function s(a,b){return a.left>=b.left&&a.left<b.right&&a.top>=b.top&&a.top<b.bottom}function t(a,b){var c={left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return c.left<c.right&&c.top<c.bottom&&c}function u(a,b,c){return{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c}}function v(a,b){return{left:Math.min(Math.max(a.left,b.left),b.right),top:Math.min(Math.max(a.top,b.top),b.bottom)}}function w(a){return{left:(a.left+a.right)/2,top:(a.top+a.bottom)/2}}function x(a,b){return{left:a.left-b.left,top:a.top-b.top}}function y(){return null===re&&(re=z()),re}function z(){var a=b("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(a);var c=a.firstChild,d=c.getBoundingClientRect().left>a.getBoundingClientRect().left;return k(a),d}function A(a){return a=Math.max(0,a),a=Math.round(a)}function B(a,b){void 0===b&&(b=!1);var c=window.getComputedStyle(a),d=parseInt(c.borderLeftWidth,10)||0,e=parseInt(c.borderRightWidth,10)||0,f=parseInt(c.borderTopWidth,10)||0,g=parseInt(c.borderBottomWidth,10)||0,h=A(a.offsetWidth-a.clientWidth-d-e),i=A(a.offsetHeight-a.clientHeight-f-g),j={borderLeft:d,borderRight:e,borderTop:f,borderBottom:g,scrollbarBottom:i,scrollbarLeft:0,scrollbarRight:0};return y()&&"rtl"===c.direction?j.scrollbarLeft=h:j.scrollbarRight=h,b&&(j.paddingLeft=parseInt(c.paddingLeft,10)||0,j.paddingRight=parseInt(c.paddingRight,10)||0,j.paddingTop=parseInt(c.paddingTop,10)||0,j.paddingBottom=parseInt(c.paddingBottom,10)||0),j}function C(a,b){void 0===b&&(b=!1);var c=D(a),d=B(a,b),e={left:c.left+d.borderLeft+d.scrollbarLeft,right:c.right-d.borderRight-d.scrollbarRight,top:c.top+d.borderTop,bottom:c.bottom-d.borderBottom-d.scrollbarBottom};return b&&(e.left+=d.paddingLeft,e.right-=d.paddingRight,e.top+=d.paddingTop,e.bottom-=d.paddingBottom),e}function D(a){var b=a.getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,right:b.right+window.pageXOffset,bottom:b.bottom+window.pageYOffset}}function E(){return{left:window.pageXOffset,right:window.pageXOffset+document.documentElement.clientWidth,top:window.pageYOffset,bottom:window.pageYOffset+document.documentElement.clientHeight}}function F(a){return a.getBoundingClientRect().height+G(a)}function G(a){var b=window.getComputedStyle(a);return parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function H(a){for(var b=[];a instanceof HTMLElement;){var c=window.getComputedStyle(a);if("fixed"===c.position)break;/(auto|scroll)/.test(c.overflow+c.overflowY+c.overflowX)&&b.push(a),a=a.parentNode}return b}function I(a){return H(a).map(function(a){return C(a)}).concat(E()).reduce(function(a,b){return t(a,b)||b})}function J(a){a.preventDefault()}function K(a,b,c,d){function e(a){var b=l(a.target,c);b&&d.call(b,a,b)}return a.addEventListener(b,e),function(){a.removeEventListener(b,e)}}function L(a,b,c,d){var e;return K(a,"mouseover",b,function(a,b){if(b!==e){e=b,c(a,b);var f=function(a){e=null,d(a,b),b.removeEventListener("mouseleave",f)};b.addEventListener("mouseleave",f)}})}function M(a,b){var c=function(d){b(d),se.forEach(function(b){a.removeEventListener(b,c)})};se.forEach(function(b){a.addEventListener(b,c)})}function N(a,b){var c=fa(a);return c[2]+=7*b,ga(c)}function O(a,b){var c=fa(a);return c[2]+=b,ga(c)}function P(a,b){var c=fa(a);return c[6]+=b,ga(c)}function Q(a,b){return R(a,b)/7}function R(a,b){return(b.valueOf()-a.valueOf())/864e5}function S(a,b){return(b.valueOf()-a.valueOf())/36e5}function T(a,b){return(b.valueOf()-a.valueOf())/6e4}function U(a,b){return(b.valueOf()-a.valueOf())/1e3}function V(a,b){var c=Y(a),d=Y(b);return{years:0,months:0,days:Math.round(R(c,d)),milliseconds:b.valueOf()-d.valueOf()-(a.valueOf()-c.valueOf())}}function W(a,b){var c=X(a,b);return null!==c&&c%7==0?c/7:null}function X(a,b){return ia(a)===ia(b)?Math.round(R(a,b)):null}function Y(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()])}function Z(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours()])}function $(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes()])}function _(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()])}function aa(a,b,c){var d=a.getUTCFullYear(),e=ba(a,d,b,c);if(e<1)return ba(a,d-1,b,c);var f=ba(a,d+1,b,c);return f>=1?Math.min(e,f):e}function ba(a,b,c,d){var e=ga([b,0,1+ca(b,c,d)]),f=Y(a),g=Math.round(R(e,f));return Math.floor(g/7)+1}function ca(a,b,c){var d=7+b-c;return-(7+ga([a,0,d]).getUTCDay()-b)%7+d-1}function da(a){return[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]}function ea(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function fa(a){return[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()]}function ga(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC.apply(Date,a))}function ha(a){return!isNaN(a.valueOf())}function ia(a){return 1e3*a.getUTCHours()*60*60+1e3*a.getUTCMinutes()*60+1e3*a.getUTCSeconds()+a.getUTCMilliseconds()}function ja(a,b){var c;return"string"==typeof a?ka(a):"object"==typeof a&&a?la(a):"number"==typeof a?la((c={},c[b||"milliseconds"]=a,c)):null}function ka(a){var b=ve.exec(a);if(b){var c=b[1]?-1:1;return{years:0,months:0,days:c*(b[2]?parseInt(b[2],10):0),milliseconds:c*(60*(b[3]?parseInt(b[3],10):0)*60*1e3+60*(b[4]?parseInt(b[4],10):0)*1e3+1e3*(b[5]?parseInt(b[5],10):0)+(b[6]?parseInt(b[6],10):0))}}return null}function la(a){return{years:a.years||a.year||0,months:a.months||a.month||0,days:(a.days||a.day||0)+7*ma(a),milliseconds:60*(a.hours||a.hour||0)*60*1e3+60*(a.minutes||a.minute||0)*1e3+1e3*(a.seconds||a.second||0)+(a.milliseconds||a.millisecond||a.ms||0)}}function ma(a){return a.weeks||a.week||0}function na(a,b){return a.years===b.years&&a.months===b.months&&a.days===b.days&&a.milliseconds===b.milliseconds}function oa(a){return 0===a.years&&0===a.months&&1===a.days&&0===a.milliseconds}function pa(a,b){return{years:a.years+b.years,months:a.months+b.months,days:a.days+b.days,milliseconds:a.milliseconds+b.milliseconds}}function qa(a,b){return{years:a.years-b.years,months:a.months-b.months,days:a.days-b.days,milliseconds:a.milliseconds-b.milliseconds}}function ra(a,b){return{years:a.years*b,months:a.months*b,days:a.days*b,milliseconds:a.milliseconds*b}}function sa(a){return ua(a)/365}function ta(a){return ua(a)/30}function ua(a){return xa(a)/864e5}function va(a){return xa(a)/6e4}function wa(a){return xa(a)/1e3}function xa(a){return 31536e6*a.years+2592e6*a.months+864e5*a.days+a.milliseconds}function ya(a,b){for(var c=null,d=0;d<ue.length;d++){var e=ue[d];if(b[e]){var f=a[e]/b[e];if(!Ta(f)||null!==c&&c!==f)return null;c=f}else if(a[e])return null}return c}function za(a,b){var c=a.milliseconds;if(c){if(c%1e3!=0)return{unit:"millisecond",value:c};if(c%6e4!=0)return{unit:"second",value:c/1e3};if(c%36e5!=0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return a.days?b||a.days%7!=0?{unit:"day",value:a.days}:{unit:"week",value:a.days/7}:a.months?{unit:"month",value:a.months}:a.years?{unit:"year",value:a.years}:{unit:"millisecond",value:0}}function Aa(a,b){b.left&&q(a,{borderLeftWidth:1,marginLeft:b.left-1}),b.right&&q(a,{borderRightWidth:1,marginRight:b.right-1})}function Ba(a){q(a,{marginLeft:"",marginRight:"",borderLeftWidth:"",borderRightWidth:""})}function Ca(){document.body.classList.add("fc-not-allowed")}function Da(){document.body.classList.remove("fc-not-allowed")}function Ea(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=[],g=[],h=[],i=0;Fa(a),a.forEach(function(b,c){var j=c===a.length-1?e:d,k=b.getBoundingClientRect().height,l=k+G(b);l<j?(f.push(b),g.push(l),h.push(k)):i+=l}),c&&(b-=i,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1))),f.forEach(function(a,b){var c=b===f.length-1?e:d,i=g[b],j=h[b],k=c-(i-j);i<c&&(a.style.height=k+"px")})}function Fa(a){a.forEach(function(a){a.style.height=""})}function Ga(a){var b=0;return a.forEach(function(a){var c=a.firstChild;if(c instanceof HTMLElement){var d=c.getBoundingClientRect().width;d>b&&(b=d)}}),b++,a.forEach(function(a){a.style.width=b+"px"}),b}function Ha(a,b){var c={position:"relative",left:-1};q(a,c),q(b,c);var d=a.getBoundingClientRect().height-b.getBoundingClientRect().height,e={position:"",left:""};return q(a,e),q(b,e),d}function Ia(a){a.classList.add("fc-unselectable"),a.addEventListener("selectstart",J)}function Ja(a){a.classList.remove("fc-unselectable"),a.removeEventListener("selectstart",J)}function Ka(a){a.addEventListener("contextmenu",J)}function La(a){a.removeEventListener("contextmenu",J)}function Ma(a){var b,c,d=[],e=[];for("string"==typeof a?e=a.split(/\s*,\s*/):"function"==typeof a?e=[a]:Array.isArray(a)&&(e=a),b=0;b<e.length;b++)c=e[b],"string"==typeof c?d.push("-"===c.charAt(0)?{field:c.substring(1),order:-1}:{field:c,order:1}):"function"==typeof c&&d.push({func:c});return d}function Na(a,b,c){var d,e;for(d=0;d<c.length;d++)if(e=Oa(a,b,c[d]))return e;return 0}function Oa(a,b,c){return c.func?c.func(a,b):Pa(a[c.field],b[c.field])*(c.order||1)}function Pa(a,b){return a||b?null==b?-1:null==a?1:"string"==typeof a||"string"==typeof b?String(a).localeCompare(String(b)):a-b:0}function Qa(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Ra(a,b){var c=String(a);return"000".substr(0,b-c.length)+c}function Sa(a,b){return a-b}function Ta(a){return a%1==0}function Ua(a,b,c){if("function"==typeof a&&(a=[a]),a){var d=void 0,e=void 0;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function Va(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)if(void 0!==a[c])return a[c]}function Wa(a,b){var c,d,e,f,g,h=function(){var i=(new Date).valueOf()-f;i<b?c=setTimeout(h,b-i):(c=null,g=a.apply(e,d),e=d=null)};return function(){return e=this,d=arguments,f=(new Date).valueOf(),c||(c=setTimeout(h,b)),g}}function Xa(a,b,c,d){void 0===c&&(c={})
;var e={};for(var f in b){var g=b[f];void 0!==a[f]?g===Function?e[f]="function"==typeof a[f]?a[f]:null:e[f]=g?g(a[f]):a[f]:void 0!==c[f]?e[f]=c[f]:g===String?e[f]="":g&&g!==Number&&g!==Boolean&&g!==Function?e[f]=g(null):e[f]=null}if(d)for(var f in a)void 0===b[f]&&(d[f]=a[f]);return e}function Ya(a){var b=Math.floor(R(a.start,a.end))||1,c=Y(a.start);return{start:c,end:O(c,b)}}function Za(a,b){void 0===b&&(b=ja(0));var c=null,d=null;if(a.end){d=Y(a.end);var e=a.end.valueOf()-d.valueOf();e&&e>=xa(b)&&(d=O(d,1))}return a.start&&(c=Y(a.start),d&&d<=c&&(d=O(c,1))),{start:c,end:d}}function $a(a){var b=Za(a);return R(b.start,b.end)>1}function _a(a,b,c,d){return"year"===d?ja(c.diffWholeYears(a,b),"year"):"month"===d?ja(c.diffWholeMonths(a,b),"month"):V(a,b)}function ab(a,b){function c(){this.constructor=a}we(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function bb(a,b,c,d,e){for(var f=0;f<d.length;f++){var g={},h=d[f].parse(a,g,c);if(h){var i=g.allDay;return delete g.allDay,null==i&&null==(i=b)&&null==(i=h.allDayGuess)&&(i=!1),xe(e,g),{allDay:i,duration:h.duration,typeData:h.typeData,typeId:f}}}return null}function cb(a,b,c,d,e){var f=e[a.recurringDef.typeId],g=f.expand(a.recurringDef.typeData,{start:d.subtract(c.start,b),end:c.end},d);return a.allDay&&(g=g.map(Y)),g}function db(a,b){var c,d,e,f,g,h,i={};if(b)for(c=0;c<b.length;c++){for(d=b[c],e=[],f=a.length-1;f>=0;f--)if("object"==typeof(g=a[f][d])&&g)e.unshift(g);else if(void 0!==g){i[d]=g;break}e.length&&(i[d]=db(e))}for(c=a.length-1;c>=0;c--){h=a[c];for(d in h)d in i||(i[d]=h[d])}return i}function eb(a,b){var c={};for(var d in a)b(a[d],d)&&(c[d]=a[d]);return c}function fb(a,b){var c={};for(var d in a)c[d]=b(a[d],d);return c}function gb(a){for(var b={},c=0,d=a;c<d.length;c++){b[d[c]]=!0}return b}function hb(a){var b=[];for(var c in a)b.push(a[c]);return b}function ib(a,b){for(var c in a)if(ye.call(a,c)&&!(c in b))return!1;for(var c in b)if(ye.call(b,c)&&a[c]!==b[c])return!1;return!0}function jb(a,b,c,d){for(var e=qb(),f=0,g=a;f<g.length;f++){var h=g[f],i=Dc(h,b,c,d);i&&kb(i,e)}return e}function kb(a,b){return void 0===b&&(b=qb()),b.defs[a.def.defId]=a.def,a.instance&&(b.instances[a.instance.instanceId]=a.instance),b}function lb(a,b,c){var d=c.dateEnv,e=a.defs,f=a.instances;f=eb(f,function(a){return!e[a.defId].recurringDef});for(var g in e){var h=e[g];if(h.recurringDef){var i=h.recurringDef.duration;i||(i=h.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);for(var j=cb(h,i,b,c.dateEnv,c.pluginSystem.hooks.recurringTypes),k=0,l=j;k<l.length;k++){var m=l[k],n=Fc(g,{start:m,end:d.add(m,i)});f[n.instanceId]=n}}}return{defs:e,instances:f}}function mb(a,b){var c=a.instances[b];if(c){var d=a.defs[c.defId],e=sb(a,function(a){return nb(d,a)});return e.defs[d.defId]=d,e.instances[c.instanceId]=c,e}return qb()}function nb(a,b){return Boolean(a.groupId&&a.groupId===b.groupId)}function ob(a,b,c){var d=c.opt("eventDataTransform"),e=b?b.eventDataTransform:null;return e&&(a=pb(a,e)),d&&(a=pb(a,d)),a}function pb(a,b){var c;if(b){c=[];for(var d=0,e=a;d<e.length;d++){var f=e[d],g=b(f);g?c.push(g):null==g&&c.push(f)}}else c=a;return c}function qb(){return{defs:{},instances:{}}}function rb(a,b){return{defs:xe({},a.defs,b.defs),instances:xe({},a.instances,b.instances)}}function sb(a,b){var c=eb(a.defs,b),d=eb(a.instances,function(a){return c[a.defId]});return{defs:c,instances:d}}function tb(a,b){var c=null,d=null;return a.start&&(c=b.createMarker(a.start)),a.end&&(d=b.createMarker(a.end)),c||d?c&&d&&d<c?null:{start:c,end:d}:null}function ub(a,b){var c,d,e=[],f=b.start;for(a.sort(vb),c=0;c<a.length;c++)d=a[c],d.start>f&&e.push({start:f,end:d.start}),d.end>f&&(f=d.end);return f<b.end&&e.push({start:f,end:b.end}),e}function vb(a,b){return a.start.valueOf()-b.start.valueOf()}function wb(a,b){var c=a.start,d=a.end,e=null;return null!==b.start&&(c=null===c?b.start:new Date(Math.max(c.valueOf(),b.start.valueOf()))),null!=b.end&&(d=null===d?b.end:new Date(Math.min(d.valueOf(),b.end.valueOf()))),(null===c||null===d||c<d)&&(e={start:c,end:d}),e}function xb(a,b){return(null===a.start?null:a.start.valueOf())===(null===b.start?null:b.start.valueOf())&&(null===a.end?null:a.end.valueOf())===(null===b.end?null:b.end.valueOf())}function yb(a,b){return(null===a.end||null===b.start||a.end>b.start)&&(null===a.start||null===b.end||a.start<b.end)}function zb(a,b){return(null===a.start||null!==b.start&&b.start>=a.start)&&(null===a.end||null!==b.end&&b.end<=a.end)}function Ab(a,b){return(null===a.start||b>=a.start)&&(null===a.end||b<a.end)}function Bb(a,b){return null!=b.start&&a<b.start?b.start:null!=b.end&&a>=b.end?new Date(b.end.valueOf()-1):a}function Cb(a,b){for(var c=0,d=0;d<a.length;)a[d]===b?(a.splice(d,1),c++):d++;return c}function Db(a,b){var c,d=a.length;if(d!==b.length)return!1;for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}function Eb(a){var b,c;return function(){return b&&Db(b,arguments)||(b=arguments,c=a.apply(this,arguments)),c}}function Fb(a,b){var c=null;return function(){var d=a.apply(this,arguments);return(null===c||c!==d&&!b(c,d))&&(c=d),c}}function Gb(a,b,c){var d=Object.keys(a).length;return 1===d&&"short"===a.timeZoneName?function(a){return Sb(a.timeZoneOffset)}:0===d&&b.week?function(a){return Lb(c.computeWeekNumber(a.marker),c.weekLabel,c.locale,b.week)}:Hb(a,b,c)}function Hb(a,b,c){a=xe({},a),b=xe({},b),Ib(a,b),a.timeZone="UTC";var d,e=new Intl.DateTimeFormat(c.locale.codes,a);if(b.omitZeroMinute){var f=xe({},a);delete f.minute,d=new Intl.DateTimeFormat(c.locale.codes,f)}return function(f){var g,h=f.marker;return g=d&&!h.getUTCMinutes()?d:e,Jb(g.format(h),f,a,b,c)}}function Ib(a,b){a.timeZoneName&&(a.hour||(a.hour="2-digit"),a.minute||(a.minute="2-digit")),"long"===a.timeZoneName&&(a.timeZoneName="short"),b.omitZeroMinute&&(a.second||a.millisecond)&&delete b.omitZeroMinute}function Jb(a,b,c,d,e){return a=a.replace(Ee,""),"short"===c.timeZoneName&&(a=Kb(a,"UTC"===e.timeZone||null==b.timeZoneOffset?"UTC":Sb(b.timeZoneOffset))),d.omitCommas&&(a=a.replace(Ce,"").trim()),d.omitZeroMinute&&(a=a.replace(":00","")),!1===d.meridiem?a=a.replace(Be,"").trim():"narrow"===d.meridiem?a=a.replace(Be,function(a,b){return b.toLocaleLowerCase()}):"short"===d.meridiem?a=a.replace(Be,function(a,b){return b.toLocaleLowerCase()+"m"}):"lowercase"===d.meridiem&&(a=a.replace(Be,function(a){return a.toLocaleLowerCase()})),a=a.replace(De," "),a=a.trim()}function Kb(a,b){var c=!1;return a=a.replace(Fe,function(){return c=!0,b}),c||(a+=" "+b),a}function Lb(a,b,c,d){var e=[];return"narrow"===d?e.push(b):"short"===d&&e.push(b," "),e.push(c.simpleNumberFormat.format(a)),c.options.isRtl&&e.reverse(),e.join("")}function Mb(a,b,c){return c.getMarkerYear(a)!==c.getMarkerYear(b)?5:c.getMarkerMonth(a)!==c.getMarkerMonth(b)?4:c.getMarkerDay(a)!==c.getMarkerDay(b)?2:ia(a)!==ia(b)?1:0}function Nb(a,b){var c={};for(var d in a)d in Ae&&!(Ae[d]<=b)||(c[d]=a[d]);return c}function Ob(a,b,c,d){for(var e=0;e<a.length;){var f=a.indexOf(b,e);if(-1===f)break;var g=a.substr(0,f);e=f+b.length;for(var h=a.substr(e),i=0;i<c.length;){var j=c.indexOf(d,i);if(-1===j)break;var k=c.substr(0,j);i=j+d.length;var l=c.substr(i);if(g===k&&h===l)return{before:g,after:h}}}return null}function Pb(a,b){return"object"==typeof a&&a?("string"==typeof b&&(a=xe({separator:b},a)),new Ge(a)):"string"==typeof a?new He(a,b):"function"==typeof a?new Ie(a):void 0}function Qb(a,b,c){void 0===c&&(c=!1);var d=a.toISOString();return d=d.replace(".000",""),c&&(d=d.replace("T00:00:00Z","")),d.length>10&&(null==b?d=d.replace("Z",""):0!==b&&(d=d.replace("Z",Sb(b,!0)))),d}function Rb(a){return Ra(a.getUTCHours(),2)+":"+Ra(a.getUTCMinutes(),2)+":"+Ra(a.getUTCSeconds(),2)}function Sb(a,b){void 0===b&&(b=!1);var c=a<0?"-":"+",d=Math.abs(a),e=Math.floor(d/60),f=Math.round(d%60);return b?c+Ra(e,2)+":"+Ra(f,2):"GMT"+c+e+(f?":"+Ra(f,2):"")}function Tb(a,b,c,d){var e=Ub(a,c.calendarSystem);return{date:e,start:e,end:b?Ub(b,c.calendarSystem):null,timeZone:c.timeZone,localeCodes:c.locale.codes,separator:d}}function Ub(a,b){var c=b.markerToArray(a.marker);return{marker:a.marker,timeZoneOffset:a.timeZoneOffset,array:c,year:c[0],month:c[1],day:c[2],hour:c[3],minute:c[4],second:c[5],millisecond:c[6]}}function Vb(a,b,c,d){var e={},f={},g={},h=[],i=[],j=$b(a.defs,b);for(var k in a.defs){var l=a.defs[k];"inverse-background"===l.rendering&&(l.groupId?(e[l.groupId]=[],g[l.groupId]||(g[l.groupId]=l)):f[k]=[])}for(var m in a.instances){var n=a.instances[m],l=a.defs[n.defId],o=j[l.defId],p=n.range,q=!l.allDay&&d?Za(p,d):p,r=wb(q,c);r&&("inverse-background"===l.rendering?l.groupId?e[l.groupId].push(r):f[n.defId].push(r):("background"===l.rendering?h:i).push({def:l,ui:o,instance:n,range:r,isStart:q.start&&q.start.valueOf()===r.start.valueOf(),isEnd:q.end&&q.end.valueOf()===r.end.valueOf()}))}for(var s in e)for(var t=e[s],u=ub(t,c),v=0,w=u;v<w.length;v++){var x=w[v],l=g[s],o=j[l.defId];h.push({def:l,ui:o,instance:null,range:x,isStart:!1,isEnd:!1})}for(var k in f)for(var t=f[k],u=ub(t,c),y=0,z=u;y<z.length;y++){var x=z[y];h.push({def:a.defs[k],ui:j[k],instance:null,range:x,isStart:!1,isEnd:!1})}return{bg:h,fg:i}}function Wb(a){return"background"===a.rendering||"inverse-background"===a.rendering}function Xb(a,b,c){a.hasPublicHandlers("eventRender")&&(b=b.filter(function(b){var d=a.publiclyTrigger("eventRender",[{event:new Ke(a.calendar,b.eventRange.def,b.eventRange.instance),isMirror:c,isStart:b.isStart,isEnd:b.isEnd,el:b.el,view:a}]);return!1!==d&&(d&&!0!==d&&(b.el=d),!0)}));for(var d=0,e=b;d<e.length;d++){var f=e[d];Yb(f.el,f)}return b}function Yb(a,b){a.fcSeg=b}function Zb(a){return a.fcSeg||null}function $b(a,b){return fb(a,function(a){return _b(a,b)})}function _b(a,b){var c=[];return b[""]&&c.push(b[""]),b[a.defId]&&c.push(b[a.defId]),c.push(a.ui),Bc(c)}function ac(a,b,c,d){var e=$b(a.defs,b),f=qb();for(var g in a.defs){var h=a.defs[g];f.defs[g]=bc(h,e[g],c,d.pluginSystem.hooks.eventDefMutationAppliers,d)}for(var i in a.instances){var j=a.instances[i],h=f.defs[j.defId];f.instances[i]=cc(j,h,e[j.defId],c,d)}return f}function bc(a,b,c,d,e){var f=c.standardProps||{};null==f.hasEnd&&b.durationEditable&&(c.startDelta||c.endDelta)&&(f.hasEnd=!0);var g=xe({},a,f,{ui:xe({},a.ui,f.ui)});c.extendedProps&&(g.extendedProps=xe({},g.extendedProps,c.extendedProps));for(var h=0,i=d;h<i.length;h++){(0,i[h])(g,c,e)}return!g.hasEnd&&e.opt("forceEventDuration")&&(g.hasEnd=!0),g}function cc(a,b,c,d,e){var f=e.dateEnv,g=d.standardProps&&!0===d.standardProps.allDay,h=d.standardProps&&!1===d.standardProps.hasEnd,i=xe({},a);return g&&(i.range=Ya(i.range)),d.datesDelta&&c.startEditable&&(i.range={start:f.add(i.range.start,d.datesDelta),end:f.add(i.range.end,d.datesDelta)}),d.startDelta&&c.durationEditable&&(i.range={start:f.add(i.range.start,d.startDelta),end:i.range.end}),d.endDelta&&c.durationEditable&&(i.range={start:i.range.start,end:f.add(i.range.end,d.endDelta)}),h&&(i.range={start:i.range.start,end:e.getDefaultEventEnd(b.allDay,i.range.start)}),b.allDay&&(i.range={start:Y(i.range.start),end:Y(i.range.end)}),i.range.end<i.range.start&&(i.range.end=e.getDefaultEventEnd(b.allDay,i.range.start)),i}function dc(a,b,c,d,e){switch(b.type){case"RECEIVE_EVENTS":return ec(a,c[b.sourceId],b.fetchId,b.fetchRange,b.rawEvents,e);case"ADD_EVENTS":return fc(a,b.eventStore,d?d.activeRange:null,e);case"MERGE_EVENTS":return rb(a,b.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return d?lb(a,d.activeRange,e):a;case"CHANGE_TIMEZONE":return gc(a,b.oldDateEnv,e.dateEnv);case"MUTATE_EVENTS":return hc(a,b.instanceId,b.mutation,b.fromApi,e);case"REMOVE_EVENT_INSTANCES":return jc(a,b.instances);case"REMOVE_EVENT_DEF":return sb(a,function(a){return a.defId!==b.defId});case"REMOVE_EVENT_SOURCE":return ic(a,b.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sb(a,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return qb();case"RESET_EVENTS":return{defs:a.defs,instances:a.instances};default:return a}}function ec(a,b,c,d,e,f){if(b&&c===b.latestFetchId){var g=jb(ob(e,b,f),b.sourceId,f);return d&&(g=lb(g,d,f)),rb(ic(a,b.sourceId),g)}return a}function fc(a,b,c,d){return c&&(b=lb(b,c,d)),rb(a,b)}function gc(a,b,c){var d=a.defs,e=fb(a.instances,function(a){var e=d[a.defId];return e.allDay||e.recurringDef?a:xe({},a,{range:{start:c.createMarker(b.toDate(a.range.start,a.forcedStartTzo)),end:c.createMarker(b.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:c.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:c.canComputeOffset?null:a.forcedEndTzo})});return{defs:d,instances:e}}function hc(a,b,c,d,e){var f=mb(a,b);return f=ac(f,d?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:e.eventUiBases,c,e),rb(a,f)}function ic(a,b){return sb(a,function(a){return a.sourceId!==b})}function jc(a,b){return{defs:a.defs,instances:eb(a.instances,function(a){return!b[a.instanceId]})}}function kc(a,b){return mc({eventDrag:a},b)}function lc(a,b){return mc({dateSelection:a},b)}function mc(a,b){var c=b.view,d=xe({businessHours:c?c.props.businessHours:qb(),dateSelection:"",eventStore:b.state.eventStore,eventUiBases:b.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},a);return(b.pluginSystem.hooks.isPropsValid||nc)(d,b)}function nc(a,b,c,d){return void 0===c&&(c={}),!(a.eventDrag&&!oc(a,b,c,d))&&!(a.dateSelection&&!pc(a,b,c,d))}function oc(a,b,c,d){var e=a.eventDrag,f=e.mutatedEvents,g=f.defs,h=f.instances,i=$b(g,e.isEvent?a.eventUiBases:{"":b.selectionConfig});d&&(i=fb(i,d));var j=jc(a.eventStore,e.affectedEvents.instances),k=j.defs,l=j.instances,m=$b(k,a.eventUiBases);for(var n in h){var o=h[n],p=o.range,q=i[o.defId],r=g[o.defId];if(!qc(q.constraints,p,j,a.businessHours,b))return!1;var s=b.opt("eventOverlap");"function"!=typeof s&&(s=null);for(var t in l){var u=l[t];if(yb(p,u.range)){if(!1===m[u.defId].overlap&&e.isEvent)return!1;if(!1===q.overlap)return!1;if(s&&!s(new Ke(b,k[u.defId],u),new Ke(b,r,o)))return!1}}for(var v=b.state.eventStore,w=0,x=q.allows;w<x.length;w++){var y=x[w],z=xe({},c,{range:o.range,allDay:r.allDay}),A=v.defs[r.defId],B=v.instances[n],C=void 0;if(C=A?new Ke(b,A,B):new Ke(b,r),!y(b.buildDateSpanApi(z),C))return!1}}return!0}function pc(a,b,c,d){var e=a.eventStore,f=e.defs,g=e.instances,h=a.dateSelection,i=h.range,j=b.selectionConfig;if(d&&(j=d(j)),!qc(j.constraints,i,e,a.businessHours,b))return!1;var k=b.opt("selectOverlap");"function"!=typeof k&&(k=null);for(var l in g){var m=g[l];if(yb(i,m.range)){if(!1===j.overlap)return!1;if(k&&!k(new Ke(b,f[m.defId],m)))return!1}}for(var n=0,o=j.allows;n<o.length;n++){var p=o[n],q=xe({},c,h);if(!p(b.buildDateSpanApi(q),null))return!1}return!0}function qc(a,b,c,d,e){for(var f=0,g=a;f<g.length;f++){if(!tc(rc(g[f],b,c,d,e),b))return!1}return!0}function rc(a,b,c,d,e){return"businessHours"===a?sc(lb(d,b,e)):"string"==typeof a?sc(sb(c,function(b){return b.groupId===a})):"object"==typeof a&&a?sc(lb(a,b,e)):[]}function sc(a){var b=a.instances,c=[];for(var d in b)c.push(b[d].range);return c}function tc(a,b){for(var c=0,d=a;c<d.length;c++){if(zb(d[c],b))return!0}return!1}function uc(a,b){return Array.isArray(a)?jb(a,"",b,!0):"object"==typeof a&&a?jb([a],"",b,!0):null!=a?String(a):null}function vc(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function wc(a){var b=[];for(var c in a){var d=a[c];null!=d&&""!==d&&b.push(c+":"+d)}return b.join(";")}function xc(a){var b=[];for(var c in a){var d=a[c];null!=d&&b.push(c+'="'+vc(d)+'"')}return b.join(" ")}function yc(a){return Array.isArray(a)?a:"string"==typeof a?a.split(/\s+/):[]}function zc(a,b,c){var d=Xa(a,Le,{},c),e=uc(d.constraint,b);return{startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=e?[e]:[],overlap:d.overlap,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color,borderColor:d.borderColor||d.color,textColor:d.textColor,classNames:d.classNames.concat(d.className)}}function Ac(a,b,c,d){var e={},f={};for(var g in Le){var h=a+Qa(g);e[g]=b[h],f[h]=!0}if("event"===a&&(e.editable=b.editable),d)for(var g in b)f[g]||(d[g]=b[g]);return zc(e,c)}function Bc(a){return a.reduce(Cc,Me)}function Cc(a,b){return{startEditable:null!=b.startEditable?b.startEditable:a.startEditable,durationEditable:null!=b.durationEditable?b.durationEditable:a.durationEditable,constraints:a.constraints.concat(b.constraints),overlap:"boolean"==typeof b.overlap?b.overlap:a.overlap,allows:a.allows.concat(b.allows),backgroundColor:b.backgroundColor||a.backgroundColor,borderColor:b.borderColor||a.borderColor,textColor:b.textColor||a.textColor,classNames:a.classNames.concat(b.classNames)}}function Dc(a,b,c,d){var e=Jc(b,c),f={},g=bb(a,e,c.dateEnv,c.pluginSystem.hooks.recurringTypes,f);if(g){var h=Ec(f,b,g.allDay,Boolean(g.duration),c);return h.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:h,instance:null}}var i={},j=Gc(a,e,c,i,d);if(j){var h=Ec(i,b,j.allDay,j.hasEnd,c);return{def:h,instance:Fc(h.defId,j.range,j.forcedStartTzo,j.forcedEndTzo)}}return null}function Ec(a,b,c,d,e){var f={},g=Ic(a,e,f);g.defId=String(Pe++),g.sourceId=b,g.allDay=c,g.hasEnd=d;for(var h=0,i=e.pluginSystem.hooks.eventDefParsers;h<i.length;h++){var j=i[h],k={};j(g,f,k),f=k}return g.extendedProps=xe(f,g.extendedProps||{}),Object.freeze(g.ui.classNames),Object.freeze(g.extendedProps),g}function Fc(a,b,c,d){return{instanceId:String(Pe++),defId:a,range:b,forcedStartTzo:null==c?null:c,forcedEndTzo:null==d?null:d}}function Gc(a,b,c,d,e){var f,g,h=Hc(a,d),i=h.allDay,j=null,k=!1,l=null;if(f=c.dateEnv.createMarkerMeta(h.start))j=f.marker;else if(!e)return null;return null!=h.end&&(g=c.dateEnv.createMarkerMeta(h.end)),null==i&&(i=null!=b?b:(!f||f.isTimeUnspecified)&&(!g||g.isTimeUnspecified)),i&&j&&(j=Y(j)),g&&(l=g.marker,i&&(l=Y(l)),j&&l<=j&&(l=null)),l?k=!0:e||(k=c.opt("forceEventDuration")||!1,l=c.dateEnv.add(j,i?c.defaultAllDayEventDuration:c.defaultTimedEventDuration)),{allDay:i,hasEnd:k,range:{start:j,end:l},forcedStartTzo:f?f.forcedTzo:null,forcedEndTzo:g?g.forcedTzo:null}}function Hc(a,b){var c=Xa(a,Oe,{},b);return c.start=null!==c.start?c.start:c.date,delete c.date,c}function Ic(a,b,c){var d={},e=Xa(a,Ne,{},d),f=zc(d,b,c);return e.publicId=e.id,delete e.id,e.ui=f,e}function Jc(a,b){var c=null;if(a){c=b.state.eventSources[a].allDayDefault}return null==c&&(c=b.opt("allDayDefault")),c}function Kc(a,b){return jb(Lc(a),"",b)}function Lc(a){var b;return b=!0===a?[{}]:Array.isArray(a)?a.filter(function(a){return a.daysOfWeek}):"object"==typeof a&&a?[a]:[],b=b.map(function(a){return xe({},Qe,a)})}function Mc(a,b,c){function d(){if(g){for(var a=0,c=h;a<c.length;a++){c[a].unrender()}b&&b.apply(f,g),g=null}}function e(){g&&Db(g,arguments)||(d(),f=this,g=arguments,a.apply(this,arguments))}void 0===c&&(c=[]);var f,g,h=[];e.dependents=h,e.unrender=d;for(var i=0,j=c;i<j.length;i++){j[i].dependents.push(e)}return e}function Nc(a,b,c){var d=[];a&&d.push(a),b&&d.push(b);var e={"":Bc(d)};return c&&xe(e,c),e}function Oc(a,b,c,d){var e,f,g,h,i=a.dateEnv;return b instanceof Date?e=b:(e=b.date,f=b.type,g=b.forceOff),h={date:i.formatIso(e,{omitTime:!0}),type:f||"day"},"string"==typeof c&&(d=c,c=null),c=c?" "+xc(c):"",d=d||"",!g&&a.opt("navLinks")?"<a"+c+' data-goto="'+vc(JSON.stringify(h))+'">'+d+"</a>":"<span"+c+">"+d+"</span>"}function Pc(a){return a.opt("allDayHtml")||vc(a.opt("allDayText"))}function Qc(a,b,c,d){var e,f,g=c.calendar,h=c.view,i=c.theme,j=c.dateEnv,k=[];return Ab(b.activeRange,a)?(k.push("fc-"+te[a.getUTCDay()]),h.opt("monthMode")&&j.getMonth(a)!==j.getMonth(b.currentRange.start)&&k.push("fc-other-month"),e=Y(g.getNow()),f=O(e,1),a<e?k.push("fc-past"):a>=f?k.push("fc-future"):(k.push("fc-today"),!0!==d&&k.push(i.getClass("today")))):k.push("fc-disabled-day"),k}function Rc(a,b,c){var d=!1,e=function(){d||(d=!0,b.apply(this,arguments))},f=function(){d||(d=!0,c&&c.apply(this,arguments))},g=a(e,f);g&&"function"==typeof g.then&&g.then(e,f)}function Sc(a,b,c){(a[b]||(a[b]=[])).push(c)}function Tc(a,b,c){c?a[b]&&(a[b]=a[b].filter(function(a){return a!==c})):delete a[b]}function Uc(a,b,c){var d={},e=!1;for(var f in b)f in a&&(a[f]===b[f]||c[f]&&c[f](a[f],b[f]))?d[f]=a[f]:(d[f]=b[f],e=!0);for(var f in a)if(!(f in b)){e=!0;break}return{anyChanges:e,comboProps:d}}function Vc(a){return{id:String(cf++),deps:a.deps||[],reducers:a.reducers||[],eventDefParsers:a.eventDefParsers||[],isDraggableTransformers:a.isDraggableTransformers||[],eventDragMutationMassagers:a.eventDragMutationMassagers||[],eventDefMutationAppliers:a.eventDefMutationAppliers||[],dateSelectionTransformers:a.dateSelectionTransformers||[],datePointTransforms:a.datePointTransforms||[],dateSpanTransforms:a.dateSpanTransforms||[],views:a.views||{},viewPropsTransformers:a.viewPropsTransformers||[],isPropsValid:a.isPropsValid||null,externalDefTransforms:a.externalDefTransforms||[],eventResizeJoinTransforms:a.eventResizeJoinTransforms||[],viewContainerModifiers:a.viewContainerModifiers||[],eventDropTransformers:a.eventDropTransformers||[],componentInteractions:a.componentInteractions||[],calendarInteractions:a.calendarInteractions||[],themeClasses:a.themeClasses||{},eventSourceDefs:a.eventSourceDefs||[],cmdFormatter:a.cmdFormatter,recurringTypes:a.recurringTypes||[],namedTimeZonedImpl:a.namedTimeZonedImpl,defaultView:a.defaultView||"",elementDraggingImpl:a.elementDraggingImpl,optionChangeHandlers:a.optionChangeHandlers||{}}}function Wc(a,b){return{reducers:a.reducers.concat(b.reducers),eventDefParsers:a.eventDefParsers.concat(b.eventDefParsers),isDraggableTransformers:a.isDraggableTransformers.concat(b.isDraggableTransformers),eventDragMutationMassagers:a.eventDragMutationMassagers.concat(b.eventDragMutationMassagers),eventDefMutationAppliers:a.eventDefMutationAppliers.concat(b.eventDefMutationAppliers),dateSelectionTransformers:a.dateSelectionTransformers.concat(b.dateSelectionTransformers),datePointTransforms:a.datePointTransforms.concat(b.datePointTransforms),dateSpanTransforms:a.dateSpanTransforms.concat(b.dateSpanTransforms),views:xe({},a.views,b.views),viewPropsTransformers:a.viewPropsTransformers.concat(b.viewPropsTransformers),isPropsValid:b.isPropsValid||a.isPropsValid,externalDefTransforms:a.externalDefTransforms.concat(b.externalDefTransforms),eventResizeJoinTransforms:a.eventResizeJoinTransforms.concat(b.eventResizeJoinTransforms),viewContainerModifiers:a.viewContainerModifiers.concat(b.viewContainerModifiers),eventDropTransformers:a.eventDropTransformers.concat(b.eventDropTransformers),calendarInteractions:a.calendarInteractions.concat(b.calendarInteractions),componentInteractions:a.componentInteractions.concat(b.componentInteractions),themeClasses:xe({},a.themeClasses,b.themeClasses),eventSourceDefs:a.eventSourceDefs.concat(b.eventSourceDefs),cmdFormatter:b.cmdFormatter||a.cmdFormatter,recurringTypes:a.recurringTypes.concat(b.recurringTypes),namedTimeZonedImpl:b.namedTimeZonedImpl||a.namedTimeZonedImpl,defaultView:a.defaultView||b.defaultView,elementDraggingImpl:a.elementDraggingImpl||b.elementDraggingImpl,optionChangeHandlers:xe({},a.optionChangeHandlers,b.optionChangeHandlers)}}function Xc(a,b,c,d,e){a=a.toUpperCase();var f=null;"GET"===a?b=Yc(b,c):f=Zc(c);var g=new XMLHttpRequest;g.open(a,b,!0),"GET"!==a&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.onload=function(){if(g.status>=200&&g.status<400)try{var a=JSON.parse(g.responseText);d(a,g)}catch(a){e("Failure parsing JSON",g)}else e("Request failed",g)},g.onerror=function(){e("Request failed",g)},g.send(f)}function Yc(a,b){return a+(-1===a.indexOf("?")?"?":"&")+Zc(b)}function Zc(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function $c(a,b,c){var d,e,f,g,h=c.dateEnv,i={};return d=a.startParam,null==d&&(d=c.opt("startParam")),e=a.endParam,null==e&&(e=c.opt("endParam")),f=a.timeZoneParam,null==f&&(f=c.opt("timeZoneParam")),g="function"==typeof a.extraParams?a.extraParams():a.extraParams||{},xe(i,g),i[d]=h.formatIso(b.start),i[e]=h.formatIso(b.end),"local"!==h.timeZone&&(i[f]=h.timeZone),i}function _c(a,b,c,d){for(var e=a?gb(a):null,f=Y(c.start),g=c.end,h=[];f<g;){var i=void 0;e&&!e[f.getUTCDay()]||(i=b?d.add(f,b):f,h.push(i)),f=O(f,1)}return h}function ad(a,b,c){for(var d=hb(b.state.eventSources),e=[],f=0,g=a;f<g.length;f++){for(var h=g[f],i=!1,j=0;j<d.length;j++)if(c(d[j]._raw,h)){d.splice(j,1),i=!0;break}i||e.push(h)}for(var k=0,l=d;k<l.length;k++){var m=l[k];b.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:m.sourceId})}for(var n=0,o=e;n<o.length;n++){var p=o[n];b.addEventSource(p)}}function bd(a,b){b.addPluginInputs(a)}function cd(a){return db(a,rf)}function dd(a){for(var b=[],c=0,d=a;c<d.length;c++){var e=d[c];if("string"==typeof e){var f="FullCalendar"+Qa(e);window[f]?b.push(window[f].default):console.warn("Plugin file not loaded for "+e)}else b.push(e)}return sf.concat(b)}function ed(a){for(var b=a.length>0?a[0].code:"en",c=window.FullCalendarLocalesAll||[],d=window.FullCalendarLocales||{},e=c.concat(hb(d),a),f={en:tf},g=0,h=e;g<h.length;g++){var i=h[g];f[i.code]=i}return{map:f,defaultCode:b}}function fd(a,b){return"object"!=typeof a||Array.isArray(a)?gd(a,b):id(a.code,[a.code],a)}function gd(a,b){var c=[].concat(a||[]);return id(a,c,hd(c,b)||tf)}function hd(a,b){for(var c=0;c<a.length;c++)for(var d=a[c].toLocaleLowerCase().split("-"),e=d.length;e>0;e--){var f=d.slice(0,e).join("-");if(b[f])return b[f]}return null}function id(a,b,c){var d=db([tf,c],["buttonText"]);delete d.code;var e=d.week;return delete d.week,{codeArg:a,codes:b,week:e,simpleNumberFormat:new Intl.NumberFormat(a),options:d}}function jd(a){return new vf[a]}function kd(a){var b=xf.exec(a);if(b){var c=new Date(Date.UTC(Number(b[1]),b[3]?Number(b[3])-1:0,Number(b[5]||1),Number(b[7]||0),Number(b[8]||0),Number(b[10]||0),b[12]?1e3*Number("0."+b[12]):0));if(ha(c)){var d=null;return b[13]&&(d=("-"===b[15]?-1:1)*(60*Number(b[16]||0)+Number(b[18]||0))),{marker:c,isTimeUnspecified:!b[6],timeZoneOffset:d}}}return null}function ld(a,b){return!b.pluginSystem.hooks.eventSourceDefs[a.sourceDefId].ignoreRange}function md(a,b){for(var c=b.pluginSystem.hooks.eventSourceDefs,d=c.length-1;d>=0;d--){var e=c[d],f=e.parseMeta(a);if(f){var g=nd("object"==typeof a?a:{},f,d,b);return g._raw=a,g}}return null}function nd(a,b,c,d){var e={},f=Xa(a,zf,{},e),g={},h=zc(e,d,g);return f.isFetching=!1,f.latestFetchId="",f.fetchRange=null,f.publicId=String(a.id||""),f.sourceId=String(Af++),f.sourceDefId=c,f.meta=b,f.ui=h,f.extendedProps=g,f}function od(a,b,c,d){switch(b.type){case"ADD_EVENT_SOURCES":return pd(a,b.sources,c?c.activeRange:null,d);case"REMOVE_EVENT_SOURCE":return qd(a,b.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return c?rd(a,c.activeRange,d):a;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return td(a,b.sourceIds?gb(b.sourceIds):wd(a,d),c?c.activeRange:null,d);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return vd(a,b.sourceId,b.fetchId,b.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return a}}function pd(a,b,c,d){for(var e={},f=0,g=b;f<g.length;f++){var h=g[f];e[h.sourceId]=h}return c&&(e=rd(e,c,d)),xe({},a,e)}function qd(a,b){return eb(a,function(a){return a.sourceId!==b})}function rd(a,b,c){return td(a,eb(a,function(a){return sd(a,b,c)}),b,c)}function sd(a,b,c){return ld(a,c)?!c.opt("lazyFetching")||!a.fetchRange||b.start<a.fetchRange.start||b.end>a.fetchRange.end:!a.latestFetchId}function td(a,b,c,d){var e={};for(var f in a){var g=a[f];b[f]?e[f]=ud(g,c,d):e[f]=g}return e}function ud(a,b,c){var d=c.pluginSystem.hooks.eventSourceDefs[a.sourceDefId],e=String(Bf++);return d.fetch({eventSource:a,calendar:c,range:b},function(d){var f,g,h=d.rawEvents,i=c.opt("eventSourceSuccess");a.success&&(g=a.success(h,d.xhr)),i&&(f=i(h,d.xhr)),h=g||f||h,c.dispatch({type:"RECEIVE_EVENTS",sourceId:a.sourceId,fetchId:e,fetchRange:b,rawEvents:h})},function(d){var f=c.opt("eventSourceFailure");console.warn(d.message,d),a.failure&&a.failure(d),f&&f(d),c.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:a.sourceId,fetchId:e,fetchRange:b,error:d})}),xe({},a,{isFetching:!0,latestFetchId:e})}function vd(a,b,c,d){var e,f=a[b];return f&&c===f.latestFetchId?xe({},a,(e={},e[b]=xe({},f,{isFetching:!1,fetchRange:d}),e)):a}function wd(a,b){return eb(a,function(a){return ld(a,b)})}function xd(a,b){return xb(a.validRange,b.validRange)&&xb(a.activeRange,b.activeRange)&&xb(a.renderRange,b.renderRange)&&na(a.minTime,b.minTime)&&na(a.maxTime,b.maxTime)}function yd(a,b,c){for(var d=zd(a.viewType,b),e=Ad(a.dateProfile,b,a.currentDate,d,c),f=od(a.eventSources,b,e,c),g=xe({},a,{viewType:d,dateProfile:e,currentDate:Bd(a.currentDate,b,e),eventSources:f,eventStore:dc(a.eventStore,b,f,e,c),dateSelection:Cd(a.dateSelection,b,c),eventSelection:Dd(a.eventSelection,b),eventDrag:Ed(a.eventDrag,b,f,c),eventResize:Fd(a.eventResize,b,f,c),eventSourceLoadingLevel:Gd(f),loadingLevel:Gd(f)}),h=0,i=c.pluginSystem.hooks.reducers;h<i.length;h++){g=(0,i[h])(g,b,c)}return g}function zd(a,b){switch(b.type){case"SET_VIEW_TYPE":return b.viewType;default:return a}}function Ad(a,b,c,d,e){var f;switch(b.type){case"PREV":f=e.dateProfileGenerators[d].buildPrev(a,c);break;case"NEXT":f=e.dateProfileGenerators[d].buildNext(a,c);break;case"SET_DATE":a.activeRange&&Ab(a.currentRange,b.dateMarker)||(f=e.dateProfileGenerators[d].build(b.dateMarker,void 0,!0));break;case"SET_VIEW_TYPE":var g=e.dateProfileGenerators[d];if(!g)throw new Error(d?'The FullCalendar view "'+d+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");f=g.build(b.dateMarker||c,void 0,!0)}return!f||!f.isValid||a&&xd(a,f)?a:f}function Bd(a,b,c){switch(b.type){case"PREV":case"NEXT":return Ab(c.currentRange,a)?a:c.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var d=b.dateMarker||a;return c.activeRange&&!Ab(c.activeRange,d)?c.currentRange.start:d;default:return a}}function Cd(a,b,c){switch(b.type){case"SELECT_DATES":return b.selection;case"UNSELECT_DATES":return null;default:return a}}function Dd(a,b){switch(b.type){case"SELECT_EVENT":return b.eventInstanceId;case"UNSELECT_EVENT":return"";default:return a}}function Ed(a,b,c,d){switch(b.type){case"SET_EVENT_DRAG":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_DRAG":return null;default:return a}}function Fd(a,b,c,d){switch(b.type){case"SET_EVENT_RESIZE":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return a}}function Gd(a){var b=0;for(var c in a)a[c].isFetching&&b++;return b}function Hd(a,b,c){var d=Id(a,b),e=d.range;if(!e.start)return null;if(!e.end){if(null==c)return null;e.end=b.add(e.start,c)}return d}function Id(a,b){var c={},d=Xa(a,Df,{},c),e=d.start?b.createMarkerMeta(d.start):null,f=d.end?b.createMarkerMeta(d.end):null,g=d.allDay;return null==g&&(g=e&&e.isTimeUnspecified&&(!f||f.isTimeUnspecified)),c.range={start:e?e.marker:null,end:f?f.marker:null},c.allDay=g,c}function Jd(a,b){return xb(a.range,b.range)&&a.allDay===b.allDay&&Kd(a,b)}function Kd(a,b){for(var c in b)if("range"!==c&&"allDay"!==c&&a[c]!==b[c])return!1;for(var c in a)if(!(c in b))return!1;return!0}function Ld(a,b){return{start:b.toDate(a.range.start),end:b.toDate(a.range.end),startStr:b.formatIso(a.range.start,{omitTime:a.allDay}),endStr:b.formatIso(a.range.end,{omitTime:a.allDay}),allDay:a.allDay}}function Md(a,b){return{date:b.toDate(a.range.start),dateStr:b.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}function Nd(a,b,c){var d=Ec({editable:!1},"",a.allDay,!0,c);return{def:d,ui:_b(d,b),instance:Fc(d.defId,a.range),range:a.range,isStart:!0,isEnd:!0}}function Od(a,b){var c,d={};for(c in a)Pd(c,d,a,b)
;for(c in b)Pd(c,d,a,b);return d}function Pd(a,b,c,d){if(b[a])return b[a];var e=Qd(a,b,c,d);return e&&(b[a]=e),e}function Qd(a,b,c,d){var e=c[a],f=d[a],g=function(a){return e&&null!==e[a]?e[a]:f&&null!==f[a]?f[a]:null},h=g("class"),i=g("superType");!i&&h&&(i=Rd(h,d)||Rd(h,c));var j=null;if(i){if(i===a)throw new Error("Can't have a custom view type that references itself");j=Pd(i,b,c,d)}return!h&&j&&(h=j.class),h?{type:a,class:h,defaults:xe({},j?j.defaults:{},e?e.options:{}),overrides:xe({},j?j.overrides:{},f?f.options:{})}:null}function Rd(a,b){var c=Object.getPrototypeOf(a.prototype);for(var d in b){var e=b[d];if(e.class&&e.class.prototype===c)return d}return""}function Sd(a){return fb(a,Td)}function Td(a){"function"==typeof a&&(a={class:a});var b={},c=Xa(a,Ef,{},b);return{superType:c.type,class:c.class,options:b}}function Ud(a,b){var c=Sd(a),d=Sd(b.overrides.views);return fb(Od(c,d),function(a){return Vd(a,d,b)})}function Vd(a,b,c){var d=a.overrides.duration||a.defaults.duration||c.dynamicOverrides.duration||c.overrides.duration,e=null,f="",g="",h={};if(d&&(e=ja(d))){var i=za(e,!ma(d));f=i.unit,1===i.value&&(g=f,h=b[f]?b[f].options:{})}var j=function(b){var c=b.buttonText||{},d=a.defaults.buttonTextKey;return null!=d&&null!=c[d]?c[d]:null!=c[a.type]?c[a.type]:null!=c[g]?c[g]:void 0};return{type:a.type,class:a.class,duration:e,durationUnit:f,singleUnit:g,options:xe({},pf,a.defaults,c.dirDefaults,c.localeDefaults,c.overrides,h,a.overrides,c.dynamicOverrides),buttonTextOverride:j(c.dynamicOverrides)||j(c.overrides)||a.overrides.buttonText,buttonTextDefault:j(c.localeDefaults)||j(c.dirDefaults)||a.defaults.buttonText||j(pf)||a.type}}function Wd(a,b){var c;return c=/^(year|month)$/.test(a.currentRangeUnit)?a.currentRange:a.activeRange,this.dateEnv.formatRange(c.start,c.end,Pb(b.titleFormat||Xd(a),b.titleRangeSeparator),{isEndExclusive:a.isRangeAllDay})}function Xd(a){var b=a.currentRangeUnit;if("year"===b)return{year:"numeric"};if("month"===b)return{year:"numeric",month:"long"};var c=X(a.currentRange.start,a.currentRange.end);return null!==c&&c>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}function Yd(a){return a.map(function(a){return new a})}function Zd(a,b){return{component:a,el:b.el,useEventCenter:null==b.useEventCenter||b.useEventCenter}}function $d(a){var b;return b={},b[a.component.uid]=a,b}function _d(a,b,c,d,e,f,g){return new yf({calendarSystem:"gregory",timeZone:b,namedTimeZoneImpl:c,locale:a,weekNumberCalculation:e,firstDay:d,weekLabel:f,cmdFormatter:g})}function ae(a){return new(this.pluginSystem.hooks.themeClasses[a.themeSystem]||Lf)(a)}function be(a){var b=this.tryRerender.bind(this);return null!=a&&(b=Wa(b,a)),b}function ce(a){return fb(a,function(a){return a.ui})}function de(a,b,c){var d={"":b};for(var e in a){var f=a[e];f.sourceId&&c[f.sourceId]&&(d[e]=c[f.sourceId])}return d}function ee(a){var b=a.eventRange.def,c=a.eventRange.instance.range,d=c.start?c.start.valueOf():0,e=c.end?c.end.valueOf():0;return xe({},b.extendedProps,b,{id:b.publicId,start:d,end:e,duration:e-d,allDay:Number(b.allDay),_seg:a})}function fe(a,b){void 0===b&&(b={});var c=he(b),d=Pb(b),e=c.createMarkerMeta(a);return e?c.format(e.marker,d,{forcedTzo:e.forcedTzo}):""}function ge(a,b,c){var d=he("object"==typeof c&&c?c:{}),e=Pb(c,pf.defaultRangeSeparator),f=d.createMarkerMeta(a),g=d.createMarkerMeta(b);return f&&g?d.formatRange(f.marker,g.marker,e,{forcedStartTzo:f.forcedTzo,forcedEndTzo:g.forcedTzo,isEndExclusive:c.isEndExclusive}):""}function he(a){var b=fd(a.locale||"en",ed([]).map);return a=xe({timeZone:pf.timeZone,calendarSystem:"gregory"},a,{locale:b}),new yf(a)}function ie(a){var b={},c=Xa(a,Sf,Tf,b);return c.leftoverProps=b,c}function je(a,b){return!a||b>10?{weekday:"short"}:b>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}function ke(a,b,c,d,e,f,g,h){var i,j=f.view,k=f.dateEnv,l=f.theme,m=f.options,n=Ab(b.activeRange,a),o=["fc-day-header",l.getClass("widgetHeader")];return i="function"==typeof m.columnHeaderHtml?m.columnHeaderHtml(k.toDate(a)):vc("function"==typeof m.columnHeaderText?m.columnHeaderText(k.toDate(a)):k.format(a,e)),c?o=o.concat(Qc(a,b,f,!0)):o.push("fc-"+te[a.getUTCDay()]),'<th class="'+o.join(" ")+'"'+(n&&c?' data-date="'+k.formatIso(a,{omitTime:!0})+'"':"")+(g>1?' colspan="'+g+'"':"")+(h?" "+h:"")+">"+(n?Oc(j,{date:a,forceOff:!c||1===d},i):i)+"</th>"}function le(a,b){var c=a.activeRange;return b?c:{start:P(c.start,a.minTime.milliseconds),end:P(c.end,a.maxTime.milliseconds-864e5)}}var me={className:!0,colSpan:!0,rowSpan:!0},ne={"<tr":"tbody","<td":"tr"},oe=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,pe=Element.prototype.closest||function(a){var b=this;if(!document.documentElement.contains(b))return null;do{if(m(b,a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null},qe=/(top|left|right|bottom|width|height)$/i,re=null,se=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],te=["sun","mon","tue","wed","thu","fri","sat"],ue=["years","months","days","milliseconds"],ve=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/,we=function(a,b){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},xe=function(){return xe=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},xe.apply(this,arguments)},ye=Object.prototype.hasOwnProperty,ze={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ae={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Be=/\s*([ap])\.?m\.?/i,Ce=/,/g,De=/\s+/g,Ee=/\u200e/g,Fe=/UTC|GMT/,Ge=function(){function a(a){var b={},c={},d=0;for(var e in a)e in ze?(c[e]=a[e],d=Math.max(ze[e],d)):(b[e]=a[e],e in Ae&&(d=Math.max(Ae[e],d)));this.standardDateProps=b,this.extendedSettings=c,this.severity=d,this.buildFormattingFunc=Eb(Gb)}return a.prototype.format=function(a,b){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,b)(a)},a.prototype.formatRange=function(a,b,c){var d=this,e=d.standardDateProps,f=d.extendedSettings,g=Mb(a.marker,b.marker,c.calendarSystem);if(!g)return this.format(a,c);var h=g;!(h>1)||"numeric"!==e.year&&"2-digit"!==e.year||"numeric"!==e.month&&"2-digit"!==e.month||"numeric"!==e.day&&"2-digit"!==e.day||(h=1);var i=this.format(a,c),j=this.format(b,c);if(i===j)return i;var k=Nb(e,h),l=Gb(k,f,c),m=l(a),n=l(b),o=Ob(i,m,j,n),p=f.separator||"";return o?o.before+m+p+n+o.after:i+p+j},a.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},a}(),He=function(){function a(a,b){this.cmdStr=a,this.separator=b}return a.prototype.format=function(a,b){return b.cmdFormatter(this.cmdStr,Tb(a,null,b,this.separator))},a.prototype.formatRange=function(a,b,c){return c.cmdFormatter(this.cmdStr,Tb(a,b,c,this.separator))},a}(),Ie=function(){function a(a){this.func=a}return a.prototype.format=function(a,b){return this.func(Tb(a,null,b))},a.prototype.formatRange=function(a,b,c){return this.func(Tb(a,b,c))},a}(),Je=function(){function a(a,b){this.calendar=a,this.internalEventSource=b}return a.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},a.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(a.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),a}(),Ke=function(){function a(a,b,c){this._calendar=a,this._def=b,this._instance=c||null}return a.prototype.setProp=function(a,b){var c,d;if(a in Oe);else if(a in Ne)"function"==typeof Ne[a]&&(b=Ne[a](b)),this.mutate({standardProps:(c={},c[a]=b,c)});else if(a in Le){var e=void 0;"function"==typeof Le[a]&&(b=Le[a](b)),"color"===a?e={backgroundColor:b,borderColor:b}:"editable"===a?e={startEditable:b,durationEditable:b}:(d={},d[a]=b,e=d),this.mutate({standardProps:{ui:e}})}},a.prototype.setExtendedProp=function(a,b){var c;this.mutate({extendedProps:(c={},c[a]=b,c)})},a.prototype.setStart=function(a,b){void 0===b&&(b={});var c=this._calendar.dateEnv,d=c.createMarker(a);if(d&&this._instance){var e=this._instance.range,f=_a(e.start,d,c,b.granularity);b.maintainDuration?this.mutate({datesDelta:f}):this.mutate({startDelta:f})}},a.prototype.setEnd=function(a,b){void 0===b&&(b={});var c,d=this._calendar.dateEnv;if((null==a||(c=d.createMarker(a)))&&this._instance)if(c){var e=_a(this._instance.range.end,c,d,b.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})},a.prototype.setDates=function(a,b,c){void 0===c&&(c={});var d,e=this._calendar.dateEnv,f={allDay:c.allDay},g=e.createMarker(a);if(g&&(null==b||(d=e.createMarker(b)))&&this._instance){var h=this._instance.range;!0===c.allDay&&(h=Ya(h));var i=_a(h.start,g,e,c.granularity);if(d){var j=_a(h.end,d,e,c.granularity);na(i,j)?this.mutate({datesDelta:i,standardProps:f}):this.mutate({startDelta:i,endDelta:j,standardProps:f})}else f.hasEnd=!1,this.mutate({datesDelta:i,standardProps:f})}},a.prototype.moveStart=function(a){var b=ja(a);b&&this.mutate({startDelta:b})},a.prototype.moveEnd=function(a){var b=ja(a);b&&this.mutate({endDelta:b})},a.prototype.moveDates=function(a){var b=ja(a);b&&this.mutate({datesDelta:b})},a.prototype.setAllDay=function(a,b){void 0===b&&(b={});var c={allDay:a},d=b.maintainDuration;null==d&&(d=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==a&&(c.hasEnd=d),this.mutate({standardProps:c})},a.prototype.formatRange=function(a){var b=this._calendar.dateEnv,c=this._instance,d=Pb(a,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?b.formatRange(c.range.start,c.range.end,d,{forcedStartTzo:c.forcedStartTzo,forcedEndTzo:c.forcedEndTzo}):b.format(c.range.start,d,{forcedTzo:c.forcedStartTzo})},a.prototype.mutate=function(a){var b=this._def,c=this._instance;if(c){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:c.instanceId,mutation:a,fromApi:!0});var d=this._calendar.state.eventStore;this._def=d.defs[b.defId],this._instance=d.instances[c.instanceId]}},a.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(a.prototype,"source",{get:function(){var a=this._def.sourceId;return a?new Je(this._calendar,this._calendar.state.eventSources[a]):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),a}(),Le={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:yc,classNames:yc,color:String,backgroundColor:String,borderColor:String,textColor:String},Me={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]},Ne={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},Oe={start:null,date:null,end:null,allDay:null},Pe=0,Qe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",groupId:"_businessHours"},Re=qb(),Se=function(){function a(){this.getKeysForEventDefs=Eb(this._getKeysForEventDefs),this.splitDateSelection=Eb(this._splitDateSpan),this.splitEventStore=Eb(this._splitEventStore),this.splitIndividualUi=Eb(this._splitIndividualUi),this.splitEventDrag=Eb(this._splitInteraction),this.splitEventResize=Eb(this._splitInteraction),this.eventUiBuilders={}}return a.prototype.splitProps=function(a){var b=this,c=this.getKeyInfo(a),d=this.getKeysForEventDefs(a.eventStore),e=this.splitDateSelection(a.dateSelection),f=this.splitIndividualUi(a.eventUiBases,d),g=this.splitEventStore(a.eventStore,d),h=this.splitEventDrag(a.eventDrag),i=this.splitEventResize(a.eventResize),j={};this.eventUiBuilders=fb(c,function(a,c){return b.eventUiBuilders[c]||Eb(Nc)});for(var k in c){var l=c[k],m=g[k]||Re,n=this.eventUiBuilders[k];j[k]={businessHours:l.businessHours||a.businessHours,dateSelection:e[k]||null,eventStore:m,eventUiBases:n(a.eventUiBases[""],l.ui,f[k]),eventSelection:m.instances[a.eventSelection]?a.eventSelection:"",eventDrag:h[k]||null,eventResize:i[k]||null}}return j},a.prototype._splitDateSpan=function(a){var b={};if(a)for(var c=this.getKeysForDateSpan(a),d=0,e=c;d<e.length;d++){var f=e[d];b[f]=a}return b},a.prototype._getKeysForEventDefs=function(a){var b=this;return fb(a.defs,function(a){return b.getKeysForEventDef(a)})},a.prototype._splitEventStore=function(a,b){var c=a.defs,d=a.instances,e={};for(var f in c)for(var g=0,h=b[f];g<h.length;g++){var i=h[g];e[i]||(e[i]=qb()),e[i].defs[f]=c[f]}for(var j in d)for(var k=d[j],l=0,m=b[k.defId];l<m.length;l++){var i=m[l];e[i]&&(e[i].instances[j]=k)}return e},a.prototype._splitIndividualUi=function(a,b){var c={};for(var d in a)if(d)for(var e=0,f=b[d];e<f.length;e++){var g=f[e];c[g]||(c[g]={}),c[g][d]=a[d]}return c},a.prototype._splitInteraction=function(a){var b={};if(a){var c=this._splitEventStore(a.affectedEvents,this._getKeysForEventDefs(a.affectedEvents)),d=this._getKeysForEventDefs(a.mutatedEvents),e=this._splitEventStore(a.mutatedEvents,d),f=function(d){b[d]||(b[d]={affectedEvents:c[d]||Re,mutatedEvents:e[d]||Re,isEvent:a.isEvent,origSeg:a.origSeg})};for(var g in c)f(g);for(var g in e)f(g)}return b},a}(),Te=function(){function a(){}return a.mixInto=function(a){this.mixIntoObj(a.prototype)},a.mixIntoObj=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a[c]||(a[c]=b.prototype[c])})},a.mixOver=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})},a}(),Ue=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.on=function(a,b){return Sc(this._handlers||(this._handlers={}),a,b),this},b.prototype.one=function(a,b){return Sc(this._oneHandlers||(this._oneHandlers={}),a,b),this},b.prototype.off=function(a,b){return this._handlers&&Tc(this._handlers,a,b),this._oneHandlers&&Tc(this._oneHandlers,a,b),this},b.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.triggerWith(a,this,b),this},b.prototype.triggerWith=function(a,b,c){return this._handlers&&Ua(this._handlers[a],b,c),this._oneHandlers&&(Ua(this._oneHandlers[a],b,c),delete this._oneHandlers[a]),this},b.prototype.hasHandlers=function(a){return this._handlers&&this._handlers[a]&&this._handlers[a].length||this._oneHandlers&&this._oneHandlers[a]&&this._oneHandlers[a].length},b}(Te),Ve=function(){function a(a,b,c,d){this.originEl=a,this.els=b,this.isHorizontal=c,this.isVertical=d}return a.prototype.build=function(){var a=this.originEl,b=this.originClientRect=a.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(b.left),this.isVertical&&this.buildElVerticals(b.top)},a.prototype.buildElHorizontals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.left-a),c.push(g.right-a)}this.lefts=b,this.rights=c},a.prototype.buildElVerticals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.top-a),c.push(g.bottom-a)}this.tops=b,this.bottoms=c},a.prototype.leftToIndex=function(a){var b,c=this.lefts,d=this.rights,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.topToIndex=function(a){var b,c=this.tops,d=this.bottoms,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.getWidth=function(a){return this.rights[a]-this.lefts[a]},a.prototype.getHeight=function(a){return this.bottoms[a]-this.tops[a]},a}(),We=function(){function a(){}return a.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},a.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},a.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},a.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},a.prototype.canScrollUp=function(){return this.getScrollTop()>0},a.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},a.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},a.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},a}(),Xe=function(a){function b(b){var c=a.call(this)||this;return c.el=b,c}return ab(b,a),b.prototype.getScrollTop=function(){return this.el.scrollTop},b.prototype.getScrollLeft=function(){return this.el.scrollLeft},b.prototype.setScrollTop=function(a){this.el.scrollTop=a},b.prototype.setScrollLeft=function(a){this.el.scrollLeft=a},b.prototype.getScrollWidth=function(){return this.el.scrollWidth},b.prototype.getScrollHeight=function(){return this.el.scrollHeight},b.prototype.getClientHeight=function(){return this.el.clientHeight},b.prototype.getClientWidth=function(){return this.el.clientWidth},b}(We),Ye=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.getScrollTop=function(){return window.pageYOffset},b.prototype.getScrollLeft=function(){return window.pageXOffset},b.prototype.setScrollTop=function(a){window.scroll(window.pageXOffset,a)},b.prototype.setScrollLeft=function(a){window.scroll(a,window.pageYOffset)},b.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},b.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},b.prototype.getClientHeight=function(){return document.documentElement.clientHeight},b.prototype.getClientWidth=function(){return document.documentElement.clientWidth},b}(We),Ze=function(a){function c(c,d){var e=a.call(this,b("div",{className:"fc-scroller"}))||this;return e.overflowX=c,e.overflowY=d,e.applyOverflow(),e}return ab(c,a),c.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},c.prototype.destroy=function(){k(this.el)},c.prototype.applyOverflow=function(){q(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},c.prototype.lockOverflow=function(a){var b=this.overflowX,c=this.overflowY;a=a||this.getScrollbarWidths(),"auto"===b&&(b=a.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===c&&(c=a.left||a.right||this.canScrollVertically()?"scroll":"hidden"),q(this.el,{overflowX:b,overflowY:c})},c.prototype.setHeight=function(a){r(this.el,"height",a)},c.prototype.getScrollbarWidths=function(){var a=B(this.el);return{left:a.scrollbarLeft,right:a.scrollbarRight,bottom:a.scrollbarBottom}},c}(Xe),$e=function(){function a(a){this.calendarOptions=a,this.processIconOverride()}return a.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},a.prototype.setIconOverride=function(a){var b,c;if("object"==typeof a&&a){b=xe({},this.iconClasses);for(c in a)b[c]=this.applyIconOverridePrefix(a[c]);this.iconClasses=b}else!1===a&&(this.iconClasses={})},a.prototype.applyIconOverridePrefix=function(a){var b=this.iconOverridePrefix;return b&&0!==a.indexOf(b)&&(a=b+a),a},a.prototype.getClass=function(a){return this.classes[a]||""},a.prototype.getIconClass=function(a){var b=this.iconClasses[a];return b?this.baseIconClass+" "+b:""},a.prototype.getCustomButtonIconClass=function(a){var b;return this.iconOverrideCustomButtonOption&&(b=a[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(b):""},a}();$e.prototype.classes={},$e.prototype.iconClasses={},$e.prototype.baseIconClass="",$e.prototype.iconOverridePrefix="";var _e=0,af=function(){function a(a,b){b&&(a.view=this),this.uid=String(_e++),this.context=a,this.dateEnv=a.dateEnv,this.theme=a.theme,this.view=a.view,this.calendar=a.calendar,this.isRtl="rtl"===this.opt("dir")}return a.addEqualityFuncs=function(a){this.prototype.equalityFuncs=xe({},this.prototype.equalityFuncs,a)},a.prototype.opt=function(a){return this.context.options[a]},a.prototype.receiveProps=function(a){var b=Uc(this.props||{},a,this.equalityFuncs),c=b.anyChanges,d=b.comboProps;this.props=d,c&&this.render(d)},a.prototype.render=function(a){},a.prototype.destroy=function(){},a}();af.prototype.equalityFuncs={};var bf=function(a){function b(b,c,d){var e=a.call(this,b,d)||this;return e.el=c,e}return ab(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),k(this.el)},b.prototype.buildPositionCaches=function(){},b.prototype.queryHit=function(a,b,c,d){return null},b.prototype.isInteractionValid=function(a){var b=this.calendar,c=this.props.dateProfile,d=a.mutatedEvents.instances;if(c)for(var e in d)if(!zb(c.validRange,d[e].range))return!1;return kc(a,b)},b.prototype.isDateSelectionValid=function(a){var b=this.props.dateProfile;return!(b&&!zb(b.validRange,a.range))&&lc(a,this.calendar)},b.prototype.publiclyTrigger=function(a,b){return this.calendar.publiclyTrigger(a,b)},b.prototype.publiclyTriggerAfterSizing=function(a,b){return this.calendar.publiclyTriggerAfterSizing(a,b)},b.prototype.hasPublicHandlers=function(a){return this.calendar.hasPublicHandlers(a)},b.prototype.triggerRenderedSegs=function(a,b){var c=this.calendar;if(this.hasPublicHandlers("eventPositioned"))for(var d=0,e=a;d<e.length;d++){var f=e[d];this.publiclyTriggerAfterSizing("eventPositioned",[{event:new Ke(c,f.eventRange.def,f.eventRange.instance),isMirror:b,isStart:f.isStart,isEnd:f.isEnd,el:f.el,view:this}])}c.state.loadingLevel||(c.afterSizingTriggers._eventsPositioned=[null])},b.prototype.triggerWillRemoveSegs=function(a,b){for(var c=this.calendar,d=0,e=a;d<e.length;d++){var f=e[d];c.trigger("eventElRemove",f.el)}if(this.hasPublicHandlers("eventDestroy"))for(var g=0,h=a;g<h.length;g++){var f=h[g];this.publiclyTrigger("eventDestroy",[{event:new Ke(c,f.eventRange.def,f.eventRange.instance),isMirror:b,el:f.el,view:this}])}},b.prototype.isValidSegDownEl=function(a){return!this.props.eventDrag&&!this.props.eventResize&&!l(a,".fc-mirror")&&(this.isPopover()||!this.isInPopover(a))},b.prototype.isValidDateDownEl=function(a){var b=l(a,this.fgSegSelector);return(!b||b.classList.contains("fc-mirror"))&&!l(a,".fc-more")&&!l(a,"a[data-goto]")&&!this.isInPopover(a)},b.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},b.prototype.isInPopover=function(a){return Boolean(l(a,".fc-popover"))},b}(af);bf.prototype.fgSegSelector=".fc-event-container > *",bf.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var cf=0,df=function(){function a(){this.hooks={reducers:[],eventDefParsers:[],isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return a.prototype.add=function(a){if(!this.addedHash[a.id]){this.addedHash[a.id]=!0;for(var b=0,c=a.deps;b<c.length;b++){var d=c[b];this.add(d)}this.hooks=Wc(this.hooks,a)}},a}(),ef={ignoreRange:!0,parseMeta:function(a){return Array.isArray(a)?a:Array.isArray(a.events)?a.events:null},fetch:function(a,b){b({rawEvents:a.eventSource.meta})}},ff=Vc({eventSourceDefs:[ef]}),gf={parseMeta:function(a){return"function"==typeof a?a:"function"==typeof a.events?a.events:null},fetch:function(a,b,c){var d=a.calendar.dateEnv;Rc(a.eventSource.meta.bind(null,{start:d.toDate(a.range.start),end:d.toDate(a.range.end),startStr:d.formatIso(a.range.start),endStr:d.formatIso(a.range.end),timeZone:d.timeZone}),function(a){b({rawEvents:a})},c)}},hf=Vc({eventSourceDefs:[gf]}),jf={parseMeta:function(a){if("string"==typeof a)a={url:a};else if(!a||"object"!=typeof a||!a.url)return null;return{url:a.url,method:(a.method||"GET").toUpperCase(),extraParams:a.extraParams,startParam:a.startParam,endParam:a.endParam,timeZoneParam:a.timeZoneParam}},fetch:function(a,b,c){var d=a.eventSource.meta,e=$c(d,a.range,a.calendar);Xc(d.method,d.url,e,function(a,c){b({rawEvents:a,xhr:c})},function(a,b){c({message:a,xhr:b})})}},kf=Vc({eventSourceDefs:[jf]}),lf={parse:function(a,b,c){var d=c.createMarker.bind(c),e={daysOfWeek:null,startTime:ja,endTime:ja,startRecur:d,endRecur:d},f=Xa(a,e,{},b),g=!1;for(var h in f)if(null!=f[h]){g=!0;break}if(g){var i=null;return"duration"in b&&(i=ja(b.duration),delete b.duration),!i&&f.startTime&&f.endTime&&(i=qa(f.endTime,f.startTime)),{allDayGuess:Boolean(!f.startTime&&!f.endTime),duration:i,typeData:f}}return null},expand:function(a,b,c){var d=wb(b,{start:a.startRecur,end:a.endRecur});return d?_c(a.daysOfWeek,a.startTime,d,c):[]}},mf=Vc({recurringTypes:[lf]}),nf=Vc({optionChangeHandlers:{events:function(a,b,c){ad([a],b,c)},eventSources:ad,plugins:bd}}),of={},pf={defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},qf={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},rf=["header","footer","buttonText","buttonIcons"],sf=[ff,hf,kf,mf,nf],tf={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"},uf=function(){function a(a){this.overrides=xe({},a),this.dynamicOverrides={},this.compute()}return a.prototype.mutate=function(a,b,c){var d=c?this.dynamicOverrides:this.overrides;xe(d,a);for(var e=0,f=b;e<f.length;e++){delete d[f[e]]}this.compute()},a.prototype.compute=function(){var a=Va(this.dynamicOverrides.locales,this.overrides.locales,pf.locales),b=Va(this.dynamicOverrides.locale,this.overrides.locale,pf.locale),c=ed(a),d=fd(b||c.defaultCode,c.map).options,e=Va(this.dynamicOverrides.dir,this.overrides.dir,d.dir),f="rtl"===e?qf:{};this.dirDefaults=f,this.localeDefaults=d,this.computed=cd([pf,f,d,this.overrides,this.dynamicOverrides])},a}(),vf={},wf=function(){function a(){}return a.prototype.getMarkerYear=function(a){return a.getUTCFullYear()},a.prototype.getMarkerMonth=function(a){return a.getUTCMonth()},a.prototype.getMarkerDay=function(a){return a.getUTCDate()},a.prototype.arrayToMarker=function(a){return ga(a)},a.prototype.markerToArray=function(a){return fa(a)},a}();!function(a,b){vf[a]=b}("gregory",wf);var xf=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,yf=function(){function a(a){var b=this.timeZone=a.timeZone,c="local"!==b&&"UTC"!==b;a.namedTimeZoneImpl&&c&&(this.namedTimeZoneImpl=new a.namedTimeZoneImpl(b)),this.canComputeOffset=Boolean(!c||this.namedTimeZoneImpl),this.calendarSystem=jd(a.calendarSystem),this.locale=a.locale,this.weekDow=a.locale.week.dow,this.weekDoy=a.locale.week.doy,"ISO"===a.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof a.firstDay&&(this.weekDow=a.firstDay),"function"==typeof a.weekNumberCalculation&&(this.weekNumberFunc=a.weekNumberCalculation),this.weekLabel=null!=a.weekLabel?a.weekLabel:a.locale.options.weekLabel,this.cmdFormatter=a.cmdFormatter}return a.prototype.createMarker=function(a){var b=this.createMarkerMeta(a);return null===b?null:b.marker},a.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ga(da(new Date))},a.prototype.createMarkerMeta=function(a){if("string"==typeof a)return this.parse(a);var b=null;return"number"==typeof a?b=this.timestampToMarker(a):a instanceof Date?(a=a.valueOf(),isNaN(a)||(b=this.timestampToMarker(a))):Array.isArray(a)&&(b=ga(a)),null!==b&&ha(b)?{marker:b,isTimeUnspecified:!1,forcedTzo:null}:null},a.prototype.parse=function(a){var b=kd(a);if(null===b)return null;var c=b.marker,d=null;return null!==b.timeZoneOffset&&(this.canComputeOffset?c=this.timestampToMarker(c.valueOf()-60*b.timeZoneOffset*1e3):d=b.timeZoneOffset),{marker:c,isTimeUnspecified:b.isTimeUnspecified,forcedTzo:d}},a.prototype.getYear=function(a){return this.calendarSystem.getMarkerYear(a)},a.prototype.getMonth=function(a){return this.calendarSystem.getMarkerMonth(a)},a.prototype.add=function(a,b){var c=this.calendarSystem.markerToArray(a)
;return c[0]+=b.years,c[1]+=b.months,c[2]+=b.days,c[6]+=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.subtract=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]-=b.years,c[1]-=b.months,c[2]-=b.days,c[6]-=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.addYears=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.addMonths=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[1]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.diffWholeYears=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)&&c.getMarkerMonth(a)===c.getMarkerMonth(b)?c.getMarkerYear(b)-c.getMarkerYear(a):null},a.prototype.diffWholeMonths=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)?c.getMarkerMonth(b)-c.getMarkerMonth(a)+12*(c.getMarkerYear(b)-c.getMarkerYear(a)):null},a.prototype.greatestWholeUnit=function(a,b){var c=this.diffWholeYears(a,b);return null!==c?{unit:"year",value:c}:null!==(c=this.diffWholeMonths(a,b))?{unit:"month",value:c}:null!==(c=W(a,b))?{unit:"week",value:c}:null!==(c=X(a,b))?{unit:"day",value:c}:(c=S(a,b),Ta(c)?{unit:"hour",value:c}:(c=T(a,b),Ta(c)?{unit:"minute",value:c}:(c=U(a,b),Ta(c)?{unit:"second",value:c}:{unit:"millisecond",value:b.valueOf()-a.valueOf()})))},a.prototype.countDurationsBetween=function(a,b,c){var d;return c.years&&null!==(d=this.diffWholeYears(a,b))?d/sa(c):c.months&&null!==(d=this.diffWholeMonths(a,b))?d/ta(c):c.days&&null!==(d=X(a,b))?d/ua(c):(b.valueOf()-a.valueOf())/xa(c)},a.prototype.startOf=function(a,b){return"year"===b?this.startOfYear(a):"month"===b?this.startOfMonth(a):"week"===b?this.startOfWeek(a):"day"===b?Y(a):"hour"===b?Z(a):"minute"===b?$(a):"second"===b?_(a):void 0},a.prototype.startOfYear=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a)])},a.prototype.startOfMonth=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a)])},a.prototype.startOfWeek=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a),a.getUTCDate()-(a.getUTCDay()-this.weekDow+7)%7])},a.prototype.computeWeekNumber=function(a){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(a)):aa(a,this.weekDow,this.weekDoy)},a.prototype.format=function(a,b,c){return void 0===c&&(c={}),b.format({marker:a,timeZoneOffset:null!=c.forcedTzo?c.forcedTzo:this.offsetForMarker(a)},this)},a.prototype.formatRange=function(a,b,c,d){return void 0===d&&(d={}),d.isEndExclusive&&(b=P(b,-1)),c.formatRange({marker:a,timeZoneOffset:null!=d.forcedStartTzo?d.forcedStartTzo:this.offsetForMarker(a)},{marker:b,timeZoneOffset:null!=d.forcedEndTzo?d.forcedEndTzo:this.offsetForMarker(b)},this)},a.prototype.formatIso=function(a,b){void 0===b&&(b={});var c=null;return b.omitTimeZoneOffset||(c=null!=b.forcedTzo?b.forcedTzo:this.offsetForMarker(a)),Qb(a,c,b.omitTime)},a.prototype.timestampToMarker=function(a){return"local"===this.timeZone?ga(da(new Date(a))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ga(this.namedTimeZoneImpl.timestampToArray(a)):new Date(a)},a.prototype.offsetForMarker=function(a){return"local"===this.timeZone?-ea(fa(a)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(fa(a)):null},a.prototype.toDate=function(a,b){return"local"===this.timeZone?ea(fa(a)):"UTC"===this.timeZone?new Date(a.valueOf()):this.namedTimeZoneImpl?new Date(a.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(fa(a))*60):new Date(a.valueOf()-(b||0))},a}(),zf={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},Af=0,Bf=0,Cf=function(){function a(a,b){this.viewSpec=a,this.options=a.options,this.dateEnv=b.dateEnv,this.calendar=b,this.initHiddenDays()}return a.prototype.buildPrev=function(a,b){var c=this.dateEnv,d=c.subtract(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,-1)},a.prototype.buildNext=function(a,b){var c=this.dateEnv,d=c.add(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,1)},a.prototype.build=function(a,b,c){void 0===c&&(c=!1);var d,e,f,g,h,i,j=null,k=null;return d=this.buildValidRange(),d=this.trimHiddenDays(d),c&&(a=Bb(a,d)),e=this.buildCurrentRangeInfo(a,b),f=/^(year|month|week|day)$/.test(e.unit),g=this.buildRenderRange(this.trimHiddenDays(e.range),e.unit,f),g=this.trimHiddenDays(g),h=g,this.options.showNonCurrentDates||(h=wb(h,e.range)),j=ja(this.options.minTime),k=ja(this.options.maxTime),h=this.adjustActiveRange(h,j,k),h=wb(h,d),i=yb(e.range,d),{validRange:d,currentRange:e.range,currentRangeUnit:e.unit,isRangeAllDay:f,activeRange:h,renderRange:g,minTime:j,maxTime:k,isValid:i,dateIncrement:this.buildDateIncrement(e.duration)}},a.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},a.prototype.buildCurrentRangeInfo=function(a,b){var c,d=this,e=d.viewSpec,f=d.dateEnv,g=null,h=null,i=null;return e.duration?(g=e.duration,h=e.durationUnit,i=this.buildRangeFromDuration(a,b,g,h)):(c=this.options.dayCount)?(h="day",i=this.buildRangeFromDayCount(a,b,c)):(i=this.buildCustomVisibleRange(a))?h=f.greatestWholeUnit(i.start,i.end).unit:(g=this.getFallbackDuration(),h=za(g).unit,i=this.buildRangeFromDuration(a,b,g,h)),{duration:g,unit:h,range:i}},a.prototype.getFallbackDuration=function(){return ja({day:1})},a.prototype.adjustActiveRange=function(a,b,c){var d=this.dateEnv,e=a.start,f=a.end;return this.viewSpec.class.prototype.usesMinMaxTime&&(ua(b)<0&&(e=Y(e),e=d.add(e,b)),ua(c)>1&&(f=Y(f),f=O(f,-1),f=d.add(f,c))),{start:e,end:f}},a.prototype.buildRangeFromDuration=function(a,b,c,d){function e(){h=k.startOf(a,l),i=k.add(h,c),j={start:h,end:i}}var f,g,h,i,j,k=this.dateEnv,l=this.options.dateAlignment;return l||(f=this.options.dateIncrement,f?(g=ja(f),l=xa(g)<xa(c)?za(g,!ma(f)).unit:d):l=d),ua(c)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,b),h=Y(h)),e(),this.trimHiddenDays(j)||(a=this.skipHiddenDays(a,b),e()),j},a.prototype.buildRangeFromDayCount=function(a,b,c){var d,e=this.dateEnv,f=this.options.dateAlignment,g=0,h=a;f&&(h=e.startOf(h,f)),h=Y(h),h=this.skipHiddenDays(h,b),d=h;do{d=O(d,1),this.isHiddenDay(d)||g++}while(g<c);return{start:h,end:d}},a.prototype.buildCustomVisibleRange=function(a){var b=this.dateEnv,c=this.getRangeOption("visibleRange",b.toDate(a));return!c||null!=c.start&&null!=c.end?c:null},a.prototype.buildRenderRange=function(a,b,c){return a},a.prototype.buildDateIncrement=function(a){var b,c=this.options.dateIncrement;return c?ja(c):(b=this.options.dateAlignment)?ja(1,b):a||ja({days:1})},a.prototype.getRangeOption=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.options[a];return"function"==typeof d&&(d=d.apply(null,b)),d&&(d=tb(d,this.dateEnv)),d&&(d=Za(d)),d},a.prototype.initHiddenDays=function(){var a,b=this.options.hiddenDays||[],c=[],d=0;for(!1===this.options.weekends&&b.push(0,6),a=0;a<7;a++)(c[a]=-1!==b.indexOf(a))||d++;if(!d)throw new Error("invalid hiddenDays");this.isHiddenDayHash=c},a.prototype.trimHiddenDays=function(a){var b=a.start,c=a.end;return b&&(b=this.skipHiddenDays(b)),c&&(c=this.skipHiddenDays(c,-1,!0)),null==b||null==c||b<c?{start:b,end:c}:null},a.prototype.isHiddenDay=function(a){return a instanceof Date&&(a=a.getUTCDay()),this.isHiddenDayHash[a]},a.prototype.skipHiddenDays=function(a,b,c){for(void 0===b&&(b=1),void 0===c&&(c=!1);this.isHiddenDayHash[(a.getUTCDay()+(c?b:0)+7)%7];)a=O(a,b);return a},a}(),Df={start:null,end:null,allDay:Boolean},Ef={type:String,class:null},Ff=function(a){function d(c,d){var e=a.call(this,c)||this;return e._renderLayout=Mc(e.renderLayout,e.unrenderLayout),e._updateTitle=Mc(e.updateTitle,null,[e._renderLayout]),e._updateActiveButton=Mc(e.updateActiveButton,null,[e._renderLayout]),e._updateToday=Mc(e.updateToday,null,[e._renderLayout]),e._updatePrev=Mc(e.updatePrev,null,[e._renderLayout]),e._updateNext=Mc(e.updateNext,null,[e._renderLayout]),e.el=b("div",{className:"fc-toolbar "+d}),e}return ab(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this._renderLayout.unrender(),k(this.el)},d.prototype.render=function(a){this._renderLayout(a.layout),this._updateTitle(a.title),this._updateActiveButton(a.activeButton),this._updateToday(a.isTodayEnabled),this._updatePrev(a.isPrevEnabled),this._updateNext(a.isNextEnabled)},d.prototype.renderLayout=function(a){var b=this.el;this.viewsWithButtons=[],g(b,this.renderSection("left",a.left)),g(b,this.renderSection("center",a.center)),g(b,this.renderSection("right",a.right))},d.prototype.unrenderLayout=function(){this.el.innerHTML=""},d.prototype.renderSection=function(a,d){var e=this,f=this,h=f.theme,i=f.calendar,j=i.optionsManager,k=i.viewSpecs,l=b("div",{className:"fc-"+a}),m=j.computed.customButtons||{},n=j.overrides.buttonText||{},o=j.computed.buttonText||{};return d&&d.split(" ").forEach(function(a,b){var d,f=[],j=!0;if(a.split(",").forEach(function(a,b){var d,g,l,p,q,r,s,t,u;"title"===a?(f.push(c("<h2>&nbsp;</h2>")),j=!1):((d=m[a])?(l=function(a){d.click&&d.click.call(t,a)},(p=h.getCustomButtonIconClass(d))||(p=h.getIconClass(a))||(q=d.text)):(g=k[a])?(e.viewsWithButtons.push(a),l=function(){i.changeView(a)},(q=g.buttonTextOverride)||(p=h.getIconClass(a))||(q=g.buttonTextDefault)):i[a]&&(l=function(){i[a]()},(q=n[a])||(p=h.getIconClass(a))||(q=o[a])),l&&(s=["fc-"+a+"-button",h.getClass("button")],q?(r=vc(q),u=""):p&&(r="<span class='"+p+"'></span>",u=' aria-label="'+a+'"'),t=c('<button type="button" class="'+s.join(" ")+'"'+u+">"+r+"</button>"),t.addEventListener("click",l),f.push(t)))}),f.length>1){d=document.createElement("div");var p=h.getClass("buttonGroup");j&&p&&d.classList.add(p),g(d,f),l.appendChild(d)}else g(l,f)}),l},d.prototype.updateToday=function(a){this.toggleButtonEnabled("today",a)},d.prototype.updatePrev=function(a){this.toggleButtonEnabled("prev",a)},d.prototype.updateNext=function(a){this.toggleButtonEnabled("next",a)},d.prototype.updateTitle=function(a){n(this.el,"h2").forEach(function(b){b.innerText=a})},d.prototype.updateActiveButton=function(a){var b=this.theme.getClass("buttonActive");n(this.el,"button").forEach(function(c){a&&c.classList.contains("fc-"+a+"-button")?c.classList.add(b):c.classList.remove(b)})},d.prototype.toggleButtonEnabled=function(a,b){n(this.el,".fc-"+a+"-button").forEach(function(a){a.disabled=!b})},d}(af),Gf=function(a){function c(c,d){var e=a.call(this,c)||this;e._renderToolbars=Mc(e.renderToolbars),e.buildViewPropTransformers=Eb(Yd),e.el=d,h(d,e.contentEl=b("div",{className:"fc-view-container"}));for(var f=e.calendar,g=0,i=f.pluginSystem.hooks.viewContainerModifiers;g<i.length;g++){(0,i[g])(e.contentEl,f)}return e.toggleElClassNames(!0),e.computeTitle=Eb(Wd),e.parseBusinessHours=Eb(function(a){return Kc(a,e.calendar)}),e}return ab(c,a),c.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.view&&this.view.destroy(),k(this.contentEl),this.toggleElClassNames(!1),a.prototype.destroy.call(this)},c.prototype.toggleElClassNames=function(a){var b=this.el.classList,c="fc-"+this.opt("dir"),d=this.theme.getClass("widget");a?(b.add("fc"),b.add(c),b.add(d)):(b.remove("fc"),b.remove(c),b.remove(d))},c.prototype.render=function(a){this.freezeHeight();var b=this.computeTitle(a.dateProfile,a.viewSpec.options);this._renderToolbars(a.viewSpec,a.dateProfile,a.currentDate,a.dateProfileGenerator,b),this.renderView(a,b),this.updateSize(),this.thawHeight()},c.prototype.renderToolbars=function(a,b,c,d,e){var f=this.opt("header"),i=this.opt("footer"),j=this.calendar.getNow(),k=d.build(j),l=d.buildPrev(b,c),m=d.buildNext(b,c),n={title:e,activeButton:a.type,isTodayEnabled:k.isValid&&!Ab(b.currentRange,j),isPrevEnabled:l.isValid,isNextEnabled:m.isValid};f?(this.header||(this.header=new Ff(this.context,"fc-header-toolbar"),h(this.el,this.header.el)),this.header.receiveProps(xe({layout:f},n))):this.header&&(this.header.destroy(),this.header=null),i?(this.footer||(this.footer=new Ff(this.context,"fc-footer-toolbar"),g(this.el,this.footer.el)),this.footer.receiveProps(xe({layout:i},n))):this.footer&&(this.footer.destroy(),this.footer=null)},c.prototype.renderView=function(a,b){var c=this.view,d=a.viewSpec,e=a.dateProfileGenerator;c&&c.viewSpec===d?c.addScroll(c.queryScroll()):(c&&c.destroy(),c=this.view=new d.class({calendar:this.calendar,view:null,dateEnv:this.dateEnv,theme:this.theme,options:d.options},d,e,this.contentEl)),c.title=b;for(var f={dateProfile:a.dateProfile,businessHours:this.parseBusinessHours(d.options.businessHours),eventStore:a.eventStore,eventUiBases:a.eventUiBases,dateSelection:a.dateSelection,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize},g=this.buildViewPropTransformers(this.calendar.pluginSystem.hooks.viewPropsTransformers),h=0,i=g;h<i.length;h++){var j=i[h];xe(f,j.transform(f,d,a,c))}c.receiveProps(f)},c.prototype.updateSize=function(a){void 0===a&&(a=!1);var b=this.view;a&&b.addScroll(b.queryScroll()),(a||null==this.isHeightAuto)&&this.computeHeightVars(),b.updateSize(a,this.viewHeight,this.isHeightAuto),b.updateNowIndicator(),b.popScroll(a)},c.prototype.computeHeightVars=function(){var a=this.calendar,b=a.opt("height"),c=a.opt("contentHeight");if(this.isHeightAuto="auto"===b||"auto"===c,"number"==typeof c)this.viewHeight=c;else if("function"==typeof c)this.viewHeight=c();else if("number"==typeof b)this.viewHeight=b-this.queryToolbarsHeight();else if("function"==typeof b)this.viewHeight=b()-this.queryToolbarsHeight();else if("parent"===b){var d=this.el.parentNode;this.viewHeight=d.getBoundingClientRect().height-this.queryToolbarsHeight()}else this.viewHeight=Math.round(this.contentEl.getBoundingClientRect().width/Math.max(a.opt("aspectRatio"),.5))},c.prototype.queryToolbarsHeight=function(){var a=0;return this.header&&(a+=F(this.header.el)),this.footer&&(a+=F(this.footer.el)),a},c.prototype.freezeHeight=function(){q(this.el,{height:this.el.getBoundingClientRect().height,overflow:"hidden"})},c.prototype.thawHeight=function(){q(this.el,{height:"",overflow:""})},c}(af),Hf=function(){function a(a){this.component=a.component}return a.prototype.destroy=function(){},a}(),If={},Jf=function(a){function b(b){var c=a.call(this,b)||this;c.handleSegClick=function(a,b){var d=c.component,e=Zb(b);if(e&&d.isValidSegDownEl(a.target)){var f=l(a.target,".fc-has-url"),g=f?f.querySelector("a[href]").href:"";d.publiclyTrigger("eventClick",[{el:b,event:new Ke(d.calendar,e.eventRange.def,e.eventRange.instance),jsEvent:a,view:d.view}]),g&&!a.defaultPrevented&&(window.location.href=g)}};var d=b.component;return c.destroy=K(d.el,"click",d.fgSegSelector+","+d.bgSegSelector,c.handleSegClick),c}return ab(b,a),b}(Hf),Kf=function(a){function b(b){var c=a.call(this,b)||this;c.handleEventElRemove=function(a){a===c.currentSegEl&&c.handleSegLeave(null,c.currentSegEl)},c.handleSegEnter=function(a,b){Zb(b)&&(b.classList.add("fc-allow-mouse-resize"),c.currentSegEl=b,c.triggerEvent("eventMouseEnter",a,b))},c.handleSegLeave=function(a,b){c.currentSegEl&&(b.classList.remove("fc-allow-mouse-resize"),c.currentSegEl=null,c.triggerEvent("eventMouseLeave",a,b))};var d=b.component;return c.removeHoverListeners=L(d.el,d.fgSegSelector+","+d.bgSegSelector,c.handleSegEnter,c.handleSegLeave),d.calendar.on("eventElRemove",c.handleEventElRemove),c}return ab(b,a),b.prototype.destroy=function(){this.removeHoverListeners(),this.component.calendar.off("eventElRemove",this.handleEventElRemove)},b.prototype.triggerEvent=function(a,b,c){var d=this.component,e=Zb(c);b&&!d.isValidSegDownEl(b.target)||d.publiclyTrigger(a,[{el:c,event:new Ke(this.component.calendar,e.eventRange.def,e.eventRange.instance),jsEvent:b,view:d.view}])},b}(Hf),Lf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b}($e);Lf.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},Lf.prototype.baseIconClass="fc-icon",Lf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Lf.prototype.iconOverrideOption="buttonIcons",Lf.prototype.iconOverrideCustomButtonOption="icon",Lf.prototype.iconOverridePrefix="fc-icon-";var Mf=function(){function a(a,b){var c=this;this.parseRawLocales=Eb(ed),this.buildLocale=Eb(fd),this.buildDateEnv=Eb(_d),this.buildTheme=Eb(ae),this.buildEventUiSingleBase=Eb(this._buildEventUiSingleBase),this.buildSelectionConfig=Eb(this._buildSelectionConfig),this.buildEventUiBySource=Fb(ce,ib),this.buildEventUiBases=Eb(de),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=Eb(be),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=a,this.optionsManager=new uf(b||{}),this.pluginSystem=new df,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(a){return new a(c)})}return a.prototype.addPluginInputs=function(a){for(var b=dd(a),c=0,d=b;c<d.length;c++){var e=d[c];this.pluginSystem.add(e)}},Object.defineProperty(a.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),a.prototype.render=function(){this.component?this.requestRerender(!0):(this.renderableEventStore=qb(),this.bindHandlers(),this.executeRender())},a.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var a=0,b=this.calendarInteractions;a<b.length;a++){b[a].destroy()}this.publiclyTrigger("_destroyed")}},a.prototype.bindHandlers=function(){var a=this;this.removeNavLinkListener=K(this.el,"click","a[data-goto]",function(b,c){var d=c.getAttribute("data-goto");d=d?JSON.parse(d):{};var e=a.dateEnv,f=e.createMarker(d.date),g=d.type,h=a.viewOpt("navLink"+Qa(g)+"Click");"function"==typeof h?h(e.toDate(f),b):("string"==typeof h&&(g=h),a.zoomTo(f,g))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=Wa(this.windowResize.bind(this),this.opt("windowResizeDelay")))},a.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},a.prototype.hydrate=function(){var a=this;this.state=this.buildInitialState();var b=this.opt("eventSources")||[],c=this.opt("events"),d=[];c&&b.unshift(c);for(var e=0,f=b;e<f.length;e++){var g=f[e],h=md(g,this);h&&d.push(h)}this.batchRendering(function(){a.dispatch({type:"INIT"}),a.dispatch({type:"ADD_EVENT_SOURCES",sources:d}),a.dispatch({type:"SET_VIEW_TYPE",viewType:a.opt("defaultView")||a.pluginSystem.hooks.defaultView})})},a.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:qb(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},a.prototype.dispatch=function(a){if(this.actionQueue.push(a),!this.isReducing){this.isReducing=!0;for(var b=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var c=this.state;this.isReducing=!1,!b.loadingLevel&&c.loadingLevel?this.publiclyTrigger("loading",[!0]):b.loadingLevel&&!c.loadingLevel&&this.publiclyTrigger("loading",[!1]);var d=this.component&&this.component.view;(b.eventStore!==c.eventStore||this.needsFullRerender)&&b.eventStore&&(this.isEventsUpdated=!0),(b.dateProfile!==c.dateProfile||this.needsFullRerender)&&(b.dateProfile&&d&&this.publiclyTrigger("datesDestroy",[{view:d,el:d.el}]),this.isDatesUpdated=!0),(b.viewType!==c.viewType||this.needsFullRerender)&&(b.viewType&&d&&this.publiclyTrigger("viewSkeletonDestroy",[{view:d,el:d.el}]),this.isViewUpdated=!0),this.requestRerender()}},a.prototype.reduce=function(a,b,c){return yd(a,b,c)},a.prototype.requestRerender=function(a){void 0===a&&(a=!1),this.needsRerender=!0,this.needsFullRerender=this.needsFullRerender||a,this.delayedRerender()},a.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},a.prototype.batchRendering=function(a){this.renderingPauseDepth++,a(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},a.prototype.executeRender=function(){var a=this.needsFullRerender;this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!0,this.renderComponent(a),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},a.prototype.renderComponent=function(a){var b=this,c=b.state,d=b.component,e=c.viewType,f=this.viewSpecs[e],g=a&&d?d.view.queryScroll():null;if(!f)throw new Error('View type "'+e+'" is not valid');var h=this.renderableEventStore=c.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:c.eventStore,i=this.buildEventUiSingleBase(f.options),j=this.buildEventUiBySource(c.eventSources),k=this.eventUiBases=this.buildEventUiBases(h.defs,i,j);!a&&d||(d&&(d.freezeHeight(),d.destroy()),d=this.component=new Gf({calendar:this,view:null,dateEnv:this.dateEnv,theme:this.theme,options:this.optionsManager.computed},this.el),this.isViewUpdated=!0,this.isDatesUpdated=!0,this.isEventsUpdated=!0),d.receiveProps(xe({},c,{viewSpec:f,dateProfile:c.dateProfile,dateProfileGenerator:this.dateProfileGenerators[e],eventStore:h,eventUiBases:k,dateSelection:c.dateSelection,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize})),g&&d.view.applyScroll(g,!1),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:d.view,el:d.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:d.view,el:d.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},a.prototype.setOption=function(a,b){var c;this.mutateOptions((c={},c[a]=b,c),[],!0)},a.prototype.getOption=function(a){return this.optionsManager.computed[a]},a.prototype.opt=function(a){return this.optionsManager.computed[a]},a.prototype.viewOpt=function(a){return this.viewOpts()[a]},a.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},a.prototype.mutateOptions=function(a,b,c,d){var e=this,f=this.pluginSystem.hooks.optionChangeHandlers,g={},h={},i=this.dateEnv,j=!1,k=!1,l=Boolean(b.length);for(var m in a)f[m]?h[m]=a[m]:g[m]=a[m];for(var n in g)/^(height|contentHeight|aspectRatio)$/.test(n)?k=!0:/^(defaultDate|defaultView)$/.test(n)||(l=!0,"timeZone"===n&&(j=!0));this.optionsManager.mutate(g,b,c),l&&(this.handleOptions(this.optionsManager.computed),this.needsFullRerender=!0),this.batchRendering(function(){if(l?(j&&e.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:i}),e.dispatch({type:"SET_VIEW_TYPE",viewType:e.state.viewType})):k&&e.updateSize(),d)for(var a in h)f[a](h[a],e,d)})},a.prototype.handleOptions=function(a){var b=this,c=this.pluginSystem.hooks;this.defaultAllDayEventDuration=ja(a.defaultAllDayEventDuration),this.defaultTimedEventDuration=ja(a.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(a.rerenderDelay),this.theme=this.buildTheme(a);var d=this.parseRawLocales(a.locales);this.availableRawLocales=d.map;var e=this.buildLocale(a.locale||d.defaultCode,d.map);this.dateEnv=this.buildDateEnv(e,a.timeZone,c.namedTimeZonedImpl,a.firstDay,a.weekNumberCalculation,a.weekLabel,c.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(a),this.viewSpecs=Ud(c.views,this.optionsManager),this.dateProfileGenerators=fb(this.viewSpecs,function(a){return new a.class.prototype.dateProfileGeneratorClass(a,b)})},a.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},a.prototype._buildSelectionConfig=function(a){return Ac("select",a,this)},a.prototype._buildEventUiSingleBase=function(a){return a.editable&&(a=xe({},a,{eventEditable:!0})),Ac("event",a,this)},a.prototype.hasPublicHandlers=function(a){return this.hasHandlers(a)||this.opt(a)},a.prototype.publiclyTrigger=function(a,b){var c=this.opt(a);if(this.triggerWith(a,this,b),c)return c.apply(this,b)},a.prototype.publiclyTriggerAfterSizing=function(a,b){var c=this.afterSizingTriggers;(c[a]||(c[a]=[])).push(b)},a.prototype.releaseAfterSizingTriggers=function(){var a=this.afterSizingTriggers;for(var b in a)for(var c=0,d=a[b];c<d.length;c++){var e=d[c];this.publiclyTrigger(b,e)}this.afterSizingTriggers={}},a.prototype.isValidViewType=function(a){return Boolean(this.viewSpecs[a])},a.prototype.changeView=function(a,b){var c=null;b&&(b.start&&b.end?(this.optionsManager.mutate({visibleRange:b},[]),this.handleOptions(this.optionsManager.computed)):c=this.dateEnv.createMarker(b)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:a,dateMarker:c})},a.prototype.zoomTo=function(a,b){var c;b=b||"day",c=this.viewSpecs[b]||this.getUnitViewSpec(b),this.unselect(),c?this.dispatch({type:"SET_VIEW_TYPE",viewType:c.type,dateMarker:a}):this.dispatch({type:"SET_DATE",dateMarker:a})},a.prototype.getUnitViewSpec=function(a){var b,c,d=this.component,e=[];d.header&&e.push.apply(e,d.header.viewsWithButtons),d.footer&&e.push.apply(e,d.footer.viewsWithButtons);for(var f in this.viewSpecs)e.push(f);for(b=0;b<e.length;b++)if((c=this.viewSpecs[e[b]])&&c.singleUnit===a)return c},a.prototype.getInitialDate=function(){var a=this.opt("defaultDate");return null!=a?this.dateEnv.createMarker(a):this.getNow()},a.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},a.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},a.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},a.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},a.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},a.prototype.gotoDate=function(a){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(a)})},a.prototype.incrementDate=function(a){var b=ja(a);b&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,b)}))},a.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},a.prototype.formatDate=function(a,b){var c=this.dateEnv;return c.format(c.createMarker(a),Pb(b))},a.prototype.formatRange=function(a,b,c){var d=this.dateEnv;return d.formatRange(d.createMarker(a),d.createMarker(b),Pb(c,this.opt("defaultRangeSeparator")),c)},a.prototype.formatIso=function(a,b){var c=this.dateEnv;return c.formatIso(c.createMarker(a),{omitTime:b})},a.prototype.windowResize=function(a){!this.isHandlingWindowResize&&this.component&&a.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},a.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},a.prototype.registerInteractiveComponent=function(a,b){var c=Zd(a,b),d=[Jf,Kf],e=d.concat(this.pluginSystem.hooks.componentInteractions),f=e.map(function(a){return new a(c)});this.interactionsStore[a.uid]=f,If[a.uid]=c},a.prototype.unregisterInteractiveComponent=function(a){for(var b=0,c=this.interactionsStore[a.uid];b<c.length;b++){c[b].destroy()}delete this.interactionsStore[a.uid],delete If[a.uid]},a.prototype.select=function(a,b){var c;c=null==b?null!=a.start?a:{start:a,end:null}:{start:a,end:b};var d=Hd(c,this.dateEnv,ja({days:1}));d&&(this.dispatch({type:"SELECT_DATES",selection:d}),this.triggerDateSelect(d))},a.prototype.unselect=function(a){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(a))},a.prototype.triggerDateSelect=function(a,b){var c=xe({},this.buildDateSpanApi(a),{jsEvent:b?b.origEvent:null,view:this.view});this.publiclyTrigger("select",[c])},a.prototype.triggerDateUnselect=function(a){this.publiclyTrigger("unselect",[{jsEvent:a?a.origEvent:null,view:this.view}])},a.prototype.triggerDateClick=function(a,b,c,d){var e=xe({},this.buildDatePointApi(a),{dayEl:b,jsEvent:d,view:c});this.publiclyTrigger("dateClick",[e])},a.prototype.buildDatePointApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.datePointTransforms;c<d.length;c++){var e=d[c];xe(b,e(a,this))}return xe(b,Md(a,this.dateEnv)),b},a.prototype.buildDateSpanApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.dateSpanTransforms;c<d.length;c++){var e=d[c];xe(b,e(a,this))}return xe(b,Ld(a,this.dateEnv)),b},a.prototype.getNow=function(){var a=this.opt("now");return"function"==typeof a&&(a=a()),null==a?this.dateEnv.createNowMarker():this.dateEnv.createMarker(a)},a.prototype.getDefaultEventEnd=function(a,b){var c=b;return a?(c=Y(c),c=this.dateEnv.add(c,this.defaultAllDayEventDuration)):c=this.dateEnv.add(c,this.defaultTimedEventDuration),c},a.prototype.addEvent=function(a,b){if(a instanceof Ke){var c=a._def,d=a._instance;return this.state.eventStore.defs[c.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:kb({def:c,instance:d})}),a}var e;if(b instanceof Je)e=b.internalEventSource.sourceId;else if(null!=b){var f=this.getEventSourceById(b);if(!f)return console.warn('Could not find an event source with ID "'+b+'"'),null;e=f.internalEventSource.sourceId}var g=Dc(a,e,this);return g?(this.dispatch({type:"ADD_EVENTS",eventStore:kb(g)}),new Ke(this,g.def,g.def.recurringDef?null:g.instance)):null},a.prototype.getEventById=function(a){var b=this.state.eventStore,c=b.defs,d=b.instances;a=String(a);for(var e in c){var f=c[e];if(f.publicId===a){if(f.recurringDef)return new Ke(this,f,null);for(var g in d){var h=d[g];if(h.defId===f.defId)return new Ke(this,f,h)}}}return null},a.prototype.getEvents=function(){var a=this.state.eventStore,b=a.defs,c=a.instances,d=[];for(var e in c){var f=c[e],g=b[f.defId];d.push(new Ke(this,g,f))}return d},a.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},a.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},a.prototype.getEventSources=function(){var a=this.state.eventSources,b=[];for(var c in a)b.push(new Je(this,a[c]));return b},a.prototype.getEventSourceById=function(a){var b=this.state.eventSources;a=String(a);for(var c in b)if(b[c].publicId===a)return new Je(this,b[c]);return null},a.prototype.addEventSource=function(a){if(a instanceof Je)return this.state.eventSources[a.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a.internalEventSource]}),a;var b=md(a,this);return b?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[b]}),new Je(this,b)):null},a.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},a.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},a.prototype.scrollToTime=function(a){var b=ja(a);b&&this.component.view.scrollToDuration(b)},a}();Ue.mixInto(Mf);var Nf=function(a){function c(c,d,e,f){var g=a.call(this,c,b("div",{className:"fc-view fc-"+d.type+"-view"}),!0)||this;return g.renderDatesMem=Mc(g.renderDatesWrap,g.unrenderDatesWrap),g.renderBusinessHoursMem=Mc(g.renderBusinessHours,g.unrenderBusinessHours,[g.renderDatesMem]),
g.renderDateSelectionMem=Mc(g.renderDateSelectionWrap,g.unrenderDateSelectionWrap,[g.renderDatesMem]),g.renderEventsMem=Mc(g.renderEvents,g.unrenderEvents,[g.renderDatesMem]),g.renderEventSelectionMem=Mc(g.renderEventSelectionWrap,g.unrenderEventSelectionWrap,[g.renderEventsMem]),g.renderEventDragMem=Mc(g.renderEventDragWrap,g.unrenderEventDragWrap,[g.renderDatesMem]),g.renderEventResizeMem=Mc(g.renderEventResizeWrap,g.unrenderEventResizeWrap,[g.renderDatesMem]),g.viewSpec=d,g.dateProfileGenerator=e,g.type=d.type,g.eventOrderSpecs=Ma(g.opt("eventOrder")),g.nextDayThreshold=ja(g.opt("nextDayThreshold")),f.appendChild(g.el),g.initialize(),g}return ab(c,a),c.prototype.initialize=function(){},Object.defineProperty(c.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.end)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),c.prototype.render=function(a){this.renderDatesMem(a.dateProfile),this.renderBusinessHoursMem(a.businessHours),this.renderDateSelectionMem(a.dateSelection),this.renderEventsMem(a.eventStore),this.renderEventSelectionMem(a.eventSelection),this.renderEventDragMem(a.eventDrag),this.renderEventResizeMem(a.eventResize)},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderDatesMem.unrender()},c.prototype.updateSize=function(a,b,c){var d=this.calendar;(a||d.isViewUpdated||d.isDatesUpdated||d.isEventsUpdated)&&this.updateBaseSize(a,b,c)},c.prototype.updateBaseSize=function(a,b,c){},c.prototype.renderDatesWrap=function(a){this.renderDates(a),this.addScroll({duration:ja(this.opt("scrollTime"))}),this.startNowIndicator(a)},c.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},c.prototype.renderDates=function(a){},c.prototype.unrenderDates=function(){},c.prototype.renderBusinessHours=function(a){},c.prototype.unrenderBusinessHours=function(){},c.prototype.renderDateSelectionWrap=function(a){a&&this.renderDateSelection(a)},c.prototype.unrenderDateSelectionWrap=function(a){a&&this.unrenderDateSelection(a)},c.prototype.renderDateSelection=function(a){},c.prototype.unrenderDateSelection=function(a){},c.prototype.renderEvents=function(a){},c.prototype.unrenderEvents=function(){},c.prototype.sliceEvents=function(a,b){var c=this.props;return Vb(a,c.eventUiBases,c.dateProfile.activeRange,b?this.nextDayThreshold:null).fg},c.prototype.computeEventDraggable=function(a,b){for(var c=this.calendar.pluginSystem.hooks.isDraggableTransformers,d=b.startEditable,e=0,f=c;e<f.length;e++){d=(0,f[e])(d,a,b,this)}return d},c.prototype.computeEventStartResizable=function(a,b){return b.durationEditable&&this.opt("eventResizableFromStart")},c.prototype.computeEventEndResizable=function(a,b){return b.durationEditable},c.prototype.renderEventSelectionWrap=function(a){a&&this.renderEventSelection(a)},c.prototype.unrenderEventSelectionWrap=function(a){a&&this.unrenderEventSelection(a)},c.prototype.renderEventSelection=function(a){},c.prototype.unrenderEventSelection=function(a){},c.prototype.renderEventDragWrap=function(a){a&&this.renderEventDrag(a)},c.prototype.unrenderEventDragWrap=function(a){a&&this.unrenderEventDrag(a)},c.prototype.renderEventDrag=function(a){},c.prototype.unrenderEventDrag=function(a){},c.prototype.renderEventResizeWrap=function(a){a&&this.renderEventResize(a)},c.prototype.unrenderEventResizeWrap=function(a){a&&this.unrenderEventResize(a)},c.prototype.renderEventResize=function(a){},c.prototype.unrenderEventResize=function(a){},c.prototype.startNowIndicator=function(a){var b,c,d,e=this,f=this.dateEnv;this.opt("nowIndicator")&&(b=this.getNowIndicatorUnit(a))&&(c=this.updateNowIndicator.bind(this),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),d=f.add(f.startOf(this.initialNowDate,b),ja(1,b)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){e.nowIndicatorTimeoutID=null,c(),d="second"===b?1e3:6e4,e.nowIndicatorIntervalID=setInterval(c,d)},d))},c.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(P(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},c.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},c.prototype.getNowIndicatorUnit=function(a){},c.prototype.renderNowIndicator=function(a){},c.prototype.unrenderNowIndicator=function(){},c.prototype.addScroll=function(a){var b=this.queuedScroll||(this.queuedScroll={});xe(b,a)},c.prototype.popScroll=function(a){this.applyQueuedScroll(a),this.queuedScroll=null},c.prototype.applyQueuedScroll=function(a){this.applyScroll(this.queuedScroll||{},a)},c.prototype.queryScroll=function(){var a={};return this.props.dateProfile&&xe(a,this.queryDateScroll()),a},c.prototype.applyScroll=function(a,b){var c=a.duration;null!=c&&(delete a.duration,this.props.dateProfile&&xe(a,this.computeDateScroll(c))),this.props.dateProfile&&this.applyDateScroll(a)},c.prototype.computeDateScroll=function(a){return{}},c.prototype.queryDateScroll=function(){return{}},c.prototype.applyDateScroll=function(a){},c.prototype.scrollToDuration=function(a){this.applyScroll({duration:a},!1)},c}(bf);Ue.mixInto(Nf),Nf.prototype.usesMinMaxTime=!1,Nf.prototype.dateProfileGeneratorClass=Cf;var Of=function(){function a(a){this.segs=[],this.isSizeDirty=!1,this.context=a}return a.prototype.renderSegs=function(a,b){this.rangeUpdated(),a=this.renderSegEls(a,b),this.segs=a,this.attachSegs(a,b),this.isSizeDirty=!0,this.context.view.triggerRenderedSegs(this.segs,Boolean(b))},a.prototype.unrender=function(a,b){this.context.view.triggerWillRemoveSegs(this.segs,Boolean(b)),this.detachSegs(this.segs),this.segs=[]},a.prototype.rangeUpdated=function(){var a,b,c=this.context.options;this.eventTimeFormat=Pb(c.eventTimeFormat||this.computeEventTimeFormat(),c.defaultRangeSeparator),a=c.displayEventTime,null==a&&(a=this.computeDisplayEventTime()),b=c.displayEventEnd,null==b&&(b=this.computeDisplayEventEnd()),this.displayEventTime=a,this.displayEventEnd=b},a.prototype.renderSegEls=function(a,b){var c,e="";if(a.length){for(c=0;c<a.length;c++)e+=this.renderSegHtml(a[c],b);d(e).forEach(function(b,c){var d=a[c];b&&(d.el=b)}),a=Xb(this.context.view,a,Boolean(b))}return a},a.prototype.getSegClasses=function(a,b,c,d){var e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(a.eventRange.ui.classNames);return b&&e.push("fc-draggable"),c&&e.push("fc-resizable"),d&&(e.push("fc-mirror"),d.isDragging&&e.push("fc-dragging"),d.isResizing&&e.push("fc-resizing")),e},a.prototype.getTimeText=function(a,b,c){var d=a.def,e=a.instance;return this._getTimeText(e.range.start,d.hasEnd?e.range.end:null,d.allDay,b,c,e.forcedStartTzo,e.forcedEndTzo)},a.prototype._getTimeText=function(a,b,c,d,e,f,g){var h=this.context.dateEnv;return null==d&&(d=this.eventTimeFormat),null==e&&(e=this.displayEventEnd),this.displayEventTime&&!c?e&&b?h.formatRange(a,b,d,{forcedStartTzo:f,forcedEndTzo:g}):h.format(a,d,{forcedTzo:f}):""},a.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},a.prototype.computeDisplayEventTime=function(){return!0},a.prototype.computeDisplayEventEnd=function(){return!0},a.prototype.getSkinCss=function(a){return{"background-color":a.backgroundColor,"border-color":a.borderColor,color:a.textColor}},a.prototype.sortEventSegs=function(a){var b=this.context.view.eventOrderSpecs,c=a.map(ee);return c.sort(function(a,c){return Na(a,c,b)}),c.map(function(a){return a._seg})},a.prototype.computeSizes=function(a){(a||this.isSizeDirty)&&this.computeSegSizes(this.segs)},a.prototype.assignSizes=function(a){(a||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a.prototype.hideByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="hidden")}},a.prototype.showByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="")}},a.prototype.selectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b],e=d.eventRange.instance;e&&e.instanceId===a&&d.el&&d.el.classList.add("fc-selected")}},a.prototype.unselectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];d.el&&d.el.classList.remove("fc-selected")}},a}(),Pf=function(){function a(a){this.fillSegTag="div",this.dirtySizeFlags={},this.context=a,this.containerElsByType={},this.segsByType={}}return a.prototype.getSegsByType=function(a){return this.segsByType[a]||[]},a.prototype.renderSegs=function(a,b){var c,d=this.renderSegEls(a,b),e=this.attachSegs(a,d);e&&(c=this.containerElsByType[a]||(this.containerElsByType[a]=[])).push.apply(c,e),this.segsByType[a]=d,"bgEvent"===a&&this.context.view.triggerRenderedSegs(d,!1),this.dirtySizeFlags[a]=!0},a.prototype.unrender=function(a){var b=this.segsByType[a];b&&("bgEvent"===a&&this.context.view.triggerWillRemoveSegs(b,!1),this.detachSegs(a,b))},a.prototype.renderSegEls=function(a,b){var c,e=this,f="";if(b.length){for(c=0;c<b.length;c++)f+=this.renderSegHtml(a,b[c]);d(f).forEach(function(a,c){var d=b[c];a&&(d.el=a)}),"bgEvent"===a&&(b=Xb(this.context.view,b,!1)),b=b.filter(function(a){return m(a.el,e.fillSegTag)})}return b},a.prototype.renderSegHtml=function(a,b){var c=null,d=[];return"highlight"!==a&&"businessHours"!==a&&(c={"background-color":b.eventRange.ui.backgroundColor}),"highlight"!==a&&(d=d.concat(b.eventRange.ui.classNames)),"businessHours"===a?d.push("fc-bgevent"):d.push("fc-"+a.toLowerCase()),"<"+this.fillSegTag+(d.length?' class="'+d.join(" ")+'"':"")+(c?' style="'+wc(c)+'"':"")+"></"+this.fillSegTag+">"},a.prototype.detachSegs=function(a,b){var c=this.containerElsByType[a];c&&(c.forEach(k),delete this.containerElsByType[a])},a.prototype.computeSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.computeSegSizes(this.segsByType[b])},a.prototype.assignSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.assignSegSizes(this.segsByType[b]);this.dirtySizeFlags={}},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a}(),Qf=function(){function a(a){this.timeZoneName=a}return a}(),Rf=function(){function a(a){this.emitter=new Ue}return a.prototype.destroy=function(){},a.prototype.setMirrorIsVisible=function(a){},a.prototype.setMirrorNeedsRevert=function(a){},a.prototype.setAutoScrollEnabled=function(a){},a}(),Sf={startTime:ja,duration:ja,create:Boolean,sourceId:String},Tf={create:!0},Uf=function(a){function b(b,d){var e=a.call(this,b)||this;return d.innerHTML="",d.appendChild(e.el=c('<div class="fc-row '+e.theme.getClass("headerRow")+'"><table class="'+e.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),e.thead=e.el.querySelector("thead"),e}return ab(b,a),b.prototype.destroy=function(){k(this.el)},b.prototype.render=function(a){var b=a.dates,c=a.datesRepDistinctDays,d=[];a.renderIntroHtml&&d.push(a.renderIntroHtml());for(var e=Pb(this.opt("columnHeaderFormat")||je(c,b.length)),f=0,g=b;f<g.length;f++){var h=g[f];d.push(ke(h,a.dateProfile,c,b.length,e,this.context))}this.isRtl&&d.reverse(),this.thead.innerHTML="<tr>"+d.join("")+"</tr>"},b}(af),Vf=function(){function a(a,b){for(var c=a.start,d=a.end,e=[],f=[],g=-1;c<d;)b.isHiddenDay(c)?e.push(g+.5):(g++,e.push(g),f.push(c)),c=O(c,1);this.dates=f,this.indices=e,this.cnt=f.length}return a.prototype.sliceRange=function(a){var b=this.getDateDayIndex(a.start),c=this.getDateDayIndex(O(a.end,-1)),d=Math.max(0,b),e=Math.min(this.cnt-1,c);return d=Math.ceil(d),e=Math.floor(e),d<=e?{firstIndex:d,lastIndex:e,isStart:b===d,isEnd:c===e}:null},a.prototype.getDateDayIndex=function(a){var b=this.indices,c=Math.floor(R(this.dates[0],a));return c<0?b[0]-1:c>=b.length?b[b.length-1]+1:b[c]},a}(),Wf=function(){function a(a,b){var c,d,e,f=a.dates;if(b){for(d=f[0].getUTCDay(),c=1;c<f.length&&f[c].getUTCDay()!==d;c++);e=Math.ceil(f.length/c)}else e=1,c=f.length;this.rowCnt=e,this.colCnt=c,this.daySeries=a,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return a.prototype.buildCells=function(){for(var a=[],b=0;b<this.rowCnt;b++){for(var c=[],d=0;d<this.colCnt;d++)c.push(this.buildCell(b,d));a.push(c)}return a},a.prototype.buildCell=function(a,b){return{date:this.daySeries.dates[a*this.colCnt+b]}},a.prototype.buildHeaderDates=function(){for(var a=[],b=0;b<this.colCnt;b++)a.push(this.cells[0][b].date);return a},a.prototype.sliceRange=function(a){var b=this.colCnt,c=this.daySeries.sliceRange(a),d=[];if(c)for(var e=c.firstIndex,f=c.lastIndex,g=e;g<=f;){var h=Math.floor(g/b),i=Math.min((h+1)*b,f+1);d.push({row:h,firstCol:g%b,lastCol:(i-1)%b,isStart:c.isStart&&g===e,isEnd:c.isEnd&&i-1===f}),g=i}return d},a}(),Xf=function(){function a(){this.sliceBusinessHours=Eb(this._sliceBusinessHours),this.sliceDateSelection=Eb(this._sliceDateSpan),this.sliceEventStore=Eb(this._sliceEventStore),this.sliceEventDrag=Eb(this._sliceInteraction),this.sliceEventResize=Eb(this._sliceInteraction)}return a.prototype.sliceProps=function(a,b,c,d){for(var e=[],f=4;f<arguments.length;f++)e[f-4]=arguments[f];var g=a.eventUiBases,h=this.sliceEventStore.apply(this,[a.eventStore,g,b,c,d].concat(e));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[a.dateSelection,g,d].concat(e)),businessHourSegs:this.sliceBusinessHours.apply(this,[a.businessHours,b,c,d].concat(e)),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag.apply(this,[a.eventDrag,g,b,c,d].concat(e)),eventResize:this.sliceEventResize.apply(this,[a.eventResize,g,b,c,d].concat(e)),eventSelection:a.eventSelection}},a.prototype.sliceNowDate=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return this._sliceDateSpan.apply(this,[{range:{start:a,end:P(a,1)},allDay:!1},{},b].concat(c))},a.prototype._sliceBusinessHours=function(a,b,c,d){for(var e=[],f=4;f<arguments.length;f++)e[f-4]=arguments[f];return a?this._sliceEventStore.apply(this,[lb(a,le(b,Boolean(c)),d.calendar),{},b,c,d].concat(e)).bg:[]},a.prototype._sliceEventStore=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(a){var h=Vb(a,b,le(c,Boolean(d)),d);return{bg:this.sliceEventRanges(h.bg,e,f),fg:this.sliceEventRanges(h.fg,e,f)}}return{bg:[],fg:[]}},a.prototype._sliceInteraction=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(!a)return null;var h=Vb(a.mutatedEvents,b,le(c,Boolean(d)),d);return{segs:this.sliceEventRanges(h.fg,e,f),affectedInstances:a.affectedEvents.instances,isEvent:a.isEvent,sourceSeg:a.origSeg}},a.prototype._sliceDateSpan=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];if(!a)return[];for(var f=Nd(a,b,c.calendar),g=this.sliceRange.apply(this,[a.range].concat(d)),h=0,i=g;h<i.length;h++){var j=i[h];j.component=c,j.eventRange=f}return g},a.prototype.sliceEventRanges=function(a,b,c){for(var d=[],e=0,f=a;e<f.length;e++){var g=f[e];d.push.apply(d,this.sliceEventRange(g,b,c))}return d},a.prototype.sliceEventRange=function(a,b,c){for(var d=this.sliceRange.apply(this,[a.range].concat(c)),e=0,f=d;e<f.length;e++){var g=f[e];g.component=b,g.eventRange=a,g.isStart=a.isStart&&g.isStart,g.isEnd=a.isEnd&&g.isEnd}return d},a}();a.Calendar=Mf,a.Component=af,a.DateComponent=bf,a.DateEnv=yf,a.DateProfileGenerator=Cf,a.DayHeader=Uf,a.DaySeries=Vf,a.DayTable=Wf,a.ElementDragging=Rf,a.ElementScrollController=Xe,a.EmitterMixin=Ue,a.EventApi=Ke,a.FgEventRenderer=Of,a.FillRenderer=Pf,a.Interaction=Hf,a.Mixin=Te,a.NamedTimeZoneImpl=Qf,a.PositionCache=Ve,a.ScrollComponent=Ze,a.ScrollController=We,a.Slicer=Xf,a.Splitter=Se,a.Theme=$e,a.View=Nf,a.WindowScrollController=Ye,a.addDays=O,a.addDurations=pa,a.addMs=P,a.addWeeks=N,a.allowContextMenu=La,a.allowSelection=Ja,a.appendToElement=g,a.applyAll=Ua,a.applyMutationToEventStore=ac,a.applyStyle=q,a.applyStyleProp=r,a.asRoughMinutes=va,a.asRoughMs=xa,a.asRoughSeconds=wa,a.buildGotoAnchorHtml=Oc,a.buildSegCompareObj=ee,a.capitaliseFirstLetter=Qa,a.combineEventUis=Bc,a.compareByFieldSpec=Oa,a.compareByFieldSpecs=Na,a.compareNumbers=Sa,a.compensateScroll=Aa,a.computeClippingRect=I,a.computeEdges=B,a.computeFallbackHeaderFormat=je,a.computeHeightAndMargins=F,a.computeInnerRect=C,a.computeRect=D,a.computeVisibleDayRange=Za,a.config=of,a.constrainPoint=v,a.createDuration=ja,a.createElement=b,a.createEmptyEventStore=qb,a.createEventInstance=Fc,a.createFormatter=Pb,a.createPlugin=Vc,a.cssToStr=wc,a.debounce=Wa,a.diffDates=_a,a.diffDayAndTime=V,a.diffDays=R,a.diffPoints=x,a.diffWeeks=Q,a.diffWholeDays=X,a.diffWholeWeeks=W,a.disableCursor=Ca,a.distributeHeight=Ea,a.elementClosest=l,a.elementMatches=m,a.enableCursor=Da,a.eventTupleToStore=kb,a.filterEventStoreDefs=sb,a.filterHash=eb,a.findChildren=o,a.findElements=n,a.flexibleCompare=Pa,a.forceClassName=p,a.formatDate=fe,a.formatIsoTimeString=Rb,a.formatRange=ge,a.getAllDayHtml=Pc,a.getClippingParents=H,a.getDayClasses=Qc,a.getElSeg=Zb,a.getRectCenter=w,a.getRelevantEvents=mb,a.globalDefaults=pf,a.greatestDurationDenominator=za,a.hasBgRendering=Wb,a.htmlEscape=vc,a.htmlToElement=c,a.insertAfterElement=i,a.interactionSettingsStore=If,a.interactionSettingsToStore=$d,a.intersectRanges=wb,a.intersectRects=t,a.isArraysEqual=Db,a.isDateSpansEqual=Jd,a.isInt=Ta,a.isInteractionValid=kc,a.isMultiDayRange=$a,a.isPropsEqual=ib,a.isPropsValid=nc,a.isSingleDay=oa,a.isValidDate=ha,a.listenBySelector=K,a.mapHash=fb,a.matchCellWidths=Ga,a.memoize=Eb,a.memoizeOutput=Fb,a.memoizeRendering=Mc,a.mergeEventStores=rb,a.multiplyDuration=ra,a.padStart=Ra,a.parseBusinessHours=Kc,a.parseDragMeta=ie,a.parseEventDef=Ec,a.parseFieldSpecs=Ma,a.parseMarker=kd,a.pointInsideRect=s,a.prependToElement=h,a.preventContextMenu=Ka,a.preventDefault=J,a.preventSelection=Ia,a.processScopedUiProps=Ac,a.rangeContainsMarker=Ab,a.rangeContainsRange=zb,a.rangesEqual=xb,a.rangesIntersect=yb,a.refineProps=Xa,a.removeElement=k,a.removeExact=Cb,a.renderDateCell=ke,a.requestJson=Xc,a.sliceEventStore=Vb,a.startOfDay=Y,a.subtractInnerElHeight=Ha,a.translateRect=u,a.uncompensateScroll=Ba,a.undistributeHeight=Fa,a.unpromisify=Rc,a.version="4.3.1",a.whenTransitionDone=M,a.wholeDivideDurations=ya,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.FullCalendarLocales=a.FullCalendarLocales||{},a.FullCalendarLocales.cs=b())}(this,function(){"use strict";return{code:"cs",week:{dow:1,doy:4},buttonText:{prev:"Dříve",next:"Později",today:"Nyní",month:"Měsíc",week:"Týden",day:"Den",list:"Agenda"},weekLabel:"Týd",allDayText:"Celý den",eventLimitText:function(a){return"+další: "+a},noEventsMessage:"Žádné akce k zobrazení"}}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarInteraction={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}s(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a){return 0===a.button&&!a.ctrlKey}function e(){u++,setTimeout(function(){u--},b.config.touchMouseIgnoreWait)}function f(){v++||window.addEventListener("touchmove",h,{passive:!1})}function g(){--v||window.removeEventListener("touchmove",h,{passive:!1})}function h(a){w&&a.preventDefault()}function i(a){var b=a.tagName;return"HTML"===b||"BODY"===b}function j(a,c){return!a&&!c||Boolean(a)===Boolean(c)&&b.isDateSpansEqual(a.dateSpan,c.dateSpan)}function k(a){var b=a.opt("selectLongPressDelay");return null==b&&(b=a.opt("longPressDelay")),b}function l(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=[e.range.start,e.range.end,f.range.start,f.range.end];g.sort(b.compareNumbers);for(var h={},i=0,j=d;i<j.length;i++){var k=j[i],l=k(a,c);if(!1===l)return null;l&&t(h,l)}return h.range={start:g[0],end:g[3]},h.allDay=e.allDay,h}function m(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=e.range.start,h=f.range.start,i={};e.allDay!==f.allDay&&(i.allDay=f.allDay,i.hasEnd=c.component.opt("allDayMaintainDuration"),f.allDay&&(g=b.startOfDay(g)));var j=b.diffDates(g,h,a.component.dateEnv,a.component===c.component?a.component.largeUnit:null);j.milliseconds&&(i.allDay=!1);for(var k={datesDelta:j,standardProps:i},l=0,m=d;l<m.length;l++){(0,m[l])(k,a,c)}return k}function n(a){var b=a.opt("eventLongPressDelay");return null==b&&(b=a.opt("longPressDelay")),b}function o(a,c,d,e,f){for(var g=a.component.dateEnv,h=a.dateSpan.range.start,i=c.dateSpan.range.start,j=b.diffDates(h,i,g,a.component.largeUnit),k={},l=0,m=f;l<m.length;l++){var n=m[l],o=n(a,c);if(!1===o)return null;o&&t(k,o)}if(d){if(g.add(e.start,j)<e.end)return k.startDelta=j,k}else if(g.add(e.end,j)>e.start)return k.endDelta=j,k;return null}function p(a,c,d){for(var e=t({},c.leftoverProps),f=0,g=d.pluginSystem.hooks.externalDefTransforms;f<g.length;f++){var h=g[f];t(e,h(a,c))}var i=b.parseEventDef(e,c.sourceId,a.allDay,d.opt("forceEventDuration")||Boolean(c.duration),d),j=a.range.start;a.allDay&&c.startTime&&(j=d.dateEnv.add(j,c.startTime));var k=c.duration?d.dateEnv.add(j,c.duration):d.getDefaultEventEnd(a.allDay,j);return{def:i,instance:b.createEventInstance(i.defId,{start:j,end:k})}}function q(a){var c=r(a,"event"),d=c?JSON.parse(c):{create:!1};return b.parseDragMeta(d)}function r(a,c){var d=b.config.dataAttrPrefix,e=(d?d+"-":"")+c;return a.getAttribute("data-"+e)||""}var s=function(a,b){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},t=function(){return t=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},t.apply(this,arguments)};b.config.touchMouseIgnoreWait=500;var u=0,v=0,w=!1,x=function(){function a(a){var c=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(a){if(!c.shouldIgnoreMouse()&&d(a)&&c.tryStart(a)){var b=c.createEventFromMouse(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b),c.shouldIgnoreMove||document.addEventListener("mousemove",c.handleMouseMove),document.addEventListener("mouseup",c.handleMouseUp)}},this.handleMouseMove=function(a){var b=c.createEventFromMouse(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleMouseUp=function(a){document.removeEventListener("mousemove",c.handleMouseMove),document.removeEventListener("mouseup",c.handleMouseUp),c.emitter.trigger("pointerup",c.createEventFromMouse(a)),c.cleanup()},this.handleTouchStart=function(a){if(c.tryStart(a)){c.isTouchDragging=!0;var b=c.createEventFromTouch(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b);var d=a.target;c.shouldIgnoreMove||d.addEventListener("touchmove",c.handleTouchMove),d.addEventListener("touchend",c.handleTouchEnd),d.addEventListener("touchcancel",c.handleTouchEnd),window.addEventListener("scroll",c.handleTouchScroll,!0)}},this.handleTouchMove=function(a){var b=c.createEventFromTouch(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleTouchEnd=function(a){if(c.isDragging){var b=a.target;b.removeEventListener("touchmove",c.handleTouchMove),b.removeEventListener("touchend",c.handleTouchEnd),b.removeEventListener("touchcancel",c.handleTouchEnd),window.removeEventListener("scroll",c.handleTouchScroll,!0),c.emitter.trigger("pointerup",c.createEventFromTouch(a)),c.cleanup(),c.isTouchDragging=!1,e()}},this.handleTouchScroll=function(){c.wasTouchScroll=!0},this.handleScroll=function(a){if(!c.shouldIgnoreMove){var b=window.pageXOffset-c.prevScrollX+c.prevPageX,d=window.pageYOffset-c.prevScrollY+c.prevPageY;c.emitter.trigger("pointermove",{origEvent:a,isTouch:c.isTouchDragging,subjectEl:c.subjectEl,pageX:b,pageY:d,deltaX:b-c.origPageX,deltaY:d-c.origPageY})}},this.containerEl=a,this.emitter=new b.EmitterMixin,a.addEventListener("mousedown",this.handleMouseDown),a.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),f()}return a.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),g()},a.prototype.tryStart=function(a){var c=this.querySubjectEl(a),d=a.target;return!(!c||this.handleSelector&&!b.elementClosest(d,this.handleSelector))&&(this.subjectEl=c,this.downEl=d,this.isDragging=!0,this.wasTouchScroll=!1,!0)},a.prototype.cleanup=function(){w=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,this.destroyScrollWatch()},a.prototype.querySubjectEl=function(a){return this.selector?b.elementClosest(a.target,this.selector):this.containerEl},a.prototype.shouldIgnoreMouse=function(){return u||this.isTouchDragging},a.prototype.cancelTouchScroll=function(){this.isDragging&&(w=!0)},a.prototype.initScrollWatch=function(a){this.shouldWatchScroll&&(this.recordCoords(a),window.addEventListener("scroll",this.handleScroll,!0))},a.prototype.recordCoords=function(a){this.shouldWatchScroll&&(this.prevPageX=a.pageX,this.prevPageY=a.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},a.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},a.prototype.createEventFromMouse=function(a,b){var c=0,d=0;return b?(this.origPageX=a.pageX,this.origPageY=a.pageY):(c=a.pageX-this.origPageX,d=a.pageY-this.origPageY),{origEvent:a,isTouch:!1,subjectEl:this.subjectEl,pageX:a.pageX,pageY:a.pageY,deltaX:c,deltaY:d}},a.prototype.createEventFromTouch=function(a,b){var c,d,e=a.touches,f=0,g=0;return e&&e.length?(c=e[0].pageX,d=e[0].pageY):(c=a.pageX,d=a.pageY),b?(this.origPageX=c,this.origPageY=d):(f=c-this.origPageX,g=d-this.origPageY),{origEvent:a,isTouch:!0,subjectEl:this.subjectEl,pageX:c,pageY:d,deltaX:f,deltaY:g}},a}(),y=function(){function a(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return a.prototype.start=function(a,b,c){this.sourceEl=a,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=b-window.pageXOffset,this.origScreenY=c-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},a.prototype.handleMove=function(a,b){this.deltaX=a-window.pageXOffset-this.origScreenX,this.deltaY=b-window.pageYOffset-this.origScreenY,this.updateElPosition()},a.prototype.setIsVisible=function(a){a?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=a,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=a)},a.prototype.stop=function(a,b){var c=this,d=function(){c.cleanup(),b()};a&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(d,this.revertDuration):setTimeout(d,0)},a.prototype.doRevertAnimation=function(a,c){var d=this.mirrorEl,e=this.sourceEl.getBoundingClientRect();d.style.transition="top "+c+"ms,left "+c+"ms",b.applyStyle(d,{left:e.left,top:e.top}),b.whenTransitionDone(d,function(){d.style.transition="",a()})},a.prototype.cleanup=function(){this.mirrorEl&&(b.removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},a.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&b.applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},a.prototype.getMirrorEl=function(){var a=this.sourceElRect,c=this.mirrorEl;return c||(c=this.mirrorEl=this.sourceEl.cloneNode(!0),c.classList.add("fc-unselectable"),c.classList.add("fc-dragging"),b.applyStyle(c,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:a.right-a.left,height:a.bottom-a.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(c)),c},a}(),z=function(a){function b(b,c){var d=a.call(this)||this;return d.handleScroll=function(){d.scrollTop=d.scrollController.getScrollTop(),d.scrollLeft=d.scrollController.getScrollLeft(),d.handleScrollChange()},d.scrollController=b,d.doesListening=c,d.scrollTop=d.origScrollTop=b.getScrollTop(),d.scrollLeft=d.origScrollLeft=b.getScrollLeft(),d.scrollWidth=b.getScrollWidth(),d.scrollHeight=b.getScrollHeight(),d.clientWidth=b.getClientWidth(),d.clientHeight=b.getClientHeight(),d.clientRect=d.computeClientRect(),d.doesListening&&d.getEventTarget().addEventListener("scroll",d.handleScroll),d}return c(b,a),b.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},b.prototype.getScrollTop=function(){return this.scrollTop},b.prototype.getScrollLeft=function(){return this.scrollLeft},b.prototype.setScrollTop=function(a){this.scrollController.setScrollTop(a),this.doesListening||(this.scrollTop=Math.max(Math.min(a,this.getMaxScrollTop()),0),this.handleScrollChange())},b.prototype.setScrollLeft=function(a){this.scrollController.setScrollLeft(a),this.doesListening||(this.scrollLeft=Math.max(Math.min(a,this.getMaxScrollLeft()),0),this.handleScrollChange())},b.prototype.getClientWidth=function(){return this.clientWidth},b.prototype.getClientHeight=function(){return this.clientHeight},b.prototype.getScrollWidth=function(){return this.scrollWidth},b.prototype.getScrollHeight=function(){return this.scrollHeight},b.prototype.handleScrollChange=function(){},b}(b.ScrollController),A=function(a){function d(c,d){return a.call(this,new b.ElementScrollController(c),d)||this}return c(d,a),d.prototype.getEventTarget=function(){return this.scrollController.el},d.prototype.computeClientRect=function(){return b.computeInnerRect(this.scrollController.el)},d}(z),B=function(a){function d(c){return a.call(this,new b.WindowScrollController,c)||this}return c(d,a),d.prototype.getEventTarget=function(){return window},d.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},d.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},d}(z),C="function"==typeof performance?performance.now:Date.now,D=function(){function a(){var a=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(a.isAnimating){var b=a.computeBestEdge(a.pointerScreenX+window.pageXOffset,a.pointerScreenY+window.pageYOffset);if(b){var c=C();a.handleSide(b,(c-a.msSinceRequest)/1e3),a.requestAnimation(c)}else a.isAnimating=!1}}}return a.prototype.start=function(a,b){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,
this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(a,b))},a.prototype.handleMove=function(a,b){if(this.isEnabled){var c=a-window.pageXOffset,d=b-window.pageYOffset,e=null===this.pointerScreenY?0:d-this.pointerScreenY,f=null===this.pointerScreenX?0:c-this.pointerScreenX;e<0?this.everMovedUp=!0:e>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=c,this.pointerScreenY=d,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(C()))}},a.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var a=0,b=this.scrollCaches;a<b.length;a++){b[a].destroy()}this.scrollCaches=null}},a.prototype.requestAnimation=function(a){this.msSinceRequest=a,requestAnimationFrame(this.animate)},a.prototype.handleSide=function(a,b){var c=a.scrollCache,d=this.edgeThreshold,e=d-a.distance,f=e*e/(d*d)*this.maxVelocity*b,g=1;switch(a.name){case"left":g=-1;case"right":c.setScrollLeft(c.getScrollLeft()+f*g);break;case"top":g=-1;case"bottom":c.setScrollTop(c.getScrollTop()+f*g)}},a.prototype.computeBestEdge=function(a,b){for(var c=this.edgeThreshold,d=null,e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e],h=g.clientRect,i=a-h.left,j=h.right-a,k=b-h.top,l=h.bottom-b;i>=0&&j>=0&&k>=0&&l>=0&&(k<=c&&this.everMovedUp&&g.canScrollUp()&&(!d||d.distance>k)&&(d={scrollCache:g,name:"top",distance:k}),l<=c&&this.everMovedDown&&g.canScrollDown()&&(!d||d.distance>l)&&(d={scrollCache:g,name:"bottom",distance:l}),i<=c&&this.everMovedLeft&&g.canScrollLeft()&&(!d||d.distance>i)&&(d={scrollCache:g,name:"left",distance:i}),j<=c&&this.everMovedRight&&g.canScrollRight()&&(!d||d.distance>j)&&(d={scrollCache:g,name:"right",distance:j}))}return d},a.prototype.buildCaches=function(){return this.queryScrollEls().map(function(a){return a===window?new B(!1):new A(a,!1)})},a.prototype.queryScrollEls=function(){for(var a=[],b=0,c=this.scrollQuery;b<c.length;b++){var d=c[b];"object"==typeof d?a.push(d):a.push.apply(a,Array.prototype.slice.call(document.querySelectorAll(d)))}return a},a}(),E=function(a){function d(c){var d=a.call(this,c)||this;d.delay=null,d.minDistance=0,d.touchScrollAllowed=!0,d.mirrorNeedsRevert=!1,d.isInteracting=!1,d.isDragging=!1,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,d.delayTimeoutId=null,d.onPointerDown=function(a){d.isDragging||(d.isInteracting=!0,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,b.preventSelection(document.body),b.preventContextMenu(document.body),a.isTouch||a.origEvent.preventDefault(),d.emitter.trigger("pointerdown",a),d.pointer.shouldIgnoreMove||(d.mirror.setIsVisible(!1),d.mirror.start(a.subjectEl,a.pageX,a.pageY),d.startDelay(a),d.minDistance||d.handleDistanceSurpassed(a)))},d.onPointerMove=function(a){if(d.isInteracting){if(d.emitter.trigger("pointermove",a),!d.isDistanceSurpassed){var b=d.minDistance,c=void 0,e=a.deltaX,f=a.deltaY;c=e*e+f*f,c>=b*b&&d.handleDistanceSurpassed(a)}d.isDragging&&("scroll"!==a.origEvent.type&&(d.mirror.handleMove(a.pageX,a.pageY),d.autoScroller.handleMove(a.pageX,a.pageY)),d.emitter.trigger("dragmove",a))}},d.onPointerUp=function(a){d.isInteracting&&(d.isInteracting=!1,b.allowSelection(document.body),b.allowContextMenu(document.body),d.emitter.trigger("pointerup",a),d.isDragging&&(d.autoScroller.stop(),d.tryStopDrag(a)),d.delayTimeoutId&&(clearTimeout(d.delayTimeoutId),d.delayTimeoutId=null))};var e=d.pointer=new x(c);return e.emitter.on("pointerdown",d.onPointerDown),e.emitter.on("pointermove",d.onPointerMove),e.emitter.on("pointerup",d.onPointerUp),d.mirror=new y,d.autoScroller=new D,d}return c(d,a),d.prototype.destroy=function(){this.pointer.destroy()},d.prototype.startDelay=function(a){var b=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){b.delayTimeoutId=null,b.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)},d.prototype.handleDelayEnd=function(a){this.isDelayEnded=!0,this.tryStartDrag(a)},d.prototype.handleDistanceSurpassed=function(a){this.isDistanceSurpassed=!0,this.tryStartDrag(a)},d.prototype.tryStartDrag=function(a){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(a.pageX,a.pageY),this.emitter.trigger("dragstart",a),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},d.prototype.tryStopDrag=function(a){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,a))},d.prototype.stopDrag=function(a){this.isDragging=!1,this.emitter.trigger("dragend",a)},d.prototype.setIgnoreMove=function(a){this.pointer.shouldIgnoreMove=a},d.prototype.setMirrorIsVisible=function(a){this.mirror.setIsVisible(a)},d.prototype.setMirrorNeedsRevert=function(a){this.mirrorNeedsRevert=a},d.prototype.setAutoScrollEnabled=function(a){this.autoScroller.isEnabled=a},d}(b.ElementDragging),F=function(){function a(a){this.origRect=b.computeRect(a),this.scrollCaches=b.getClippingParents(a).map(function(a){return new A(a,!0)})}return a.prototype.destroy=function(){for(var a=0,b=this.scrollCaches;a<b.length;a++){b[a].destroy()}},a.prototype.computeLeft=function(){for(var a=this.origRect.left,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollLeft-d.getScrollLeft()}return a},a.prototype.computeTop=function(){for(var a=this.origRect.top,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollTop-d.getScrollTop()}return a},a.prototype.isWithinClipping=function(a,c){for(var d={left:a,top:c},e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e];if(!i(g.getEventTarget())&&!b.pointInsideRect(d,g.clientRect))return!1}return!0},a}(),G=function(){function a(a,c){var d=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(a){var b=d.dragging;d.initialHit=null,d.movingHit=null,d.finalHit=null,d.prepareHits(),d.processFirstCoord(a),d.initialHit||!d.requireInitial?(b.setIgnoreMove(!1),d.emitter.trigger("pointerdown",a)):b.setIgnoreMove(!0)},this.handleDragStart=function(a){d.emitter.trigger("dragstart",a),d.handleMove(a,!0)},this.handleDragMove=function(a){d.emitter.trigger("dragmove",a),d.handleMove(a)},this.handlePointerUp=function(a){d.releaseHits(),d.emitter.trigger("pointerup",a)},this.handleDragEnd=function(a){d.movingHit&&d.emitter.trigger("hitupdate",null,!0,a),d.finalHit=d.movingHit,d.movingHit=null,d.emitter.trigger("dragend",a)},this.droppableStore=c,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("dragmove",this.handleDragMove),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd),this.dragging=a,this.emitter=new b.EmitterMixin}return a.prototype.processFirstCoord=function(a){var c,d={left:a.pageX,top:a.pageY},e=d,f=a.subjectEl;f!==document&&(c=b.computeRect(f),e=b.constrainPoint(e,c));var g=this.initialHit=this.queryHitForOffset(e.left,e.top);if(g){if(this.useSubjectCenter&&c){var h=b.intersectRects(c,g.rect);h&&(e=b.getRectCenter(h))}this.coordAdjust=b.diffPoints(e,d)}else this.coordAdjust={left:0,top:0}},a.prototype.handleMove=function(a,b){var c=this.queryHitForOffset(a.pageX+this.coordAdjust.left,a.pageY+this.coordAdjust.top);!b&&j(this.movingHit,c)||(this.movingHit=c,this.emitter.trigger("hitupdate",c,!1,a))},a.prototype.prepareHits=function(){this.offsetTrackers=b.mapHash(this.droppableStore,function(a){return a.component.buildPositionCaches(),new F(a.el)})},a.prototype.releaseHits=function(){var a=this.offsetTrackers;for(var b in a)a[b].destroy();this.offsetTrackers={}},a.prototype.queryHitForOffset=function(a,c){var d=this,e=d.droppableStore,f=d.offsetTrackers,g=null;for(var h in e){var i=e[h].component,j=f[h];if(j.isWithinClipping(a,c)){var k=j.computeLeft(),l=j.computeTop(),m=a-k,n=c-l,o=j.origRect,p=o.right-o.left,q=o.bottom-o.top;if(m>=0&&m<p&&n>=0&&n<q){var r=i.queryHit(m,n,p,q);!r||i.props.dateProfile&&!b.rangeContainsRange(i.props.dateProfile.activeRange,r.dateSpan.range)||g&&!(r.layer>g.layer)||(r.rect.left+=k,r.rect.right+=k,r.rect.top+=l,r.rect.bottom+=l,g=r)}}}return g},a}(),H=function(a){function d(c){var d=a.call(this,c)||this;d.handlePointerDown=function(a){var b=d.dragging;b.setIgnoreMove(!d.component.isValidDateDownEl(b.pointer.downEl))},d.handleDragEnd=function(a){var b=d.component;if(!d.dragging.pointer.wasTouchScroll){var c=d.hitDragging,e=c.initialHit,f=c.finalHit;e&&f&&j(e,f)&&b.calendar.triggerDateClick(e.dateSpan,e.dayEl,b.view,a.origEvent)}};var e=c.component;d.dragging=new E(e.el),d.dragging.autoScroller.isEnabled=!1;var f=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return f.emitter.on("pointerdown",d.handlePointerDown),f.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),I=function(a){function d(c){var d=a.call(this,c)||this;d.dragSelection=null,d.handlePointerDown=function(a){var b=d,c=b.component,e=b.dragging,f=c.opt("selectable")&&c.isValidDateDownEl(a.origEvent.target);e.setIgnoreMove(!f),e.delay=a.isTouch?k(c):null},d.handleDragStart=function(a){d.component.calendar.unselect(a)},d.handleHitUpdate=function(a,c){var e=d.component.calendar,f=null,g=!1;a&&((f=l(d.hitDragging.initialHit,a,e.pluginSystem.hooks.dateSelectionTransformers))&&d.component.isDateSelectionValid(f)||(g=!0,f=null)),f?e.dispatch({type:"SELECT_DATES",selection:f}):c||e.dispatch({type:"UNSELECT_DATES"}),g?b.disableCursor():b.enableCursor(),c||(d.dragSelection=f)},d.handlePointerUp=function(a){d.dragSelection&&(d.component.calendar.triggerDateSelect(d.dragSelection,a),d.dragSelection=null)};var e=c.component,f=d.dragging=new E(e.el);f.touchScrollAllowed=!1,f.minDistance=e.opt("selectMinDistance")||0,f.autoScroller.isEnabled=e.opt("dragScroll");var g=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return g.emitter.on("pointerdown",d.handlePointerDown),g.emitter.on("dragstart",d.handleDragStart),g.emitter.on("hitupdate",d.handleHitUpdate),g.emitter.on("pointerup",d.handlePointerUp),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),J=function(a){function d(c){var e=a.call(this,c)||this;e.subjectSeg=null,e.isDragging=!1,e.eventRange=null,e.relevantEvents=null,e.receivingCalendar=null,e.validMutation=null,e.mutatedRelevantEvents=null,e.handlePointerDown=function(a){var c=a.origEvent.target,d=e,f=d.component,g=d.dragging,h=g.mirror,i=f.calendar,j=e.subjectSeg=b.getElSeg(a.subjectEl),k=e.eventRange=j.eventRange,l=k.instance.instanceId;e.relevantEvents=b.getRelevantEvents(i.state.eventStore,l),g.minDistance=a.isTouch?0:f.opt("eventDragMinDistance"),g.delay=a.isTouch&&l!==f.props.eventSelection?n(f):null,h.parentNode=i.el,h.revertDuration=f.opt("dragRevertDuration");var m=f.isValidSegDownEl(c)&&!b.elementClosest(c,".fc-resizer");g.setIgnoreMove(!m),e.isDragging=m&&a.subjectEl.classList.contains("fc-draggable")},e.handleDragStart=function(a){var c=e.component.calendar,d=e.eventRange,f=d.instance.instanceId;a.isTouch?f!==e.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):c.dispatch({type:"UNSELECT_EVENT"}),e.isDragging&&(c.unselect(a),c.publiclyTrigger("eventDragStart",[{el:e.subjectSeg.el,event:new b.EventApi(c,d.def,d.instance),jsEvent:a.origEvent,view:e.component.view}]))},e.handleHitUpdate=function(a,c){if(e.isDragging){var d=e.relevantEvents,f=e.hitDragging.initialHit,g=e.component.calendar,h=null,i=null,k=null,l=!1,n={affectedEvents:d,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:e.subjectSeg};if(a){var o=a.component;h=o.calendar,g===h||o.opt("editable")&&o.opt("droppable")?(i=m(f,a,h.pluginSystem.hooks.eventDragMutationMassagers))&&(k=b.applyMutationToEventStore(d,h.eventUiBases,i,h),n.mutatedEvents=k,o.isInteractionValid(n)||(l=!0,i=null,k=null,n.mutatedEvents=b.createEmptyEventStore())):h=null}e.displayDrag(h,n),l?b.disableCursor():b.enableCursor(),c||(g===h&&j(f,a)&&(i=null),e.dragging.setMirrorNeedsRevert(!i),e.dragging.setMirrorIsVisible(!a||!document.querySelector(".fc-mirror")),e.receivingCalendar=h,e.validMutation=i,e.mutatedRelevantEvents=k)}},e.handlePointerUp=function(){e.isDragging||e.cleanup()},e.handleDragEnd=function(a){if(e.isDragging){var c=e.component.calendar,d=e.component.view,f=e,g=f.receivingCalendar,h=f.validMutation,i=e.eventRange.def,j=e.eventRange.instance,k=new b.EventApi(c,i,j),l=e.relevantEvents,m=e.mutatedRelevantEvents,n=e.hitDragging.finalHit;if(e.clearDrag(),c.publiclyTrigger("eventDragStop",[{el:e.subjectSeg.el,event:k,jsEvent:a.origEvent,view:d}]),h){if(g===c){c.dispatch({type:"MERGE_EVENTS",eventStore:m});for(var o={},p=0,q=c.pluginSystem.hooks.eventDropTransformers;p<q.length;p++){var r=q[p];t(o,r(h,c))}var s=t({},o,{el:a.subjectEl,delta:h.datesDelta,oldEvent:k,event:new b.EventApi(c,m.defs[i.defId],j?m.instances[j.instanceId]:null),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:l})},jsEvent:a.origEvent,view:d});c.publiclyTrigger("eventDrop",[s])}else if(g){c.publiclyTrigger("eventLeave",[{draggedEl:a.subjectEl,event:k,view:d}]),c.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:e.mutatedRelevantEvents.instances}),g.dispatch({type:"MERGE_EVENTS",eventStore:e.mutatedRelevantEvents}),a.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:j.instanceId});var u=t({},g.buildDatePointApi(n.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:n.component});g.publiclyTrigger("drop",[u]),g.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(g,m.defs[i.defId],m.instances[j.instanceId]),view:n.component}])}}else c.publiclyTrigger("_noEventDrop")}e.cleanup()};var f=e.component,g=e.dragging=new E(f.el);g.pointer.selector=d.SELECTOR,g.touchScrollAllowed=!1,g.autoScroller.isEnabled=f.opt("dragScroll");var h=e.hitDragging=new G(e.dragging,b.interactionSettingsStore);return h.useSubjectCenter=c.useEventCenter,h.emitter.on("pointerdown",e.handlePointerDown),h.emitter.on("dragstart",e.handleDragStart),h.emitter.on("hitupdate",e.handleHitUpdate),h.emitter.on("pointerup",e.handlePointerUp),h.emitter.on("dragend",e.handleDragEnd),e}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.displayDrag=function(a,c){var d=this.component.calendar,e=this.receivingCalendar;e&&e!==a&&(e===d?e.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:c.affectedEvents,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:c.origSeg}}):e.dispatch({type:"UNSET_EVENT_DRAG"})),a&&a.dispatch({type:"SET_EVENT_DRAG",state:c})},d.prototype.clearDrag=function(){var a=this.component.calendar,b=this.receivingCalendar;b&&b.dispatch({type:"UNSET_EVENT_DRAG"}),a!==b&&a.dispatch({type:"UNSET_EVENT_DRAG"})},d.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},d.SELECTOR=".fc-draggable, .fc-resizable",d}(b.Interaction),K=function(a){function d(c){var d=a.call(this,c)||this;d.draggingSeg=null,d.eventRange=null,d.relevantEvents=null,d.validMutation=null,d.mutatedRelevantEvents=null,d.handlePointerDown=function(a){var b=d.component,c=d.querySeg(a),e=d.eventRange=c.eventRange;d.dragging.minDistance=b.opt("eventDragMinDistance"),d.dragging.setIgnoreMove(!d.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&d.component.props.eventSelection!==e.instance.instanceId)},d.handleDragStart=function(a){var c=d.component.calendar,e=d.eventRange;d.relevantEvents=b.getRelevantEvents(c.state.eventStore,d.eventRange.instance.instanceId),d.draggingSeg=d.querySeg(a),c.unselect(),c.publiclyTrigger("eventResizeStart",[{el:d.draggingSeg.el,event:new b.EventApi(c,e.def,e.instance),jsEvent:a.origEvent,view:d.component.view}])},d.handleHitUpdate=function(a,c,e){var f=d.component.calendar,g=d.relevantEvents,h=d.hitDragging.initialHit,i=d.eventRange.instance,k=null,l=null,m=!1,n={affectedEvents:g,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:d.draggingSeg};a&&(k=o(h,a,e.subjectEl.classList.contains("fc-start-resizer"),i.range,f.pluginSystem.hooks.eventResizeJoinTransforms)),k&&(l=b.applyMutationToEventStore(g,f.eventUiBases,k,f),n.mutatedEvents=l,d.component.isInteractionValid(n)||(m=!0,k=null,l=null,n.mutatedEvents=null)),l?f.dispatch({type:"SET_EVENT_RESIZE",state:n}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),m?b.disableCursor():b.enableCursor(),c||(k&&j(h,a)&&(k=null),d.validMutation=k,d.mutatedRelevantEvents=l)},d.handleDragEnd=function(a){var c=d.component.calendar,e=d.component.view,f=d.eventRange.def,g=d.eventRange.instance,h=new b.EventApi(c,f,g),i=d.relevantEvents,j=d.mutatedRelevantEvents;c.publiclyTrigger("eventResizeStop",[{el:d.draggingSeg.el,event:h,jsEvent:a.origEvent,view:e}]),d.validMutation?(c.dispatch({type:"MERGE_EVENTS",eventStore:j}),c.publiclyTrigger("eventResize",[{el:d.draggingSeg.el,startDelta:d.validMutation.startDelta||b.createDuration(0),endDelta:d.validMutation.endDelta||b.createDuration(0),prevEvent:h,event:new b.EventApi(c,j.defs[f.defId],g?j.instances[g.instanceId]:null),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:i})},jsEvent:a.origEvent,view:e}])):c.publiclyTrigger("_noEventResize"),d.draggingSeg=null,d.relevantEvents=null,d.validMutation=null};var e=c.component,f=d.dragging=new E(e.el);f.pointer.selector=".fc-resizer",f.touchScrollAllowed=!1,f.autoScroller.isEnabled=e.opt("dragScroll");var g=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return g.emitter.on("pointerdown",d.handlePointerDown),g.emitter.on("dragstart",d.handleDragStart),g.emitter.on("hitupdate",d.handleHitUpdate),g.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.querySeg=function(a){return b.getElSeg(b.elementClosest(a.subjectEl,this.component.fgSegSelector))},d}(b.Interaction),L=function(){function a(a){var c=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(a){a.jsEvent&&(c.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(a){var d=c,e=d.calendar,f=d.documentPointer,g=e.state;if(!f.wasTouchScroll){if(g.dateSelection&&!c.isRecentPointerDateSelect){var h=e.viewOpt("unselectAuto"),i=e.viewOpt("unselectCancel");!h||h&&b.elementClosest(f.downEl,i)||e.unselect(a)}g.eventSelection&&!b.elementClosest(f.downEl,J.SELECTOR)&&e.dispatch({type:"UNSELECT_EVENT"})}c.isRecentPointerDateSelect=!1},this.calendar=a;var d=this.documentPointer=new x(document);d.shouldIgnoreMove=!0,d.shouldWatchScroll=!1,d.emitter.on("pointerup",this.onDocumentPointerUp),a.on("select",this.onSelect)}return a.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},a}(),M=function(){function a(a,c){var d=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){d.dragMeta=d.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,c,e){var f=d.hitDragging.dragging,g=null,h=null,i=!1,j={affectedEvents:b.createEmptyEventStore(),mutatedEvents:b.createEmptyEventStore(),isEvent:d.dragMeta.create,origSeg:null};a&&(g=a.component.calendar,d.canDropElOnCalendar(e.subjectEl,g)&&(h=p(a.dateSpan,d.dragMeta,g),j.mutatedEvents=b.eventTupleToStore(h),(i=!b.isInteractionValid(j,g))&&(j.mutatedEvents=b.createEmptyEventStore(),h=null))),d.displayDrag(g,j),f.setMirrorIsVisible(c||!h||!document.querySelector(".fc-mirror")),i?b.disableCursor():b.enableCursor(),c||(f.setMirrorNeedsRevert(!h),d.receivingCalendar=g,d.droppableEvent=h)},this.handleDragEnd=function(a){var c=d,e=c.receivingCalendar,f=c.droppableEvent;if(d.clearDrag(),e&&f){var g=d.hitDragging.finalHit,h=g.component.view,i=d.dragMeta,j=t({},e.buildDatePointApi(g.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:h});e.publiclyTrigger("drop",[j]),i.create&&(e.dispatch({type:"MERGE_EVENTS",eventStore:b.eventTupleToStore(f)}),a.isTouch&&e.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instance.instanceId}),e.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(e,f.def,f.instance),view:h}]))}d.receivingCalendar=null,d.droppableEvent=null};var e=this.hitDragging=new G(a,b.interactionSettingsStore);e.requireInitial=!1,e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("hitupdate",this.handleHitUpdate),e.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=c}return a.prototype.buildDragMeta=function(a){return"object"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta(a)):q(a)},a.prototype.displayDrag=function(a,b){var c=this.receivingCalendar;c&&c!==a&&c.dispatch({type:"UNSET_EVENT_DRAG"}),a&&a.dispatch({type:"SET_EVENT_DRAG",state:b})},a.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},a.prototype.canDropElOnCalendar=function(a,c){var d=c.opt("dropAccept");return"function"==typeof d?d(a):"string"!=typeof d||!d||Boolean(b.elementMatches(a,d))},a}();b.config.dataAttrPrefix="";var N=function(){function a(a,c){var d=this;void 0===c&&(c={}),this.handlePointerDown=function(a){var c=d.dragging,e=d.settings,f=e.minDistance,g=e.longPressDelay;c.minDistance=null!=f?f:a.isTouch?0:b.globalDefaults.eventDragMinDistance,c.delay=a.isTouch?null!=g?g:b.globalDefaults.longPressDelay:0},this.handleDragStart=function(a){a.isTouch&&d.dragging.delay&&a.subjectEl.classList.contains("fc-event")&&d.dragging.mirror.getMirrorEl().classList.add("fc-selected")},this.settings=c;var e=this.dragging=new E(a);e.touchScrollAllowed=!1,null!=c.itemSelector&&(e.pointer.selector=c.itemSelector),null!=c.appendTo&&(e.mirror.parentNode=c.appendTo),e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),new M(e,c.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),O=function(a){function b(b){var c=a.call(this,b)||this;c.shouldIgnoreMove=!1,c.mirrorSelector="",c.currentMirrorEl=null,c.handlePointerDown=function(a){c.emitter.trigger("pointerdown",a),c.shouldIgnoreMove||c.emitter.trigger("dragstart",a)},c.handlePointerMove=function(a){c.shouldIgnoreMove||c.emitter.trigger("dragmove",a)},c.handlePointerUp=function(a){c.emitter.trigger("pointerup",a),c.shouldIgnoreMove||c.emitter.trigger("dragend",a)};var d=c.pointer=new x(b);return d.emitter.on("pointerdown",c.handlePointerDown),d.emitter.on("pointermove",c.handlePointerMove),d.emitter.on("pointerup",c.handlePointerUp),c}return c(b,a),b.prototype.destroy=function(){this.pointer.destroy()},b.prototype.setIgnoreMove=function(a){this.shouldIgnoreMove=a},b.prototype.setMirrorIsVisible=function(a){if(a)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var b=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;b&&(this.currentMirrorEl=b,b.style.visibility="hidden")}},b}(b.ElementDragging),P=function(){function a(a,b){var c=document;a===document||a instanceof Element?(c=a,b=b||{}):b=a||{};var d=this.dragging=new O(c);"string"==typeof b.itemSelector?d.pointer.selector=b.itemSelector:c===document&&(d.pointer.selector="[data-event]"),"string"==typeof b.mirrorSelector&&(d.mirrorSelector=b.mirrorSelector),new M(d,b.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),Q=b.createPlugin({componentInteractions:[H,I,J,K],calendarInteractions:[L],elementDraggingImpl:E});a.Draggable=N,a.FeaturefulElementDragging=E,a.PointerDragging=x,a.ThirdPartyDraggable=P,a.default=Q,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarDayGrid={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}h(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.firstCol<=a.lastCol&&d.lastCol>=a.firstCol)return!0;return!1}function e(a,b){return a.leftCol-b.leftCol}function f(a,c,d,e){var f=d.dateEnv,g=d.theme,h=b.rangeContainsMarker(c.activeRange,a),i=b.getDayClasses(a,c,d);return i.unshift("fc-day",g.getClass("widgetContent")),'<td class="'+i.join(" ")+'"'+(h?' data-date="'+f.formatIso(a,{omitTime:!0})+'"':"")+(e?" "+e:"")+"></td>"}function g(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,/year|month|week/.test(a.currentRangeUnit))}var h=function(a,b){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},i=function(){return i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},i.apply(this,arguments)},j=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.buildRenderRange=function(c,d,e){var f,g=this.dateEnv,h=a.prototype.buildRenderRange.call(this,c,d,e),i=h.start,j=h.end;if(/^(year|month)$/.test(d)&&(i=g.startOfWeek(i),f=g.startOfWeek(j),f.valueOf()!==j.valueOf()&&(j=b.addWeeks(f,1))),this.options.monthMode&&this.options.fixedWeekCount){var k=Math.ceil(b.diffWeeks(i,j));j=b.addWeeks(j,6-k)}return{start:i,end:j}},d}(b.DateProfileGenerator),k=function(){function a(a){var b=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(a){b.el&&!b.el.contains(a.target)&&b.hide()},this.options=a}return a.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},a.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},a.prototype.render=function(){var a=this,c=this.options,d=this.el=b.createElement("div",{className:"fc-popover "+(c.className||""),style:{top:"0",left:"0"}});"function"==typeof c.content&&c.content(d),c.parentEl.appendChild(d),b.listenBySelector(d,"click",".fc-close",function(b){a.hide()}),c.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},a.prototype.destroy=function(){this.hide(),this.el&&(b.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},a.prototype.position=function(){var a,c,d=this.options,e=this.el,f=e.getBoundingClientRect(),g=b.computeRect(e.offsetParent),h=b.computeClippingRect(d.parentEl);a=d.top||0,c=void 0!==d.left?d.left:void 0!==d.right?d.right-f.width:0,a=Math.min(a,h.bottom-f.height-this.margin),a=Math.max(a,h.top+this.margin),c=Math.min(c,h.right-f.width-this.margin),c=Math.max(c,h.left+this.margin),b.applyStyle(e,{top:a-g.top,left:c-g.left})},a.prototype.trigger=function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},a}(),l=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.renderSegHtml=function(a,c){var d,e,f=this.context,g=f.view,h=f.options,i=a.eventRange,j=i.def,k=i.ui,l=j.allDay,m=g.computeEventDraggable(j,k),n=l&&a.isStart&&g.computeEventStartResizable(j,k),o=l&&a.isEnd&&g.computeEventEndResizable(j,k),p=this.getSegClasses(a,m,n||o,c),q=b.cssToStr(this.getSkinCss(k)),r="";return p.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(d=this.getTimeText(i))&&(r='<span class="fc-time">'+b.htmlEscape(d)+"</span>"),e='<span class="fc-title">'+(b.htmlEscape(j.title||"")||"&nbsp;")+"</span>",'<a class="'+p.join(" ")+'"'+(j.url?' href="'+b.htmlEscape(j.url)+'"':"")+(q?' style="'+q+'"':"")+'><div class="fc-content">'+("rtl"===h.dir?e+" "+r:r+" "+e)+"</div>"+(n?'<div class="fc-resizer fc-start-resizer"></div>':"")+(o?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},d.prototype.computeDisplayEventEnd=function(){return!1},d}(b.FgEventRenderer),m=function(a){function f(b){var c=a.call(this,b.context)||this;return c.dayGrid=b,c}return c(f,a),f.prototype.attachSegs=function(a,b){var c=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,b){a.querySelector(".fc-content-skeleton > table").appendChild(c[b].tbodyEl)}),b||this.dayGrid.removeSegPopover()},f.prototype.detachSegs=function(){for(var a,c=this.rowStructs||[];a=c.pop();)b.removeElement(a.tbodyEl);this.rowStructs=null},f.prototype.renderSegRows=function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},f.prototype.renderSegRow=function(a,c){function d(a){for(;g<a;)k=(t[e-1]||[])[g],k?k.rowSpan=(k.rowSpan||1)+1:(k=document.createElement("td"),h.appendChild(k)),s[e][g]=k,t[e][g]=k,g++}var e,f,g,h,i,j,k,l=this.dayGrid,m=l.colCnt,n=l.isRtl,o=this.buildSegLevels(c),p=Math.max(1,o.length),q=document.createElement("tbody"),r=[],s=[],t=[];for(e=0;e<p;e++){if(f=o[e],g=0,h=document.createElement("tr"),r.push([]),s.push([]),t.push([]),f)for(i=0;i<f.length;i++){j=f[i];var u=n?m-1-j.lastCol:j.firstCol,v=n?m-1-j.firstCol:j.lastCol;for(d(u),k=b.createElement("td",{className:"fc-event-container"},j.el),u!==v?k.colSpan=v-u+1:t[e][g]=k;g<=v;)s[e][g]=k,r[e][g]=j,g++;h.appendChild(k)}d(m);var w=l.renderProps.renderIntroHtml();w&&(l.isRtl?b.appendToElement(h,w):b.prependToElement(h,w)),q.appendChild(h)}return{row:a,tbodyEl:q,cellMatrix:s,segMatrix:r,segLevels:o,segs:c}},f.prototype.buildSegLevels=function(a){var b,c,f,g=this.dayGrid,h=g.isRtl,i=g.colCnt,j=[];for(a=this.sortEventSegs(a),b=0;b<a.length;b++){for(c=a[b],f=0;f<j.length&&d(c,j[f]);f++);c.level=f,c.leftCol=h?i-1-c.lastCol:c.firstCol,c.rightCol=h?i-1-c.firstCol:c.lastCol,(j[f]||(j[f]=[])).push(c)}for(f=0;f<j.length;f++)j[f].sort(e);return j},f.prototype.groupSegRows=function(a){var b,c=[];for(b=0;b<this.dayGrid.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c},f.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},f}(l),n=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.attachSegs=function(a,c){var d=c.sourceSeg,e=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,c){var f,g,h=b.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>');d&&d.row===c?f=d.el:(f=a.querySelector(".fc-content-skeleton tbody"))||(f=a.querySelector(".fc-content-skeleton table")),g=f.getBoundingClientRect().top-a.getBoundingClientRect().top,h.style.top=g+"px",h.querySelector("table").appendChild(e[c].tbodyEl),a.appendChild(h)})},d}(m),o=function(a){function d(b){var c=a.call(this,b.context)||this;return c.fillSegTag="td",c.dayGrid=b,c}return c(d,a),d.prototype.renderSegs=function(b,c){"bgEvent"===b&&(c=c.filter(function(a){return a.eventRange.def.allDay})),a.prototype.renderSegs.call(this,b,c)},d.prototype.attachSegs=function(a,b){var c,d,e,f=[];for(c=0;c<b.length;c++)d=b[c],e=this.renderFillRow(a,d),this.dayGrid.rowEls[d.row].appendChild(e),f.push(e);return f},d.prototype.renderFillRow=function(a,c){var d,e,f,g=this.dayGrid,h=g.colCnt,i=g.isRtl,j=i?h-1-c.lastCol:c.firstCol,k=i?h-1-c.firstCol:c.lastCol,l=j,m=k+1;d="businessHours"===a?"bgevent":a.toLowerCase(),e=b.htmlToElement('<div class="fc-'+d+'-skeleton"><table><tr></tr></table></div>'),f=e.getElementsByTagName("tr")[0],l>0&&b.appendToElement(f,new Array(l+1).join('<td style="pointer-events:none"></td>')),c.el.colSpan=m-l,f.appendChild(c.el),m<h&&b.appendToElement(f,new Array(h-m+1).join('<td style="pointer-events:none"></td>'));var n=g.renderProps.renderIntroHtml();return n&&(g.isRtl?b.appendToElement(f,n):b.prependToElement(f,n)),e},d}(b.FillRenderer),p=function(a){function d(c,d){
var e=a.call(this,c,d)||this,f=e.eventRenderer=new q(e),g=e.renderFrame=b.memoizeRendering(e._renderFrame);return e.renderFgEvents=b.memoizeRendering(f.renderSegs.bind(f),f.unrender.bind(f),[g]),e.renderEventSelection=b.memoizeRendering(f.selectByInstanceId.bind(f),f.unselectByInstanceId.bind(f),[e.renderFgEvents]),e.renderEventDrag=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),e.renderEventResize=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),c.calendar.registerInteractiveComponent(e,{el:e.el,useEventCenter:!1}),e}return c(d,a),d.prototype.render=function(a){this.renderFrame(a.date),this.renderFgEvents(a.fgSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDragInstances),this.renderEventResize(a.eventResizeInstances)},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderFrame.unrender(),this.calendar.unregisterInteractiveComponent(this)},d.prototype._renderFrame=function(a){var c=this,d=c.theme,e=c.dateEnv,f=e.format(a,b.createFormatter(this.opt("dayPopoverFormat")));this.el.innerHTML='<div class="fc-header '+d.getClass("popoverHeader")+'"><span class="fc-title">'+b.htmlEscape(f)+'</span><span class="fc-close '+d.getIconClass("close")+'"></span></div><div class="fc-body '+d.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},d.prototype.queryHit=function(a,c,d,e){var f=this.props.date;if(a<d&&c<e)return{component:this,dateSpan:{allDay:!0,range:{start:f,end:b.addDays(f,1)}},dayEl:this.el,rect:{left:0,top:0,right:d,bottom:e},layer:1}},d}(b.DateComponent),q=function(a){function d(b){var c=a.call(this,b.context)||this;return c.dayTile=b,c}return c(d,a),d.prototype.attachSegs=function(a){for(var b=0,c=a;b<c.length;b++){var d=c[b];this.dayTile.segContainerEl.appendChild(d.el)}},d.prototype.detachSegs=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.removeElement(e.el)}},d}(l),r=function(){function a(a){this.context=a}return a.prototype.renderHtml=function(a){var b=[];a.renderIntroHtml&&b.push(a.renderIntroHtml());for(var c=0,d=a.cells;c<d.length;c++){var e=d[c];b.push(f(e.date,a.dateProfile,this.context,e.htmlAttrs))}return a.cells.length||b.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&b.reverse(),"<tr>"+b.join("")+"</tr>"},a}(),s=b.createFormatter({day:"numeric"}),t=b.createFormatter({week:"numeric"}),u=function(a){function d(c,d,e){var f=a.call(this,c,d)||this;f.bottomCoordPadding=0,f.isCellSizesDirty=!1;var g=f.eventRenderer=new m(f),h=f.fillRenderer=new o(f);f.mirrorRenderer=new n(f);var i=f.renderCells=b.memoizeRendering(f._renderCells,f._unrenderCells);return f.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[i]),f.renderDateSelection=b.memoizeRendering(h.renderSegs.bind(h,"highlight"),h.unrender.bind(h,"highlight"),[i]),f.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[i]),f.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[i]),f.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[f.renderFgEvents]),f.renderEventDrag=b.memoizeRendering(f._renderEventDrag,f._unrenderEventDrag,[i]),f.renderEventResize=b.memoizeRendering(f._renderEventResize,f._unrenderEventResize,[i]),f.renderProps=e,f}return c(d,a),d.prototype.render=function(a){var b=a.cells;this.rowCnt=b.length,this.colCnt=b[0].length,this.renderCells(b,a.isRigid),this.renderBusinessHours(a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderBgEvents(a.bgEventSegs),this.renderFgEvents(a.fgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderCells.unrender()},d.prototype.getCellRange=function(a,c){var d=this.props.cells[a][c].date;return{start:d,end:b.addDays(d,1)}},d.prototype.updateSegPopoverTile=function(a,b){var c=this.props;this.segPopoverTile.receiveProps({date:a||this.segPopoverTile.props.date,fgSegs:b||this.segPopoverTile.props.fgSegs,eventSelection:c.eventSelection,eventDragInstances:c.eventDrag?c.eventDrag.affectedInstances:null,eventResizeInstances:c.eventResize?c.eventResize.affectedInstances:null})},d.prototype._renderCells=function(a,c){var d,e,f=this,g=f.view,h=f.dateEnv,i=this,j=i.rowCnt,k=i.colCnt,l="";for(d=0;d<j;d++)l+=this.renderDayRowHtml(d,c);for(this.el.innerHTML=l,this.rowEls=b.findElements(this.el,".fc-row"),this.cellEls=b.findElements(this.el,".fc-day, .fc-disabled-day"),this.isRtl&&this.cellEls.reverse(),this.rowPositions=new b.PositionCache(this.el,this.rowEls,!1,!0),this.colPositions=new b.PositionCache(this.el,this.cellEls.slice(0,k),!0,!1),d=0;d<j;d++)for(e=0;e<k;e++)this.publiclyTrigger("dayRender",[{date:h.toDate(a[d][e].date),el:this.getCellEl(d,e),view:g}]);this.isCellSizesDirty=!0},d.prototype._unrenderCells=function(){this.removeSegPopover()},d.prototype.renderDayRowHtml=function(a,b){var c=this.theme,d=["fc-row","fc-week",c.getClass("dayRow")];b&&d.push("fc-rigid");var e=new r(this.context);return'<div class="'+d.join(" ")+'"><div class="fc-bg"><table class="'+c.getClass("tableGrid")+'">'+e.renderHtml({cells:this.props.cells[a],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},d.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},d.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},d.prototype.renderNumberTrHtml=function(a){var b=this.renderProps.renderNumberIntroHtml(a,this);return"<tr>"+(this.isRtl?"":b)+this.renderNumberCellsHtml(a)+(this.isRtl?b:"")+"</tr>"},d.prototype.renderNumberCellsHtml=function(a){var b,c,d=[];for(b=0;b<this.colCnt;b++)c=this.props.cells[a][b].date,d.push(this.renderNumberCellHtml(c));return this.isRtl&&d.reverse(),d.join("")},d.prototype.renderNumberCellHtml=function(a){var c,d,e=this,f=e.view,g=e.dateEnv,h="",i=b.rangeContainsMarker(this.props.dateProfile.activeRange,a),j=this.getIsDayNumbersVisible()&&i;return j||this.renderProps.cellWeekNumbersVisible?(c=b.getDayClasses(a,this.props.dateProfile,this.context),c.unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(d=g.weekDow),h+='<td class="'+c.join(" ")+'"'+(i?' data-date="'+g.formatIso(a,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&a.getUTCDay()===d&&(h+=b.buildGotoAnchorHtml(f,{date:a,type:"week"},{class:"fc-week-number"},g.format(a,t))),j&&(h+=b.buildGotoAnchorHtml(f,a,{class:"fc-day-number"},g.format(a,s))),h+="</td>"):"<td></td>"},d.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isCellSizesDirty||this.view.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},d.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},d.prototype.buildColPositions=function(){this.colPositions.build()},d.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},d.prototype.positionToHit=function(a,b){var c=this,d=c.colPositions,e=c.rowPositions,f=d.leftToIndex(a),g=e.topToIndex(b);if(null!=g&&null!=f)return{row:g,col:f,dateSpan:{range:this.getCellRange(g,f),allDay:!0},dayEl:this.getCellEl(g,f),relativeRect:{left:d.lefts[f],right:d.rights[f],top:e.tops[g],bottom:e.bottoms[g]}}},d.prototype.getCellEl=function(a,b){return this.cellEls[a*this.colCnt+b]},d.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs))},d.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"))},d.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs),this.mirrorRenderer.renderSegs(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},d.prototype.limitRows=function(a){var b,c,d=this.eventRenderer.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),!1!==(c=!!a&&("number"==typeof a?a:this.computeRowLevelLimit(b)))&&this.limitRow(b,c)},d.prototype.computeRowLevelLimit=function(a){var c,d,e=this.rowEls[a],f=e.getBoundingClientRect().bottom,g=b.findChildren(this.eventRenderer.rowStructs[a].tbodyEl);for(c=0;c<g.length;c++)if(d=g[c],d.classList.remove("fc-limited"),d.getBoundingClientRect().bottom>f)return c;return!1},d.prototype.limitRow=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=this,u=t.colCnt,v=t.isRtl,w=this.eventRenderer.rowStructs[a],x=[],y=0,z=function(d){for(;y<d;)i=s.getCellSegs(a,y,c),i.length&&(l=e[c-1][y],r=s.renderMoreLink(a,y,i),q=b.createElement("div",null,r),l.appendChild(q),x.push(q)),y++};if(c&&c<w.segLevels.length){for(d=w.segLevels[c-1],e=w.cellMatrix,f=b.findChildren(w.tbodyEl).slice(c),f.forEach(function(a){a.classList.add("fc-limited")}),g=0;g<d.length;g++){h=d[g];var A=v?u-1-h.lastCol:h.firstCol,B=v?u-1-h.firstCol:h.lastCol;for(z(A),k=[],j=0;y<=B;)i=this.getCellSegs(a,y,c),k.push(i),j+=i.length,y++;if(j){for(l=e[c-1][A],m=l.rowSpan||1,n=[],o=0;o<k.length;o++)p=b.createElement("td",{className:"fc-more-cell",rowSpan:m}),i=k[o],r=this.renderMoreLink(a,A+o,[h].concat(i)),q=b.createElement("div",null,r),p.appendChild(q),n.push(p),x.push(p);l.classList.add("fc-limited"),b.insertAfterElement(l,n),f.push(l)}}z(this.colCnt),w.moreEls=x,w.limitedEls=f}},d.prototype.unlimitRow=function(a){var c=this.eventRenderer.rowStructs[a];c.moreEls&&(c.moreEls.forEach(b.removeElement),c.moreEls=null),c.limitedEls&&(c.limitedEls.forEach(function(a){a.classList.remove("fc-limited")}),c.limitedEls=null)},d.prototype.renderMoreLink=function(a,c,d){var e=this,f=this,g=f.view,h=f.dateEnv,i=b.createElement("a",{className:"fc-more"});return i.innerText=this.getMoreLinkText(d.length),i.addEventListener("click",function(b){var f=e.opt("eventLimitClick"),i=e.isRtl?e.colCnt-c-1:c,j=e.props.cells[a][i].date,k=b.currentTarget,l=e.getCellEl(a,c),m=e.getCellSegs(a,c),n=e.resliceDaySegs(m,j),o=e.resliceDaySegs(d,j);"function"==typeof f&&(f=e.publiclyTrigger("eventLimitClick",[{date:h.toDate(j),allDay:!0,dayEl:l,moreEl:k,segs:n,hiddenSegs:o,jsEvent:b,view:g}])),"popover"===f?e.showSegPopover(a,c,k,n):"string"==typeof f&&g.calendar.zoomTo(j,f)}),i},d.prototype.showSegPopover=function(a,c,d,e){var f,g,h=this,i=this,j=i.calendar,l=i.view,m=i.theme,n=this.isRtl?this.colCnt-c-1:c,o=d.parentNode;f=1===this.rowCnt?l.el:this.rowEls[a],g={className:"fc-more-popover "+m.getClass("popover"),parentEl:l.el,top:b.computeRect(f).top,autoHide:!0,content:function(b){h.segPopoverTile=new p(h.context,b),h.updateSegPopoverTile(h.props.cells[a][n].date,e)},hide:function(){h.segPopoverTile.destroy(),h.segPopoverTile=null,h.segPopover.destroy(),h.segPopover=null}},this.isRtl?g.right=b.computeRect(o).right+1:g.left=b.computeRect(o).left-1,this.segPopover=new k(g),this.segPopover.show(),j.releaseAfterSizingTriggers()},d.prototype.resliceDaySegs=function(a,c){for(var d=c,e=b.addDays(d,1),f={start:d,end:e},g=[],h=0,j=a;h<j.length;h++){var k=j[h],l=k.eventRange,m=l.range,n=b.intersectRanges(m,f);n&&g.push(i({},k,{eventRange:{def:l.def,ui:i({},l.ui,{durationEditable:!1}),instance:l.instance,range:n},isStart:k.isStart&&n.start.valueOf()===m.start.valueOf(),isEnd:k.isEnd&&n.end.valueOf()===m.end.valueOf()}))}return g},d.prototype.getMoreLinkText=function(a){var b=this.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},d.prototype.getCellSegs=function(a,b,c){for(var d,e=this.eventRenderer.rowStructs[a].segMatrix,f=c||0,g=[];f<e.length;)d=e[f][b],d&&g.push(d),f++;return g},d}(b.DateComponent),v=b.createFormatter({week:"numeric"}),w=function(a){function d(c,d,e,f){var g=a.call(this,c,d,e,f)||this;g.renderHeadIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<th class="fc-week-number '+a.getClass("widgetHeader")+'" '+g.weekNumberStyleAttr()+"><span>"+b.htmlEscape(g.opt("weekLabel"))+"</span></th>":""},g.renderDayGridNumberIntroHtml=function(a,c){var d=g.dateEnv,e=c.props.cells[a][0].date;return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+">"+b.buildGotoAnchorHtml(g,{date:e,type:"week",forceOff:1===c.colCnt},d.format(e,v))+"</td>":""},g.renderDayGridBgIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<td class="fc-week-number '+a.getClass("widgetContent")+'" '+g.weekNumberStyleAttr()+"></td>":""},g.renderDayGridIntroHtml=function(){return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+"></td>":""},g.el.classList.add("fc-dayGrid-view"),g.el.innerHTML=g.renderSkeletonHtml(),g.scroller=new b.ScrollComponent("hidden","auto");var h=g.scroller.el;g.el.querySelector(".fc-body > tr > td").appendChild(h),h.classList.add("fc-day-grid-container");var i=b.createElement("div",{className:"fc-day-grid"});h.appendChild(i);var j;return g.opt("weekNumbers")?g.opt("weekNumbersWithinDays")?(j=!0,g.colWeekNumbersVisible=!1):(j=!1,g.colWeekNumbersVisible=!0):(g.colWeekNumbersVisible=!1,j=!1),g.dayGrid=new u(g.context,i,{renderNumberIntroHtml:g.renderDayGridNumberIntroHtml,renderBgIntroHtml:g.renderDayGridBgIntroHtml,renderIntroHtml:g.renderDayGridIntroHtml,colWeekNumbersVisible:g.colWeekNumbersVisible,cellWeekNumbersVisible:j}),g}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.dayGrid.destroy(),this.scroller.destroy()},d.prototype.renderSkeletonHtml=function(){var a=this.theme;return'<table class="'+a.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+a.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+a.getClass("widgetContent")+'"></td></tr></tbody></table>'},d.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},d.prototype.hasRigidRows=function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},d.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.dayGrid.updateSize(b)},d.prototype.updateBaseSize=function(a,c,d){var e,f,g=this.dayGrid,h=this.opt("eventLimit"),i=this.header?this.header.el:null;if(!g.rowEls)return void(d||(e=this.computeScrollerHeight(c),this.scroller.setHeight(e)));this.colWeekNumbersVisible&&(this.weekNumberWidth=b.matchCellWidths(b.findElements(this.el,".fc-week-number"))),this.scroller.clear(),i&&b.uncompensateScroll(i),g.removeSegPopover(),h&&"number"==typeof h&&g.limitRows(h),e=this.computeScrollerHeight(c),this.setGridHeight(e,d),h&&"number"!=typeof h&&g.limitRows(h),d||(this.scroller.setHeight(e),f=this.scroller.getScrollbarWidths(),(f.left||f.right)&&(i&&b.compensateScroll(i,f),e=this.computeScrollerHeight(c),this.scroller.setHeight(e)),this.scroller.lockOverflow(f))},d.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},d.prototype.setGridHeight=function(a,c){this.opt("monthMode")?(c&&(a*=this.dayGrid.rowCnt/6),b.distributeHeight(this.dayGrid.rowEls,a,!c)):c?b.undistributeHeight(this.dayGrid.rowEls):b.distributeHeight(this.dayGrid.rowEls,a,!0)},d.prototype.computeDateScroll=function(a){return{top:0}},d.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},d.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},d}(b.View);w.prototype.dateProfileGeneratorClass=j;var x=function(a){function b(b,c){var d=a.call(this,b,c.el)||this;return d.slicer=new y,d.dayGrid=c,b.calendar.registerInteractiveComponent(d,{el:d.dayGrid.el}),d}return c(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},b.prototype.render=function(a){var b=this.dayGrid,c=a.dateProfile,d=a.dayTable;b.receiveProps(i({},this.slicer.sliceProps(a,c,a.nextDayThreshold,b,d),{dateProfile:c,cells:d.cells,isRigid:a.isRigid}))},b.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},b.prototype.queryHit=function(a,b){var c=this.dayGrid.positionToHit(a,b);if(c)return{component:this.dayGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},b}(b.DateComponent),y=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return c(b,a),b.prototype.sliceRange=function(a,b){return b.sliceRange(a)},b}(b.Slicer),z=function(a){function d(c,d,e,f){var h=a.call(this,c,d,e,f)||this;return h.buildDayTable=b.memoize(g),h.opt("columnHeader")&&(h.header=new b.DayHeader(h.context,h.el.querySelector(".fc-head-container"))),h.simpleDayGrid=new x(h.context,h.dayGrid),h}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},d.prototype.render=function(b){a.prototype.render.call(this,b);var c=this.props.dateProfile,d=this.dayTable=this.buildDayTable(c,this.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:c,dates:d.headerDates,datesRepDistinctDays:1===d.rowCnt,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleDayGrid.receiveProps({dateProfile:c,dayTable:d,businessHours:b.businessHours,dateSelection:b.dateSelection,eventStore:b.eventStore,eventUiBases:b.eventUiBases,eventSelection:b.eventSelection,eventDrag:b.eventDrag,eventResize:b.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},d}(w),A=b.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:z,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});a.AbstractDayGridView=w,a.DayBgRow=r,a.DayGrid=u,a.DayGridSlicer=y,a.DayGridView=z,a.SimpleDayGrid=x,a.buildBasicDayTable=g,a.default=A,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/daygrid"],b):(a=a||self,b(a.FullCalendarTimeGrid={},a.FullCalendar,a.FullCalendarDayGrid))}(this,function(a,b,c){"use strict";function d(a,b){function c(){this.constructor=a}m(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function e(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&h(c,e[d]).length;d++);c.level=d,(e[d]||(e[d]=[])).push(c)}return e}function f(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)h(e,a[f],e.forwardSegs)}function g(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],g(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function h(a,b,c){void 0===c&&(c=[]);for(var d=0;d<b.length;d++)i(a,b[d])&&c.push(b[d]);return c}function i(a,b){return a.bottom>b.top&&a.top<b.bottom}function j(a){var c=b.buildSegCompareObj(a);return c.forwardPressure=a.forwardPressure,c.backwardCoord=a.backwardCoord,c}function k(a,b,c){for(var d=[],e=0,f=a.headerDates;e<f.length;e++){var g=f[e];d.push({start:c.add(g,b.minTime),end:c.add(g,b.maxTime)})}return d}function l(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,!1)}var m=function(a,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},n=function(){return n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},n.apply(this,arguments)},o=function(a){function c(c){var d=a.call(this,c.context)||this;return d.timeGrid=c,d.fullTimeFormat=b.createFormatter({hour:"numeric",minute:"2-digit",separator:d.context.options.defaultRangeSeparator}),d}return d(c,a),c.prototype.attachSegs=function(a,b){for(var c=this.timeGrid.groupSegsByCol(a),d=0;d<c.length;d++)c[d]=this.sortEventSegs(c[d]);this.segsByCol=c,this.timeGrid.attachSegsByCol(c,this.timeGrid.fgContainerEls)},c.prototype.detachSegs=function(a){a.forEach(function(a){b.removeElement(a.el)}),this.segsByCol=null},c.prototype.computeSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.computeSegVerticals(a),d)for(var f=0;f<e;f++)this.computeSegHorizontals(d[f])},c.prototype.assignSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.assignSegVerticals(a),d)for(var f=0;f<e;f++)this.assignSegCss(d[f])},c.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},c.prototype.computeDisplayEventEnd=function(){return!0},c.prototype.renderSegHtml=function(a,c){var d,e,f,g=this.context.view,h=a.eventRange,i=h.def,j=h.ui,k=i.allDay,l=g.computeEventDraggable(i,j),m=a.isStart&&g.computeEventStartResizable(i,j),n=a.isEnd&&g.computeEventEndResizable(i,j),o=this.getSegClasses(a,l,m||n,c),p=b.cssToStr(this.getSkinCss(j));if(o.unshift("fc-time-grid-event"),b.isMultiDayRange(h.range)){if(a.isStart||a.isEnd){var q=a.start,r=a.end;d=this._getTimeText(q,r,k),e=this._getTimeText(q,r,k,this.fullTimeFormat),f=this._getTimeText(q,r,k,null,!1)}}else d=this.getTimeText(h),e=this.getTimeText(h,this.fullTimeFormat),f=this.getTimeText(h,null,!1);return'<a class="'+o.join(" ")+'"'+(i.url?' href="'+b.htmlEscape(i.url)+'"':"")+(p?' style="'+p+'"':"")+'><div class="fc-content">'+(d?'<div class="fc-time" data-start="'+b.htmlEscape(f)+'" data-full="'+b.htmlEscape(e)+'"><span>'+b.htmlEscape(d)+"</span></div>":"")+(i.title?'<div class="fc-title">'+b.htmlEscape(i.title)+"</div>":"")+"</div>"+(n?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},c.prototype.computeSegHorizontals=function(a){var b,c,d;if(b=e(a),f(b),c=b[0]){for(d=0;d<c.length;d++)g(c[d]);for(d=0;d<c.length;d++)this.computeSegForwardBack(c[d],0,0)}},c.prototype.computeSegForwardBack=function(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(this.sortForwardSegs(e),this.computeSegForwardBack(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)this.computeSegForwardBack(e[d],0,a.forwardCoord)},c.prototype.sortForwardSegs=function(a){var c=a.map(j),d=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.view.eventOrderSpecs);return c.sort(function(a,c){return b.compareByFieldSpecs(a,c,d)}),c.map(function(a){return a._seg})},c.prototype.assignSegCss=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.applyStyle(e.el,this.generateSegCss(e)),e.level>0&&e.el.classList.add("fc-time-grid-event-inset"),e.eventRange.def.title&&e.bottom-e.top<30&&e.el.classList.add("fc-short")}},c.prototype.generateSegCss=function(a){var b,c,d=this.context.options.slotEventOverlap,e=a.backwardCoord,f=a.forwardCoord,g=this.timeGrid.generateSegVerticalCss(a),h=this.timeGrid.isRtl;return d&&(f=Math.min(1,e+2*(f-e))),h?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[h?"marginLeft":"marginRight"]=20),g},c}(b.FgEventRenderer),p=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.attachSegs=function(a,b){this.segsByCol=this.timeGrid.groupSegsByCol(a),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=b.sourceSeg},b.prototype.generateSegCss=function(b){var c=a.prototype.generateSegCss.call(this,b),d=this.sourceSeg;if(d&&d.col===b.col){var e=a.prototype.generateSegCss.call(this,d);c.left=e.left,c.right=e.right,c.marginLeft=e.marginLeft,c.marginRight=e.marginRight}return c},b}(o),q=function(a){function b(b){var c=a.call(this,b.context)||this;return c.timeGrid=b,c}return d(b,a),b.prototype.attachSegs=function(a,b){var c,d=this.timeGrid;return"bgEvent"===a?c=d.bgContainerEls:"businessHours"===a?c=d.businessContainerEls:"highlight"===a&&(c=d.highlightContainerEls),d.attachSegsByCol(d.groupSegsByCol(b),c),b.map(function(a){return a.el})},b.prototype.computeSegSizes=function(a){this.timeGrid.computeSegVerticals(a)},b.prototype.assignSegSizes=function(a){this.timeGrid.assignSegVerticals(a)},b}(b.FillRenderer),r=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],s=function(a){function e(c,d,e){var f=a.call(this,c,d)||this;f.isSlatSizesDirty=!1,f.isColSizesDirty=!1,f.renderSlats=b.memoizeRendering(f._renderSlats);var g=f.eventRenderer=new o(f),h=f.fillRenderer=new q(f);f.mirrorRenderer=new p(f);var i=f.renderColumns=b.memoizeRendering(f._renderColumns,f._unrenderColumns);return f.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[i]),f.renderDateSelection=b.memoizeRendering(f._renderDateSelection,f._unrenderDateSelection,[i]),f.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[i]),f.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[i]),f.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[f.renderFgEvents]),f.renderEventDrag=b.memoizeRendering(f._renderEventDrag,f._unrenderEventDrag,[i]),f.renderEventResize=b.memoizeRendering(f._renderEventResize,f._unrenderEventResize,[i]),f.processOptions(),d.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+f.theme.getClass("widgetHeader")+'" style="display:none" />',f.rootBgContainerEl=d.querySelector(".fc-bg"),f.slatContainerEl=d.querySelector(".fc-slats"),f.bottomRuleEl=d.querySelector(".fc-divider"),f.renderProps=e,f}return d(e,a),e.prototype.processOptions=function(){var a,c,d=this.opt("slotDuration"),e=this.opt("snapDuration");d=b.createDuration(d),e=e?b.createDuration(e):d,a=b.wholeDivideDurations(d,e),null===a&&(e=d,a=1),this.slotDuration=d,this.snapDuration=e,this.snapsPerSlot=a,c=this.opt("slotLabelFormat"),Array.isArray(c)&&(c=c[c.length-1]),this.labelFormat=b.createFormatter(c||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),c=this.opt("slotLabelInterval"),this.labelInterval=c?b.createDuration(c):this.computeLabelInterval(d)},e.prototype.computeLabelInterval=function(a){var c,d,e;for(c=r.length-1;c>=0;c--)if(d=b.createDuration(r[c]),null!==(e=b.wholeDivideDurations(d,a))&&e>1)return d;return a},e.prototype.render=function(a){var b=a.cells;this.colCnt=b.length,this.renderSlats(a.dateProfile),this.renderColumns(a.cells,a.dateProfile),this.renderBusinessHours(a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderFgEvents(a.fgEventSegs),this.renderBgEvents(a.bgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender()},e.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(a||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},e.prototype._renderSlats=function(a){var c=this.theme;this.slatContainerEl.innerHTML='<table class="'+c.getClass("tableGrid")+'">'+this.renderSlatRowHtml(a)+"</table>",this.slatEls=b.findElements(this.slatContainerEl,"tr"),this.slatPositions=new b.PositionCache(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(a){for(var c,d,e,f=this,g=f.dateEnv,h=f.theme,i=f.isRtl,j="",k=b.startOfDay(a.renderRange.start),l=a.minTime,m=b.createDuration(0);b.asRoughMs(l)<b.asRoughMs(a.maxTime);)c=g.add(k,l),d=null!==b.wholeDivideDurations(m,this.labelInterval),e='<td class="fc-axis fc-time '+h.getClass("widgetContent")+'">'+(d?"<span>"+b.htmlEscape(g.format(c,this.labelFormat))+"</span>":"")+"</td>",j+='<tr data-time="'+b.formatIsoTimeString(c)+'"'+(d?"":' class="fc-minor"')+">"+(i?"":e)+'<td class="'+h.getClass("widgetContent")+'"></td>'+(i?e:"")+"</tr>",l=b.addDurations(l,this.slotDuration),m=b.addDurations(m,this.slotDuration);return j},e.prototype._renderColumns=function(a,d){var e=this,f=e.theme,g=e.dateEnv,h=e.view,i=new c.DayBgRow(this.context);this.rootBgContainerEl.innerHTML='<table class="'+f.getClass("tableGrid")+'">'+i.renderHtml({cells:a,dateProfile:d,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=b.findElements(this.el,".fc-day, .fc-disabled-day");for(var j=0;j<this.colCnt;j++)this.publiclyTrigger("dayRender",[{date:g.toDate(a[j].date),el:this.colEls[j],view:h}]);this.isRtl&&this.colEls.reverse(),this.colPositions=new b.PositionCache(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var a,c=[];c.push(this.renderProps.renderIntroHtml());for(var d=0;d<this.colCnt;d++)c.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');this.isRtl&&c.reverse(),a=this.contentSkeletonEl=b.htmlToElement('<div class="fc-content-skeleton"><table><tr>'+c.join("")+"</tr></table></div>"),this.colContainerEls=b.findElements(a,".fc-content-col"),this.mirrorContainerEls=b.findElements(a,".fc-mirror-container"),this.fgContainerEls=b.findElements(a,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=b.findElements(a,".fc-bgevent-container"),this.highlightContainerEls=b.findElements(a,".fc-highlight-container"),this.businessContainerEls=b.findElements(a,".fc-business-container"),this.isRtl&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(a)},e.prototype.unrenderContentSkeleton=function(){b.removeElement(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c},e.prototype.attachSegsByCol=function(a,b){var c,d,e;for(c=0;c<this.colCnt;c++)for(d=a[c],e=0;e<d.length;e++)b[c].appendChild(d[e].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(a,c){if(this.colContainerEls){var d,e=this.computeDateTop(c),f=[];for(d=0;d<a.length;d++){var g=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-line"});g.style.top=e+"px",this.colContainerEls[a[d].col].appendChild(g),f.push(g)}if(a.length>0){var h=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow"});h.style.top=e+"px",
this.contentSkeletonEl.appendChild(h),f.push(h)}this.nowIndicatorEls=f}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(b.removeElement),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(a,c){return c||(c=b.startOfDay(a)),this.computeTimeTop(b.createDuration(a.valueOf()-c.valueOf()))},e.prototype.computeTimeTop=function(a){var c,d,e=this.slatEls.length,f=this.props.dateProfile,g=(a.milliseconds-b.asRoughMs(f.minTime))/b.asRoughMs(this.slotDuration);return g=Math.max(0,g),g=Math.min(e,g),c=Math.floor(g),c=Math.min(c,e-1),d=g-c,this.slatPositions.tops[c]+this.slatPositions.getHeight(c)*d},e.prototype.computeSegVerticals=function(a){var b,c,d,e=this.opt("timeGridEventMinHeight");for(b=0;b<a.length;b++)c=a[b],d=this.props.cells[c.col].date,c.top=this.computeDateTop(c.start,d),c.bottom=Math.max(c.top+e,this.computeDateTop(c.end,d))},e.prototype.assignSegVerticals=function(a){var c,d;for(c=0;c<a.length;c++)d=a[c],b.applyStyle(d.el,this.generateSegVerticalCss(d))},e.prototype.generateSegVerticalCss=function(a){return{top:a.top,bottom:-a.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(a,c){var d=this,e=d.dateEnv,f=d.snapsPerSlot,g=d.slatPositions,h=d.colPositions,i=h.leftToIndex(a),j=g.topToIndex(c);if(null!=i&&null!=j){var k=g.tops[j],l=g.getHeight(j),m=(c-k)/l,n=Math.floor(m*f),o=j*f+n,p=this.props.cells[i].date,q=b.addDurations(this.props.dateProfile.minTime,b.multiplyDuration(this.snapDuration,o)),r=e.add(p,q);return{col:i,dateSpan:{range:{start:r,end:e.add(r,this.snapDuration)},allDay:!1},dayEl:this.colEls[i],relativeRect:{left:h.lefts[i],right:h.rights[i],top:k,bottom:k+l}}}},e.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),a.isEvent?this.mirrorRenderer.renderSegs(a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}):this.fillRenderer.renderSegs("highlight",a.segs))},e.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.mirrorRenderer.unrender(a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}),this.fillRenderer.unrender("highlight"))},e.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.mirrorRenderer.renderSegs(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.mirrorRenderer.unrender(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._renderDateSelection=function(a){a&&(this.opt("selectMirror")?this.mirrorRenderer.renderSegs(a,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",a))},e.prototype._unrenderDateSelection=function(a){this.mirrorRenderer.unrender(a,{isSelecting:!0}),this.fillRenderer.unrender("highlight")},e}(b.DateComponent),t=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},c.prototype.getKeysForDateSpan=function(a){return a.allDay?["allDay"]:["timed"]},c.prototype.getKeysForEventDef=function(a){return a.allDay?b.hasBgRendering(a)?["timed","allDay"]:["allDay"]:["timed"]},c}(b.Splitter),u=b.createFormatter({week:"short"}),v=function(a){function e(d,e,f,g){var h=a.call(this,d,e,f,g)||this;h.splitter=new t,h.renderHeadIntroHtml=function(){var a,c=h,d=c.theme,e=c.dateEnv,f=h.props.dateProfile.renderRange,g=b.diffDays(f.start,f.end);return h.opt("weekNumbers")?(a=e.format(f.start,u),'<th class="fc-axis fc-week-number '+d.getClass("widgetHeader")+'" '+h.axisStyleAttr()+">"+b.buildGotoAnchorHtml(h,{date:f.start,type:"week",forceOff:g>1},b.htmlEscape(a))+"</th>"):'<th class="fc-axis '+d.getClass("widgetHeader")+'" '+h.axisStyleAttr()+"></th>"},h.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+h.theme.getClass("widgetContent")+'" '+h.axisStyleAttr()+"></td>"},h.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+h.axisStyleAttr()+"></td>"},h.renderDayGridBgIntroHtml=function(){return'<td class="fc-axis '+h.theme.getClass("widgetContent")+'" '+h.axisStyleAttr()+"><span>"+b.getAllDayHtml(h)+"</span></td>"},h.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+h.axisStyleAttr()+"></td>"},h.el.classList.add("fc-timeGrid-view"),h.el.innerHTML=h.renderSkeletonHtml(),h.scroller=new b.ScrollComponent("hidden","auto");var i=h.scroller.el;h.el.querySelector(".fc-body > tr > td").appendChild(i),i.classList.add("fc-time-grid-container");var j=b.createElement("div",{className:"fc-time-grid"});if(i.appendChild(j),h.timeGrid=new s(h.context,j,{renderBgIntroHtml:h.renderTimeGridBgIntroHtml,renderIntroHtml:h.renderTimeGridIntroHtml}),h.opt("allDaySlot")){h.dayGrid=new c.DayGrid(h.context,h.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:h.renderDayGridIntroHtml,renderBgIntroHtml:h.renderDayGridBgIntroHtml,renderIntroHtml:h.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var k=h.el.querySelector(".fc-divider");h.dayGrid.bottomCoordPadding=k.getBoundingClientRect().height}return h}return d(e,a),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var a=this.theme;return'<table class="'+a.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+a.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+a.getClass("widgetContent")+'">'+(this.opt("allDaySlot")?'<div class="fc-day-grid"></div><hr class="fc-divider '+a.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.timeGrid.updateSize(b),this.dayGrid&&this.dayGrid.updateSize(b)},e.prototype.updateBaseSize=function(a,c,d){var e,f,g,h=this;if(this.axisWidth=b.matchCellWidths(b.findElements(this.el,".fc-axis")),!this.timeGrid.colEls)return void(d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f)));var i=b.findElements(this.el,".fc-row").filter(function(a){return!h.scroller.el.contains(a)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),i.forEach(b.uncompensateScroll),this.dayGrid&&(this.dayGrid.removeSegPopover(),e=this.opt("eventLimit"),e&&"number"!=typeof e&&(e=5),e&&this.dayGrid.limitRows(e)),d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f),g=this.scroller.getScrollbarWidths(),(g.left||g.right)&&(i.forEach(function(a){b.compensateScroll(a,g)}),f=this.computeScrollerHeight(c),this.scroller.setHeight(f)),this.scroller.lockOverflow(g),this.timeGrid.getTotalSlatHeight()<f&&(this.timeGrid.bottomRuleEl.style.display=""))},e.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(a){var b=this.timeGrid.computeTimeTop(a);return b=Math.ceil(b),b&&b++,{top:b}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(b.View);v.prototype.usesMinMaxTime=!0;var w=function(a){function c(c,d){var e=a.call(this,c,d.el)||this;return e.buildDayRanges=b.memoize(k),e.slicer=new x,e.timeGrid=d,c.calendar.registerInteractiveComponent(e,{el:e.timeGrid.el}),e}return d(c,a),c.prototype.destroy=function(){a.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},c.prototype.render=function(a){var b=a.dateProfile,c=a.dayTable,d=this.dayRanges=this.buildDayRanges(c,b,this.dateEnv);this.timeGrid.receiveProps(n({},this.slicer.sliceProps(a,b,null,this.timeGrid,d),{dateProfile:b,cells:c.cells[0]}))},c.prototype.renderNowIndicator=function(a){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(a,this.timeGrid,this.dayRanges),a)},c.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},c.prototype.queryHit=function(a,b){var c=this.timeGrid.positionToHit(a,b);if(c)return{component:this.timeGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},c}(b.DateComponent),x=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.sliceRange=function(a,c){for(var d=[],e=0;e<c.length;e++){var f=b.intersectRanges(a,c[e]);f&&d.push({start:f.start,end:f.end,isStart:f.start.valueOf()===a.start.valueOf(),isEnd:f.end.valueOf()===a.end.valueOf(),col:e})}return d},c}(b.Slicer),y=function(a){function e(d,e,f,g){var h=a.call(this,d,e,f,g)||this;return h.buildDayTable=b.memoize(l),h.opt("columnHeader")&&(h.header=new b.DayHeader(h.context,h.el.querySelector(".fc-head-container"))),h.simpleTimeGrid=new w(h.context,h.timeGrid),h.dayGrid&&(h.simpleDayGrid=new c.SimpleDayGrid(h.context,h.dayGrid)),h}return d(e,a),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.render=function(b){a.prototype.render.call(this,b);var c=this.props.dateProfile,d=this.buildDayTable(c,this.dateProfileGenerator),e=this.splitter.splitProps(b);this.header&&this.header.receiveProps({dateProfile:c,dates:d.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleTimeGrid.receiveProps(n({},e.timed,{dateProfile:c,dayTable:d})),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(n({},e.allDay,{dateProfile:c,dayTable:d,nextDayThreshold:this.nextDayThreshold,isRigid:!1}))},e.prototype.renderNowIndicator=function(a){this.simpleTimeGrid.renderNowIndicator(a)},e}(v),z=b.createPlugin({defaultView:"timeGridWeek",views:{timeGrid:{class:y,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});a.AbstractTimeGridView=v,a.TimeGrid=s,a.TimeGridSlicer=x,a.TimeGridView=y,a.buildDayRanges=k,a.buildDayTable=l,a.default=z,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarList={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}e(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a){for(var c=b.startOfDay(a.renderRange.start),d=a.renderRange.end,e=[],f=[];c<d;)e.push(c),f.push({start:c,end:b.addDays(c,1)}),c=b.addDays(c,1);return{dayDates:e,dayRanges:f}}var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},f=function(a){function d(b){var c=a.call(this,b.context)||this;return c.listView=b,c}return c(d,a),d.prototype.attachSegs=function(a){a.length?this.listView.renderSegList(a):this.listView.renderEmptyMessage()},d.prototype.detachSegs=function(){},d.prototype.renderSegHtml=function(a){var c,d=this.context,e=d.view,f=d.theme,g=a.eventRange,h=g.def,i=g.instance,j=g.ui,k=h.url,l=["fc-list-item"].concat(j.classNames),m=j.backgroundColor;return c=h.allDay?b.getAllDayHtml(e):b.isMultiDayRange(g.range)?a.isStart?b.htmlEscape(this._getTimeText(i.range.start,a.end,!1)):a.isEnd?b.htmlEscape(this._getTimeText(a.start,i.range.end,!1)):b.getAllDayHtml(e):b.htmlEscape(this.getTimeText(g)),k&&l.push("fc-has-url"),'<tr class="'+l.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+f.getClass("widgetContent")+'">'+(c||"")+"</td>":"")+'<td class="fc-list-item-marker '+f.getClass("widgetContent")+'"><span class="fc-event-dot"'+(m?' style="background-color:'+m+'"':"")+'></span></td><td class="fc-list-item-title '+f.getClass("widgetContent")+'"><a'+(k?' href="'+b.htmlEscape(k)+'"':"")+">"+b.htmlEscape(h.title||"")+"</a></td></tr>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:"short"}},d}(b.FgEventRenderer),g=function(a){function e(c,e,g,h){var i=a.call(this,c,e,g,h)||this;i.computeDateVars=b.memoize(d),i.eventStoreToSegs=b.memoize(i._eventStoreToSegs);var j=i.eventRenderer=new f(i);i.renderContent=b.memoizeRendering(j.renderSegs.bind(j),j.unrender.bind(j)),i.el.classList.add("fc-list-view");for(var k=(i.theme.getClass("listView")||"").split(" "),l=0,m=k;l<m.length;l++){var n=m[l];n&&i.el.classList.add(n)}return i.scroller=new b.ScrollComponent("hidden","auto"),i.el.appendChild(i.scroller.el),i.contentEl=i.scroller.el,c.calendar.registerInteractiveComponent(i,{el:i.el}),i}return c(e,a),e.prototype.render=function(a){var b=this.computeDateVars(a.dateProfile),c=b.dayDates,d=b.dayRanges;this.dayDates=c,this.renderContent(this.eventStoreToSegs(a.eventStore,a.eventUiBases,d))},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderContent.unrender(),this.scroller.destroy(),this.calendar.unregisterInteractiveComponent(this)},e.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.eventRenderer.computeSizes(b),this.eventRenderer.assignSizes(b),this.scroller.clear(),d||this.scroller.setHeight(this.computeScrollerHeight(c))},e.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype._eventStoreToSegs=function(a,c,d){return this.eventRangesToSegs(b.sliceEventStore(a,c,this.props.dateProfile.activeRange,this.nextDayThreshold).fg,d)},e.prototype.eventRangesToSegs=function(a,b){for(var c=[],d=0,e=a;d<e.length;d++){var f=e[d];c.push.apply(c,this.eventRangeToSegs(f,b))}return c},e.prototype.eventRangeToSegs=function(a,c){var d,e,f,g=this,h=g.dateEnv,i=g.nextDayThreshold,j=a.range,k=a.def.allDay,l=[];for(d=0;d<c.length;d++)if((e=b.intersectRanges(j,c[d]))&&(f={component:this,eventRange:a,start:e.start,end:e.end,isStart:a.isStart&&e.start.valueOf()===j.start.valueOf(),isEnd:a.isEnd&&e.end.valueOf()===j.end.valueOf(),dayIndex:d},l.push(f),!f.isEnd&&!k&&d+1<c.length&&j.end<h.add(c[d+1].start,i))){f.end=j.end,f.isEnd=!0;break}return l},e.prototype.renderEmptyMessage=function(){this.contentEl.innerHTML='<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+b.htmlEscape(this.opt("noEventsMessage"))+"</div></div></div>"},e.prototype.renderSegList=function(a){var c,d,e,f=this.groupSegsByDay(a),g=b.htmlToElement('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody></tbody></table>'),h=g.querySelector("tbody");for(c=0;c<f.length;c++)if(d=f[c])for(h.appendChild(this.buildDayHeaderRow(this.dayDates[c])),d=this.eventRenderer.sortEventSegs(d),e=0;e<d.length;e++)h.appendChild(d[e].el);this.contentEl.innerHTML="",this.contentEl.appendChild(g)},e.prototype.groupSegsByDay=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],(d[c.dayIndex]||(d[c.dayIndex]=[])).push(c);return d},e.prototype.buildDayHeaderRow=function(a){var c=this.dateEnv,d=b.createFormatter(this.opt("listDayFormat")),e=b.createFormatter(this.opt("listDayAltFormat"));return b.createElement("tr",{className:"fc-list-heading","data-date":c.formatIso(a,{omitTime:!0})},'<td class="'+(this.calendar.theme.getClass("tableListHeading")||this.calendar.theme.getClass("widgetHeader"))+'" colspan="3">'+(d?b.buildGotoAnchorHtml(this,a,{class:"fc-list-heading-main"},b.htmlEscape(c.format(a,d))):"")+(e?b.buildGotoAnchorHtml(this,a,{class:"fc-list-heading-alt"},b.htmlEscape(c.format(a,e))):"")+"</td>")},e}(b.View);g.prototype.fgSegSelector=".fc-list-item";var h=b.createPlugin({views:{list:{class:g,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDayAltFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDayAltFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDayAltFormat:{weekday:"long"}}}});a.ListView=g,a.default=h,Object.defineProperty(a,"__esModule",{value:!0})}),function(){"use strict";function a(a,b){var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a}function b(a){if(!this||this.find!==b.prototype.find)return new b(a);if(this.length=0,a)if("string"==typeof a&&(a=this.find(a)),a.nodeType||a===a.window)this.length=1,this[0]=a;else{var c=a.length;for(this.length=c;c;)c-=1,this[c]=a[c]}}b.extend=a,b.contains=function(a,b){do{if((b=b.parentNode)===a)return!0}while(b);return!1},b.parseJSON=function(a){return window.JSON&&JSON.parse(a)},a(b.prototype,{find:function(a){var c=this[0]||document;return"string"==typeof a&&(a=c.querySelectorAll?c.querySelectorAll(a):"#"===a.charAt(0)?c.getElementById(a.slice(1)):c.getElementsByTagName(a)),new b(a)},hasClass:function(a){return!!this[0]&&new RegExp("(^|\\s+)"+a+"(\\s+|$)").test(this[0].className)},addClass:function(a){for(var b,c=this.length;c;){if(c-=1,b=this[c],!b.className)return b.className=a,this;if(this.hasClass(a))return this;b.className+=" "+a}return this},removeClass:function(a){for(var b,c=new RegExp("(^|\\s+)"+a+"(\\s+|$)"),d=this.length;d;)d-=1,b=this[d],b.className=b.className.replace(c," ");return this},on:function(a,b){for(var c,d,e=a.split(/\s+/);e.length;)for(a=e.shift(),c=this.length;c;)c-=1,d=this[c],d.addEventListener?d.addEventListener(a,b,!1):d.attachEvent&&d.attachEvent("on"+a,b);return this},off:function(a,b){for(var c,d,e=a.split(/\s+/);e.length;)for(a=e.shift(),c=this.length;c;)c-=1,d=this[c],d.removeEventListener?d.removeEventListener(a,b,!1):d.detachEvent&&d.detachEvent("on"+a,b);return this},empty:function(){for(var a,b=this.length;b;)for(b-=1,a=this[b];a.hasChildNodes();)a.removeChild(a.lastChild);return this},first:function(){return new b(this[0])}}),"function"==typeof define&&define.amd?define(function(){return b}):(window.blueimp=window.blueimp||{},window.blueimp.helper=b)}(),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],a):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery))}(function(a){"use strict";function b(a,c){return void 0===document.body.style.maxHeight?null:this&&this.options===b.prototype.options?a&&a.length?(this.list=a,this.num=a.length,this.initOptions(c),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",a):new b(a,c)}return a.extend(b.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",altTextProperty:"alt",urlProperty:"href",srcsetProperty:"urlset",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,slideshowDirection:"ltr",index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(b){function c(){var a,c,d=e.transition;document.body.appendChild(b),d&&(a=d.name.slice(0,-9)+"ransform",void 0!==b.style[a]&&(b.style[a]="translateZ(0)",c=window.getComputedStyle(b).getPropertyValue(d.prefix+"transform"),e.transform={prefix:d.prefix,name:a,translate:!0,translateZ:!!c&&"none"!==c})),void 0!==b.style.backgroundSize&&(e.backgroundSize={},b.style.backgroundSize="contain",e.backgroundSize.contain="contain"===window.getComputedStyle(b).getPropertyValue("background-size"),b.style.backgroundSize="cover",e.backgroundSize.cover="cover"===window.getComputedStyle(b).getPropertyValue("background-size")),document.body.removeChild(b)}var d,e={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},f={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&void 0!==b.style[d]){e.transition=f[d],e.transition.name=d;break}return document.body?c():a(document).on("DOMContentLoaded",c),e}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,initialize:function(){if(this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(a,b){window.clearTimeout(this.timeout);var c,d,e,f=this.index;if(f!==a&&1!==this.num){if(b||(b=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(a=this.circle(a)),c=Math.abs(f-a)/(f-a),this.options.continuous&&(d=c,(c=-this.positions[this.circle(a)]/this.slideWidth)!==d&&(a=-c*this.num+a)),e=Math.abs(f-a)-1;e;)e-=1,this.move(this.circle((a>f?a:f)-e-1),this.slideWidth*c,0);a=this.circle(a),this.move(f,this.slideWidth*c,b),this.move(a,0,b),this.options.continuous&&this.move(this.circle(a-c),-this.slideWidth*c,0)}else a=this.circle(a),this.animate(f*-this.slideWidth,a*-this.slideWidth,b);this.onslide(a)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var b=this,c=this.index+("rtl"===this.options.slideshowDirection?-1:1);window.clearTimeout(this.timeout),this.interval=a||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,c){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(a,c)})},[c,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.cancelAnimationFrame&&(this.cancelAnimationFrame.call(window,this.animationFrameId),this.animationFrameId=null),this.container.removeClass(this.options.playingClass)},add:function(a){var b;for(a.concat||(a=Array.prototype.slice.call(a)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(a),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),b=this.num-a.length;b<this.num;b+=1)this.addSlide(b),this.positionSlide(b);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var a=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass),a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){function a(c){c.target===b.container[0]&&(b.container.off(b.support.transition.end,a),b.handleClose())}var b=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,a),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,b,c){this.translateX(a,b,c),this.positions[a]=b},translate:function(a,b,c,d){if(this.slides[a]){var e=this.slides[a].style,f=this.support.transition,g=this.support.transform;e[f.name+"Duration"]=d+"ms",e[g.name]="translate("+b+"px, "+c+"px)"+(g.translateZ?" translateZ(0)":"")}},translateX:function(a,b,c){this.translate(a,b,0,c)},translateY:function(a,b,c){this.translate(a,0,b,c)},animate:function(a,b,c){if(!c)return void(this.slidesContainer[0].style.left=b+"px");var d=this,e=(new Date).getTime(),f=window.setInterval(function(){var g=(new Date).getTime()-e;if(g>c)return d.slidesContainer[0].style.left=b+"px",d.ontransitionend(),void window.clearInterval(f);d.slidesContainer[0].style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px"},4)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&1===a.which&&"VIDEO"!==a.target.nodeName&&"AUDIO"!==a.target.nodeName&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchmove(a))},onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(b){if(this.touchStart){var c=b.target,d=b.relatedTarget;d&&(d===c||a.contains(c,d))||this.onmouseup(b)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b=(a.originalEvent||a).touches[0];this.touchStart={x:b.pageX,y:b.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b,c,d=(a.originalEvent||a).touches[0],e=(a.originalEvent||a).scale,f=this.index;if(!(d.length>1||e&&1!==e))if(this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:d.pageX-this.touchStart.x,y:d.pageY-this.touchStart.y},b=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(b)<Math.abs(this.touchDelta.y)),this.isScrolling)this.translateY(f,this.touchDelta.y+this.positions[f],0);else for(a.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?c=[this.circle(f+1),f,this.circle(f-1)]:(this.touchDelta.x=b/=!f&&b>0||f===this.num-1&&b<0?Math.abs(b)/this.slideWidth+1:1,c=[f],f&&c.push(f-1),f<this.num-1&&c.unshift(f+1));c.length;)f=c.pop(),this.translateX(f,b+this.positions[f],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b,c,d,e,f,g=this.index,h=this.options.transitionSpeed,i=this.slideWidth,j=Number(Date.now()-this.touchStart.time)<250,k=j&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>i/2,l=!g&&this.touchDelta.x>0||g===this.num-1&&this.touchDelta.x<0,m=!k&&this.options.closeOnSwipeUpOrDown&&(j&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(l=!1),b=this.touchDelta.x<0?-1:1,this.isScrolling?m?this.close():this.translateY(g,0,h):k&&!l?(c=g+b,d=g-b,e=i*b,f=-i*b,this.options.continuous?(this.move(this.circle(c),e,0),this.move(this.circle(g-2*b),f,0)):c>=0&&c<this.num&&this.move(c,e,0),this.move(g,this.positions[g]+e,h),this.move(this.circle(d),this.positions[this.circle(d)]+e,h),g=this.circle(d),this.onslide(g)):this.options.continuous?(this.move(this.circle(g-1),-i,h),this.move(g,0,h),this.move(this.circle(g+1),i,h)):(g&&this.move(g-1,-i,h),this.move(g,0,h),g<this.num-1&&this.move(g+1,i,h))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var b=this.slides[this.index];a&&b!==a.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,b]))},oncomplete:function(b){var c,d=b.target||b.srcElement,e=d&&d.parentNode;d&&e&&(c=this.getNodeIndex(e),a(e).removeClass(this.options.slideLoadingClass),"error"===b.type?(a(e).addClass(this.options.slideErrorClass),this.elements[c]=3):this.elements[c]=2,d.clientHeight>this.container[0].clientHeight&&(d.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===e&&this.play(),this.setTimeout(this.options.onslidecomplete,[c,e]))},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),a.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.next())}},handleClick:function(b){function c(b){return a(e).hasClass(b)||a(f).hasClass(b)}var d=this.options,e=b.target||b.srcElement,f=e.parentNode;c(d.toggleClass)?(this.preventDefault(b),this.toggleControls()):c(d.prevClass)?(this.preventDefault(b),this.prev()):c(d.nextClass)?(this.preventDefault(b),this.next()):c(d.closeClass)?(this.preventDefault(b),this.close()):c(d.playPauseClass)?(this.preventDefault(b),this.toggleSlideshow()):f===this.slidesContainer[0]?d.closeOnSlideClick?(this.preventDefault(b),this.close()):d.toggleControlsOnSlideClick&&(this.preventDefault(b),this.toggleControls()):f.parentNode&&f.parentNode===this.slidesContainer[0]&&d.toggleControlsOnSlideClick&&(this.preventDefault(b),this.toggleControls())},onclick:function(a){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),a===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a),this.loadElements(a),this.options.unloadElements&&this.unloadElements(a),this.setTitle(a)},onslide:function(a){this.index=a,this.handleSlide(a),this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){
var b=this.slides[a].firstChild,c=b.title||b.alt,d=this.titleElement;d.length&&(this.titleElement.empty(),c&&d[0].appendChild(document.createTextNode(c)))},setTimeout:function(a,b,c){var d=this;return a&&window.setTimeout(function(){a.apply(d,b||[])},c||0)},imageFactory:function(b,c){function d(b){if(!e){if(b={type:b.type,target:f},!f.parentNode)return i.setTimeout(d,[b]);e=!0,a(j).off("load error",d),l&&"load"===b.type&&(f.style.background='url("'+k+'") center no-repeat',f.style.backgroundSize=l),c(b)}}var e,f,g,h,i=this,j=this.imagePrototype.cloneNode(!1),k=b,l=this.options.stretchImages;return"string"!=typeof k&&(k=this.getItemProperty(b,this.options.urlProperty),g=this.getItemProperty(b,this.options.titleProperty),h=this.getItemProperty(b,this.options.altTextProperty)||g),!0===l&&(l="contain"),l=this.support.backgroundSize&&this.support.backgroundSize[l]&&l,l?f=this.elementPrototype.cloneNode(!1):(f=j,j.draggable=!1),g&&(f.title=g),h&&(f.alt=h),a(j).on("load error",d),j.src=k,f},createElement:function(b,c){var d=b&&this.getItemProperty(b,this.options.typeProperty),e=d&&this[d.split("/")[0]+"Factory"]||this.imageFactory,f=b&&e.call(this,b,c),g=this.getItemProperty(b,this.options.srcsetProperty);return f||(f=this.elementPrototype.cloneNode(!1),this.setTimeout(c,[{type:"error",target:f}])),g&&f.setAttribute("srcset",g),a(f).addClass(this.options.slideContentClass),f},loadElement:function(b){this.elements[b]||(this.slides[b].firstChild?this.elements[b]=a(this.slides[b]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[b]=1,a(this.slides[b]).addClass(this.options.slideLoadingClass),this.slides[b].appendChild(this.createElement(this.list[b],this.proxyListener))))},loadElements:function(a){var b,c=Math.min(this.num,2*this.options.preloadRange+1),d=a;for(b=0;b<c;b+=1)d+=b*(b%2==0?-1:1),d=this.circle(d),this.loadElement(d)},unloadElements:function(a){var b,c;for(b in this.elements)Object.prototype.hasOwnProperty.call(this.elements,b)&&(c=Math.abs(a-b))>this.options.preloadRange&&c+this.options.preloadRange<this.num&&(this.unloadSlide(b),delete this.elements[b])},addSlide:function(a){var b=this.slidePrototype.cloneNode(!1);b.setAttribute("data-index",a),this.slidesContainer[0].appendChild(b),this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];b.style.width=this.slideWidth+"px",this.support.transform&&(b.style.left=a*-this.slideWidth+"px",this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(b){var c,d;for(b||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),a(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,c=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].clientWidth,this.slideHeight=this.container[0].clientHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",c&&this.resetSlides(),d=0;d<this.num;d+=1)c&&this.addSlide(d),this.positionSlide(d);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(a){var b,c;b=this.slides[a],null!==(c=b.firstChild)&&b.removeChild(c)},unloadAllSlides:function(){var a,b;for(a=0,b=this.slides.length;a<b;a++)this.unloadSlide(a)},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){return b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(b,c,d,e,f){var g=f||c||d||e&&parseInt(e,10);b&&a&&(a=a[g])}),a},getDataProperty:function(b,c){var d,e;if(b.dataset?(d=c.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}),e=b.dataset[d]):b.getAttribute&&(e=b.getAttribute("data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase())),"string"==typeof e){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(e))try{return a.parseJSON(e)}catch(a){}return e}},getItemProperty:function(a,b){var c=this.getDataProperty(a,b);return void 0===c&&(c=a[b]),void 0===c&&(c=this.getNestedProperty(a,b)),c},initStartIndex:function(){var a,b=this.options.index,c=this.options.urlProperty;if(b&&"number"!=typeof b)for(a=0;a<this.num;a+=1)if(this.list[a]===b||this.getItemProperty(this.list[a],c)===this.getItemProperty(b,c)){b=a;break}this.index=this.circle(parseInt(b,10)||0)},initEventListeners:function(){function b(a){var b=c.support.transition&&c.support.transition.end===a.type?"transitionend":a.type;c["on"+b](a)}var c=this,d=this.slidesContainer;a(window).on("resize",b),a(document.body).on("keydown",b),this.container.on("click",b),this.support.touch?d.on("touchstart touchmove touchend touchcancel",b):this.options.emulateTouchEvents&&this.support.transition&&d.on("mousedown mousemove mouseup mouseout",b),this.support.transition&&d.on(this.support.transition.end,b),this.proxyListener=b},destroyEventListeners:function(){var b=this.slidesContainer,c=this.proxyListener;a(window).off("resize",c),a(document.body).off("keydown",c),this.container.off("click",c),this.support.touch?b.off("touchstart touchmove touchend touchcancel",c):this.options.emulateTouchEvents&&this.support.transition&&b.off("mousedown mousemove mouseup mouseout",c),this.support.transition&&b.off(this.support.transition.end,c)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){function b(a){a.target===c.container[0]&&(c.container.off(c.support.transition.end,b),c.handleOpen())}var c=this;return this.container=a(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,b):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(b){this.options=a.extend({},this.options),(b&&b.carousel||this.options.carousel&&(!b||!1!==b.carousel))&&a.extend(this.options,this.carouselOptions),a.extend(this.options,b),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{fullScreen:!1});var c=b.prototype.initialize,d=b.prototype.close;return a.extend(b.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){c.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),d.call(this)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var c=b.prototype.initSlides,d=b.prototype.addSlide,e=b.prototype.resetSlides,f=b.prototype.handleClick,g=b.prototype.handleSlide,h=b.prototype.handleClose;return a.extend(b.prototype,{createIndicator:function(b){var c,d,e=this.indicatorPrototype.cloneNode(!1),f=this.getItemProperty(b,this.options.titleProperty),g=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(g&&(c=this.getItemProperty(b,g)),void 0===c&&(d=b.getElementsByTagName&&a(b).find("img")[0])&&(c=d.src),c&&(e.style.backgroundImage='url("'+c+'")')),f&&(e.title=f),e},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a),this.indicatorContainer[0].appendChild(b),this.indicators.push(b)}},setActiveIndicator:function(b){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[b]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(a){a||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),c.call(this,a)},addSlide:function(a){d.call(this,a),this.addIndicator(a)},resetSlides:function(){e.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else{if(c.parentNode!==this.indicatorContainer[0])return f.call(this,a);this.preventDefault(a),this.slide(this.getNodeIndex(c))}},handleSlide:function(a){g.call(this,a),this.setActiveIndicator(a)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),h.call(this)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var c=b.prototype.handleSlide;return a.extend(b.prototype,{handleSlide:function(a){c.call(this,a),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(b,c,d){var e,f,g,h,i,j=this,k=this.options,l=this.elementPrototype.cloneNode(!1),m=a(l),n=[{type:"error",target:l}],o=d||document.createElement("video"),p=this.getItemProperty(b,k.urlProperty),q=this.getItemProperty(b,k.typeProperty),r=this.getItemProperty(b,k.titleProperty),s=this.getItemProperty(b,this.options.altTextProperty)||r,t=this.getItemProperty(b,k.videoPosterProperty),u=this.getItemProperty(b,k.videoSourcesProperty);if(m.addClass(k.videoContentClass),r&&(l.title=r),o.canPlayType)if(p&&q&&o.canPlayType(q))o.src=p;else if(u)for(;u.length;)if(f=u.shift(),p=this.getItemProperty(f,k.urlProperty),q=this.getItemProperty(f,k.typeProperty),p&&q&&o.canPlayType(q)){o.src=p;break}return t&&(o.poster=t,e=this.imagePrototype.cloneNode(!1),a(e).addClass(k.toggleClass),e.src=t,e.draggable=!1,e.alt=s,l.appendChild(e)),g=document.createElement("a"),g.setAttribute("target","_blank"),d||g.setAttribute("download",r),g.href=p,o.src&&(o.controls=!0,(d||a(o)).on("error",function(){j.setTimeout(c,n)}).on("pause",function(){o.seeking||(h=!1,m.removeClass(j.options.videoLoadingClass).removeClass(j.options.videoPlayingClass),i&&j.container.addClass(j.options.controlsClass),delete j.playingVideo,j.interval&&j.play())}).on("playing",function(){h=!1,m.removeClass(j.options.videoLoadingClass).addClass(j.options.videoPlayingClass),j.container.hasClass(j.options.controlsClass)?(i=!0,j.container.removeClass(j.options.controlsClass)):i=!1}).on("play",function(){window.clearTimeout(j.timeout),h=!0,m.addClass(j.options.videoLoadingClass),j.playingVideo=o}),a(g).on("click",function(a){j.preventDefault(a),h?o.pause():o.play()}),l.appendChild(d&&d.element||o)),l.appendChild(g),this.setTimeout(c,[{type:"load",target:l}]),l}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c,d){this.url=a,this.videoId=b,this.playerId=c,this.clickToPlay=d,this.element=document.createElement("div"),this.listeners={}},e=0;return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){function b(){!d&&e.playOnReady&&e.play(),d=!0}for(var c,d,e=this,f="//f.vimeocdn.com/js/froogaloop2.min.js",g=document.getElementsByTagName("script"),h=g.length;h;)if(h-=1,g[h].src===f){c=g[h];break}c||(c=document.createElement("script"),c.src=f),a(c).on("load",b),g[0].parentNode.insertBefore(c,g[0]),/loaded|complete/.test(c.readyState)&&b()},onReady:function(){var a=this;this.ready=!0,this.player.addEvent("play",function(){a.hasPlayed=!0,a.onPlaying()}),this.player.addEvent("pause",function(){a.onPause()}),this.player.addEvent("finish",function(){a.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),a.id=this.playerId,this.element.parentNode.replaceChild(a,this.element),this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{VimeoPlayer:d,textFactory:function(a,b){var f=this.options,g=this.getItemProperty(a,f.vimeoVideoIdProperty);return g?(void 0===this.getItemProperty(a,f.urlProperty)&&(a[f.urlProperty]="//vimeo.com/"+g),e+=1,this.videoFactory(a,b,new d(f.vimeoPlayerUrl,g,f.vimeoPlayerIdPrefix+e,f.vimeoClickToPlay))):c.call(this,a,b)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c){this.videoId=a,this.playerVars=b,this.clickToPlay=c,this.element=document.createElement("div"),this.listeners={}};return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var a,b=this,c=window.onYouTubeIframeAPIReady,d="//www.youtube.com/iframe_api",e=document.getElementsByTagName("script"),f=e.length;for(window.onYouTubeIframeAPIReady=function(){c&&c.apply(this),b.playOnReady&&b.play()};f;)if(f-=1,e[f].src===d)return;a=document.createElement("script"),a.src=d,e[0].parentNode.insertBefore(a,e[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){b.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},onError:function(b){a.onError(b)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{YouTubePlayer:d,textFactory:function(a,b){var e=this.options,f=this.getItemProperty(a,e.youTubeVideoIdProperty);return f?(void 0===this.getItemProperty(a,e.urlProperty)&&(a[e.urlProperty]="//www.youtube.com/watch?v="+f),void 0===this.getItemProperty(a,e.videoPosterProperty)&&(a[e.videoPosterProperty]="//img.youtube.com/vi/"+f+"/maxresdefault.jpg"),this.videoFactory(a,b,new d(f,e.youTubePlayerVars,e.youTubeClickToPlay))):c.call(this,a,b)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],a):a(window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a(document).on("click","[data-gallery]",function(c){var d=a(this).data("gallery"),e=a(d),f=e.length&&e||a(b.prototype.options.container),g={onopen:function(){f.data("gallery",this).trigger("open")},onopened:function(){f.trigger("opened")},onslide:function(){f.trigger("slide",arguments)},onslideend:function(){f.trigger("slideend",arguments)},onslidecomplete:function(){f.trigger("slidecomplete",arguments)},onclose:function(){f.trigger("close")},onclosed:function(){f.trigger("closed").removeData("gallery")}},h=a.extend(f.data(),{container:f[0],index:this,event:c},g),i=a(this).closest("[data-gallery-group], body").find('[data-gallery="'+d+'"]');return h.filter&&(i=i.filter(h.filter)),new b(i,h)})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&&!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&&(h&&h.exports!==b&&h.exports!==r[a]?r[a]=h.exports:m===b&&v||(r[a]=m))}else a&&(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(b,a,c,d):setTimeout(function(){n(b,a,c,d)},4),o},o.config=function(a){return o(a)},a._defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=0;j<f.length;j++){var k=f[j];d.prototype[k]=function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}}(k)}return d};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c.__cache={};var e=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null==b&&(a.id?(b=a.id,a.setAttribute("data-select2-id",b)):(a.setAttribute("data-select2-id",++e),b=e.toString())),b},c.StoreData=function(a,b,d){var e=c.GetUniqueElementId(a);c.__cache[e]||(c.__cache[e]={}),c.__cache[e][b]=d},c.GetData=function(b,d){var e=c.GetUniqueElementId(b);return d?c.__cache[e]&&null!=c.__cache[e][d]?c.__cache[e][d]:a(b).data(d):c.__cache[e]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.__cache[b]&&delete c.__cache[b],a.removeAttribute("data-select2-id")},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current(function(d){var e=a.map(d,function(a){return a.id.toString()});c.$results.find(".select2-results__option[aria-selected]").each(function(){var c=a(this),d=b.GetData(this,"data"),f=""+d.id;null!=d.element&&d.element.selected||null==d.element&&a.inArray(f,e)>-1?c.attr("aria-selected","true"):c.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.className="select2-results__option";var e={role:"option","aria-selected":"false"},f=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(null!=c.element&&f.call(c.element,":disabled")||null==c.element&&c.disabled)&&(delete e["aria-selected"],e["aria-disabled"]="true"),null==c.id&&delete e["aria-selected"],null!=c._resultId&&(d.id=c._resultId),c.title&&(d.title=c.title),c.children&&(e.role="group",e["aria-label"]=c.text,delete e["aria-selected"]);for(var g in e){var h=e[g];d.setAttribute(g,h)}if(c.children){var i=a(d),j=document.createElement("strong");j.className="select2-results__group";a(j);this.template(c,j);for(var k=[],l=0;l<c.children.length;l++){var m=c.children[l],n=this.option(m);k.push(n)}var o=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});o.append(k),i.append(j),i.append(o)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var e=this,f=c.id+"-results";this.$results.attr("id",f),c.on("results:all",function(a){e.clear(),e.append(a.data),c.isOpen()&&(e.setClasses(),e.highlightFirstItem())}),c.on("results:append",function(a){e.append(a.data),c.isOpen()&&e.setClasses()}),c.on("query",function(a){e.hideMessages(),e.showLoading(a)}),c.on("select",function(){c.isOpen()&&(e.setClasses(),e.options.get("scrollAfterSelect")&&e.highlightFirstItem())}),c.on("unselect",function(){c.isOpen()&&(e.setClasses(),e.options.get("scrollAfterSelect")&&e.highlightFirstItem())}),c.on("open",function(){e.$results.attr("aria-expanded","true"),e.$results.attr("aria-hidden","false"),e.setClasses(),e.ensureHighlightVisible()}),c.on("close",function(){e.$results.attr("aria-expanded","false"),e.$results.attr("aria-hidden","true"),e.$results.removeAttr("aria-activedescendant")}),c.on("results:toggle",function(){var a=e.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),c.on("results:select",function(){var a=e.getHighlightedResults();if(0!==a.length){var c=b.GetData(a[0],"data");"true"==a.attr("aria-selected")?e.trigger("close",{}):e.trigger("select",{data:c})}}),c.on("results:previous",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a);if(!(c<=0)){var d=c-1;0===a.length&&(d=0);var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top,h=f.offset().top,i=e.$results.scrollTop()+(h-g);0===d?e.$results.scrollTop(0):h-g<0&&e.$results.scrollTop(i)}}),c.on("results:next",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a),d=c+1;if(!(d>=b.length)){var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top+e.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=e.$results.scrollTop()+h-g;0===d?e.$results.scrollTop(0):h>g&&e.$results.scrollTop(i)}}),c.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),c.on("results:message",function(a){e.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=e.$results.scrollTop(),c=e.$results.get(0).scrollHeight-b+a.deltaY,d=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=e.$results.height();d?(e.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(e.$results.scrollTop(e.$results.get(0).scrollHeight-e.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(c){var d=a(this),f=b.GetData(this,"data")
;if("true"===d.attr("aria-selected"))return void(e.options.get("multiple")?e.trigger("unselect",{originalEvent:c,data:f}):e.trigger("close",{}));e.trigger("select",{originalEvent:c,data:f})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(c){var d=b.GetData(this,"data");e.getHighlightedResults().removeClass("select2-results__option--highlighted"),e.trigger("results:focus",{data:d,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this._tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),c.attr("title",this.$element.attr("title")),c.attr("tabindex",this._tabindex),c.attr("aria-disabled","false"),this.$selection=c,c},d.prototype.bind=function(a,b){var d=this,e=a.id+"-results";this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.trigger("focus"),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex),d.$selection.attr("aria-disabled","false")}),a.on("disable",function(){d.$selection.attr("tabindex","-1"),d.$selection.attr("aria-disabled","true")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,function(c){var d=a(c.target),e=d.closest(".select2");a(".select2.select2-container--open").each(function(){this!=e[0]&&b.GetData(this,"element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.trigger("focus")})},e.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d);var e=b.title||b.text;e?c.attr("title",e):c.removeAttr("title")},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,e){var f=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){f.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!f.options.get("disabled")){var d=a(this),e=d.parent(),g=c.GetData(e[0],"data");f.trigger("unselect",{originalEvent:b,data:g})}})},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g);var h=e.title||e.text;h&&f.attr("title",h),c.StoreData(f[0],"data",e),b.push(f)}var i=this.$selection.find(".select2-selection__rendered");c.appendMany(i,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(d)},b}),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},d.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var d=this.$selection.find(".select2-selection__clear");if(0!==d.length){b.stopPropagation();var e=c.GetData(d[0],"data"),f=this.$element.val();this.$element.val(this.placeholder.id);var g={data:e};if(this.trigger("clear",g),g.prevented)return void this.$element.val(f);for(var h=0;h<e.length;h++)if(g={data:e[h]},this.trigger("unselect",g),g.prevented)return void this.$element.val(f);this.$element.trigger("change"),this.trigger("toggle",{})}}},d.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},d.prototype.update=function(b,d){if(b.call(this,d),!(this.$selection.find(".select2-selection__placeholder").length>0||0===d.length)){var e=this.options.get("translations").get("removeAllItems"),f=a('<span class="select2-selection__clear" title="'+e()+'">&times;</span>');c.StoreData(f[0],"data",d),this.$selection.find(".select2-selection__rendered").prepend(f)}},d}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,d,e){var f=this,g=d.id+"-results";a.call(this,d,e),d.on("open",function(){f.$search.attr("aria-controls",g),f.$search.trigger("focus")}),d.on("close",function(){f.$search.val(""),f.$search.removeAttr("aria-controls"),f.$search.removeAttr("aria-activedescendant"),f.$search.trigger("focus")}),d.on("enable",function(){f.$search.prop("disabled",!1),f._transferTabIndex()}),d.on("disable",function(){f.$search.prop("disabled",!0)}),d.on("focus",function(a){f.$search.trigger("focus")}),d.on("results:focus",function(a){a.data._resultId?f.$search.attr("aria-activedescendant",a.data._resultId):f.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(a){f.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){f._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),f.trigger("keypress",a),f._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===f.$search.val()){var d=f.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var e=b.GetData(d[0],"data");f.searchRemoveChoice(e),a.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(a){f.$search.val()&&a.stopPropagation()});var h=document.documentMode,i=h&&h<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(i)return void f.$selection.off("input.search input.searchcheck");f.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(i&&"input"===a.type)return void f.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&f.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.trigger("focus")},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").width();else{a=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],g=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){b.RemoveData(this)})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup"),d.label=a.text):(d=document.createElement("option"),void 0!==d.textContent?d.textContent=a.text:d.innerText=a.text),void 0!==a.id&&(d.value=a.id),a.disabled&&(d.disabled=!0),a.selected&&(d.selected=!0),a.title&&(d.title=a.title);var e=c(d),f=this._normalizeItem(a);return f.element=d,b.StoreData(d,"data",f),e},d.prototype.item=function(a){var d={};if(null!=(d=b.GetData(a[0],"data")))return d;if(a.is("option"))d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){d={text:a.prop("label"),children:[],title:a.prop("title")};for(var e=a.children("option"),f=[],g=0;g<e.length;g++){var h=c(e[g]),i=this.item(h);f.push(i)}d.children=f}return d=this._normalizeItem(d),d.element=a[0],b.StoreData(a[0],"data",d),d},d.prototype._normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){this._dataToConvert=b.get("data")||[],d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype.bind=function(a,b){d.__super__.bind.call(this,a,b),this.addOptions(this.convertToOptions(this._dataToConvert))},d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){for(var d=this,e=this.$element.find("option"),f=e.map(function(){return d.item(c(this)).id}).get(),g=[],h=0;h<a.length;h++){var i=this._normalizeItem(a[h]);if(c.inArray(i.id,f)>=0){var j=e.filter(function(a){return function(){return c(this).val()==a.id}}(i)),k=this.item(j),l=c.extend(!0,{},i,k),m=this.option(l);j.replaceWith(m)}else{var n=this.option(i);if(i.children){var o=this.convertToOptions(i.children);b.appendMany(n,o)}g.push(n)}}return g},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this._removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var d=g.option(c);d.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.trigger("focus")),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(){d._checkIfMaximumSelected()})},a.prototype.query=function(a,b,c){var d=this;this._checkIfMaximumSelected(function(){a.call(d,b,c)})},a.prototype._checkIfMaximumSelected=function(a,b){var c=this;this.current(function(a){var d=null!=a?a.length:0;if(c.maximumSelectionLength>0&&d>=c.maximumSelectionLength)return void c.trigger("results:message",{message:"maximumSelected",args:{maximum:c.maximumSelectionLength}});b&&b()})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this,f=c.id+"-results";b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.attr("aria-controls",f),e.$search.trigger("focus"),window.setTimeout(function(){e.$search.trigger("focus")},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.removeAttr("aria-controls"),e.$search.removeAttr("aria-activedescendant"),e.$search.val(""),e.$search.trigger("blur")}),c.on("focus",function(){c.isOpen()||e.$search.trigger("focus")}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}}),c.on("results:focus",function(a){a.data._resultId?e.$search.attr("aria-activedescendant",a.data._resultId):e.$search.removeAttr("aria-activedescendant")})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},
c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("query",function(a){d.lastParams=a,d.loading=!0}),b.on("query:append",function(a){d.lastParams=a,d.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},b.prototype.loadMoreIfNeeded=function(){var b=a.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&b){this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()}},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=a(d.get("dropdownParent")||document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),d._bindContainerResultHandlers(b)}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._bindContainerResultHandlers=function(a,b){if(!this._containerResultsHandlersBound){var c=this;b.on("results:all",function(){c._positionDropdown(),c._resizeDropdown()}),b.on("results:append",function(){c._positionDropdown(),c._resizeDropdown()}),b.on("results:message",function(){c._positionDropdown(),c._resizeDropdown()}),b.on("select",function(){c._positionDropdown(),c._resizeDropdown()}),b.on("unselect",function(){c._positionDropdown(),c._resizeDropdown()}),this._containerResultsHandlersBound=!0}},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(c){var d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n={top:0,left:0};(a.contains(document.body,m[0])||m[0].isConnected)&&(n=m.offset()),l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},b.prototype._handleSelectOnClose=function(b,c){if(c&&null!=c.originalSelect2Event){var d=c.originalSelect2Event;if("select"===d._type||"unselect"===d._type)return}var e=this.getHighlightedResults();if(!(e.length<1)){var f=a.GetData(e[0],"data");null!=f.element&&f.element.selected||null==f.element&&f.selected||this.trigger("select",{data:f})}},b}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&(c.ctrlKey||c.metaKey)||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(k){if(k=a.extend(!0,{},this.defaults,k),null==k.dataAdapter){if(null!=k.ajax?k.dataAdapter=o:null!=k.data?k.dataAdapter=n:k.dataAdapter=m,k.minimumInputLength>0&&(k.dataAdapter=j.Decorate(k.dataAdapter,r)),k.maximumInputLength>0&&(k.dataAdapter=j.Decorate(k.dataAdapter,s)),k.maximumSelectionLength>0&&(k.dataAdapter=j.Decorate(k.dataAdapter,t)),k.tags&&(k.dataAdapter=j.Decorate(k.dataAdapter,p)),null==k.tokenSeparators&&null==k.tokenizer||(k.dataAdapter=j.Decorate(k.dataAdapter,q)),null!=k.query){var l=b(k.amdBase+"compat/query");k.dataAdapter=j.Decorate(k.dataAdapter,l)}if(null!=k.initSelection){var C=b(k.amdBase+"compat/initSelection");k.dataAdapter=j.Decorate(k.dataAdapter,C)}}if(null==k.resultsAdapter&&(k.resultsAdapter=c,null!=k.ajax&&(k.resultsAdapter=j.Decorate(k.resultsAdapter,x)),null!=k.placeholder&&(k.resultsAdapter=j.Decorate(k.resultsAdapter,w)),k.selectOnClose&&(k.resultsAdapter=j.Decorate(k.resultsAdapter,A))),null==k.dropdownAdapter){if(k.multiple)k.dropdownAdapter=u;else{var D=j.Decorate(u,v);k.dropdownAdapter=D}if(0!==k.minimumResultsForSearch&&(k.dropdownAdapter=j.Decorate(k.dropdownAdapter,z)),k.closeOnSelect&&(k.dropdownAdapter=j.Decorate(k.dropdownAdapter,B)),null!=k.dropdownCssClass||null!=k.dropdownCss||null!=k.adaptDropdownCssClass){var E=b(k.amdBase+"compat/dropdownCss");k.dropdownAdapter=j.Decorate(k.dropdownAdapter,E)}k.dropdownAdapter=j.Decorate(k.dropdownAdapter,y)}if(null==k.selectionAdapter){if(k.multiple?k.selectionAdapter=e:k.selectionAdapter=d,null!=k.placeholder&&(k.selectionAdapter=j.Decorate(k.selectionAdapter,f)),k.allowClear&&(k.selectionAdapter=j.Decorate(k.selectionAdapter,g)),k.multiple&&(k.selectionAdapter=j.Decorate(k.selectionAdapter,h)),null!=k.containerCssClass||null!=k.containerCss||null!=k.adaptContainerCssClass){var F=b(k.amdBase+"compat/containerCss");k.selectionAdapter=j.Decorate(k.selectionAdapter,F)}k.selectionAdapter=j.Decorate(k.selectionAdapter,i)}k.language=this._resolveLanguage(k.language),k.language.push("en");for(var G=[],H=0;H<k.language.length;H++){var I=k.language[H];-1===G.indexOf(I)&&G.push(I)}return k.language=G,k.translations=this._processTranslations(k.language,k.debug),k},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:{},matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.applyFromElement=function(a,b){var c=a.language,d=this.defaults.language,e=b.prop("lang"),f=b.closest("[lang]").prop("lang"),g=Array.prototype.concat.call(this._resolveLanguage(e),this._resolveLanguage(c),this._resolveLanguage(d),this._resolveLanguage(f));return a.language=g,a},D.prototype._resolveLanguage=function(b){if(!b)return[];if(a.isEmptyObject(b))return[];if(a.isPlainObject(b))return[b];var c;c=a.isArray(b)?b:[b];for(var d=[],e=0;e<c.length;e++)if(d.push(c[e]),"string"==typeof c[e]&&c[e].indexOf("-")>0){var f=c[e].split("-"),g=f[0];d.push(g)}return d},D.prototype._processTranslations=function(b,c){for(var d=new k,e=0;e<b.length;e++){var f=new k,g=b[e];if("string"==typeof g)try{f=k.loadPath(g)}catch(a){try{g=this.defaults.amdLanguageBase+g,f=k.loadPath(g)}catch(a){c&&window.console&&console.warn&&console.warn('Select2: The language file for "'+g+'" could not be automatically loaded. A fallback will be used instead.')}}else f=a.isPlainObject(g)?new k(g):g;d.extend(f)}return d},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(!0,this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),null!=e&&(this.options=c.applyFromElement(this.options,e)),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){function c(a,b){return b.toUpperCase()}var e=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),d.GetData(a[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(a[0],"data",d.GetData(a[0],"select2Tags")),d.StoreData(a[0],"tags",!0)),d.GetData(a[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",d.GetData(a[0],"ajaxUrl")),d.StoreData(a[0],"ajax-Url",d.GetData(a[0],"ajaxUrl")));for(var f={},g=0;g<a[0].attributes.length;g++){var h=a[0].attributes[g].name;if("data-"==h.substr(0,"data-".length)){var i=h.substring("data-".length),j=d.GetData(a[0],i);f[i.replace(/-([a-z])/g,c)]=j}}b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset&&(f=b.extend(!0,{},a[0].dataset,f));var k=b.extend(!0,{},d.GetData(a[0]),f);k=d._convertData(k);for(var l in k)b.inArray(l,e)>-1||(b.isPlainObject(this.options[l])?b.extend(this.options[l],k[l]):this.options[l]=k[l]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,d){null!=c.GetData(a[0],"select2")&&c.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this._generateId(a),d=d||{},this.options=new b(d,a),e.__super__.constructor.call(this);var f=a.attr("tabindex")||0;c.StoreData(a[0],"old-tabindex",f),a.attr("tabindex","-1");var g=this.options.get("dataAdapter");this.dataAdapter=new g(a,this.options);var h=this.render();this._placeContainer(h);var i=this.options.get("selectionAdapter");this.selection=new i(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,h);var j=this.options.get("dropdownAdapter");this.dropdown=new j(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,h);var k=this.options.get("resultsAdapter");this.results=new k(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){l.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),c.StoreData(a[0],"select2",this),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}if("computedstyle"==b){return window.getComputedStyle(a[0]).width}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(b[0],"element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,c,d,e){if(null==a.fn.select2){var f=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=a[b].apply(a,g)}),a.inArray(b,f)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.GLightbox=b())}(this,function(){"use strict";function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a){return f(a)||g(a)||h()}function f(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function g(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(a){return Math.sqrt(a.x*a.x+a.y*a.y)}function j(a,b){return a.x*b.x+a.y*b.y}function k(a,b){var c=i(a)*i(b);if(0===c)return 0;var d=j(a,b)/c;return d>1&&(d=1),Math.acos(d)}function l(a,b){return a.x*b.y-b.x*a.y}function m(a,b){var c=k(a,b);return l(a,b)>0&&(c*=-1),180*c/Math.PI}function n(a,b){var c=new P(a);return c.add(b),c}function o(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(;c<d;c++){var e=arguments[c];!function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=o(!0,a[d],c[d]):a[d]=c[d])}(e)}return a}function p(a,b){if(($.isNode(a)||a===window||a===document)&&(a=[a]),$.isArrayLike(a)||$.isObject(a)||(a=[a]),0!=$.size(a))if($.isArrayLike(a)&&!$.isObject(a))for(var c=a.length,d=0;d<c&&!1!==b.call(a[d],a[d],d,a);d++);else if($.isObject(a))for(var e in a)if($.has(a,e)&&!1===b.call(a[e],a[e],e,a))break}function q(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=a[X]=a[X]||[],e={all:d,evt:null,found:null};return b&&c&&$.size(d)>0&&p(d,function(a,d){if(a.eventName==b&&a.fn.toString()==c.toString())return e.found=!0,e.evt=d,!1}),e}function r(a){function b(a){$.isFunction(e)&&e.call(l,a,this),i&&b.destroy()}var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.onElement,e=c.withCallback,f=c.avoidDuplicate,g=void 0===f||f,h=c.once,i=void 0!==h&&h,j=c.useCapture,k=void 0!==j&&j,l=arguments.length>2?arguments[2]:void 0,m=d||[];return $.isString(m)&&(m=document.querySelectorAll(m)),b.destroy=function(){p(m,function(c){var d=q(c,a,b);d.found&&d.all.splice(d.evt,1),c.removeEventListener&&c.removeEventListener(a,b,k)})},p(m,function(c){var d=q(c,a,b);(c.addEventListener&&g&&!d.found||!g)&&(c.addEventListener(a,b,k),d.all.push({eventName:a,fn:b}))}),b}function s(a,b){p(b.split(" "),function(b){return a.classList.add(b)})}function t(a,b){p(b.split(" "),function(b){return a.classList.remove(b)})}function u(a,b){return a.classList.contains(b)}function v(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a||""===b)return!1;if("none"==b)return $.isFunction(c)&&c(),!1;var d=b.split(" ");p(d,function(b){s(a,"g"+b)}),r(W,{onElement:a,avoidDuplicate:!1,once:!0,withCallback:function(a,b){p(d,function(a){t(b,"g"+a)}),$.isFunction(c)&&c()}})}function w(a){var b=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild);return b}function x(a,b){for(;a!==document.body;){a=a.parentElement;if("function"==typeof a.matches?a.matches(b):a.msMatchesSelector(b))return a}}function y(a){a.style.display="block"}function z(a){a.style.display="none"}function A(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function B(a){if(u(a.target,"plyr--html5")){var b=x(a.target,".gslide-media");"enterfullscreen"==a.type&&s(b,"fullscreen"),"exitfullscreen"==a.type&&t(b,"fullscreen")}}function C(a,b,c){var d=this,e="gvideo"+b.index,f=a.querySelector(".gvideo-wrapper");F(this.settings.plyr.css);var g=b.href,h=location.protocol.replace(":",""),i="",j="",k=!1;"file"==h&&(h="http"),f.parentNode.style.maxWidth="".concat(b.width,"px"),F(this.settings.plyr.js,"Plyr",function(){if(g.match(/vimeo\.com\/([0-9]*)/)){var a=/vimeo.*\/(\d+)/i.exec(g);i="vimeo",j=a[1]}if(g.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||g.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||g.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)){var h=E(g);i="youtube",j=h}if(null!==g.match(/\.(mp4|ogg|webm)$/)){i="local";var l='<video id="'+e+'" ';l+='style="background:#000; max-width: '.concat(b.width,'px;" '),l+='preload="metadata" ',l+='x-webkit-airplay="allow" ',l+='webkit-playsinline="" ',l+="controls ",l+='class="gvideo-local">';var m=g.toLowerCase().split(".").pop(),n={mp4:"",ogg:"",webm:""};n[m]=g;for(var o in n)if(n.hasOwnProperty(o)){var p=n[o];b.hasOwnProperty(o)&&(p=b[o]),""!==p&&(l+='<source src="'.concat(p,'" type="video/').concat(o,'">'))}l+="</video>",k=w(l)}var q=k||w('<div id="'.concat(e,'" data-plyr-provider="').concat(i,'" data-plyr-embed-id="').concat(j,'"></div>'));s(f,"".concat(i,"-video gvideo")),f.appendChild(q),f.setAttribute("data-id",e);var r=$.has(d.settings.plyr,"config")?d.settings.plyr.config:{},t=new Plyr("#"+e,r);t.on("ready",function(a){var b=a.detail.plyr;Y[e]=b,$.isFunction(c)&&c()}),t.on("enterfullscreen",B),t.on("exitfullscreen",B)})}function D(a){var b=a.url,c=a.width,d=a.height,e=a.allow,f=a.callback,g=a.appendTo,h=document.createElement("iframe"),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return h.className="vimeo-video gvideo",h.src=b,d&&(h.style.height=S&&i<767?"":"".concat(d,"px")),c&&(h.style.width="".concat(c,"px")),e&&h.setAttribute("allow",e),h.onload=function(){s(h,"node-ready"),$.isFunction(f)&&f()},g&&g.appendChild(h),h}function E(a){var b="";return a=a.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==a[2]?(b=a[2].split(/[^0-9a-z_\-]/i),b=b[0]):b=a,b}function F(a,b,c){if($.isNil(a))return void console.error("Inject videos api error");$.isFunction(b)&&(c=b,b=!1);var d;if(-1!==a.indexOf(".css")){if((d=document.querySelectorAll('link[href="'+a+'"]'))&&d.length>0)return void($.isFunction(c)&&c());var e=document.getElementsByTagName("head")[0],f=e.querySelectorAll('link[rel="stylesheet"]'),g=document.createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=a,g.media="all",f?e.insertBefore(g,f[0]):e.appendChild(g),void($.isFunction(c)&&c())}if((d=document.querySelectorAll('script[src="'+a+'"]'))&&d.length>0){if($.isFunction(c)){if($.isString(b))return G(function(){return void 0!==window[b]},function(){c()}),!1;c()}}else{var h=document.createElement("script");h.type="text/javascript",h.src=a,h.onload=function(){if($.isFunction(c)){
if($.isString(b))return G(function(){return void 0!==window[b]},function(){c()}),!1;c()}},document.body.appendChild(h)}}function G(a,b,c,d){if(a())return void b();c||(c=100);var e,f=setInterval(function(){a()&&(clearInterval(f),e&&clearTimeout(e),b())},c);d&&(e=setTimeout(function(){clearInterval(f)},d))}function H(a,b,c){var d=this,e=a.querySelector(".gslide-media"),f=b.href.split("#").pop().trim(),g=document.getElementById(f);if(!g)return!1;var h=g.cloneNode(!0);h.style.height=$.isNumber(b.height)?"".concat(b.height,"px"):b.height,h.style.maxWidth=$.isNumber(b.width)?"".concat(b.width,"px"):b.width,s(h,"ginlined-content"),e.appendChild(h),this.events["inlineclose"+f]=r("click",{onElement:e.querySelectorAll(".gtrigger-close"),withCallback:function(a){a.preventDefault(),d.close()}}),$.isFunction(c)&&c()}function I(){var a=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=r("keydown",{onElement:window,withCallback:function(b,c){b=b||window.event;var d=b.keyCode;if(9==d){b.preventDefault();var f=document.querySelectorAll(".gbtn");if(!f||f.length<=0)return;var g=e(f).filter(function(a){return u(a,"focused")});if(!g.length){var h=document.querySelector('.gbtn[tabindex="0"]');return void(h&&(h.focus(),s(h,"focused")))}f.forEach(function(a){return t(a,"focused")});var i=g[0].getAttribute("tabindex");i=i||"0";var j=parseInt(i)+1;j>f.length-1&&(j="0");var k=document.querySelector('.gbtn[tabindex="'.concat(j,'"]'));k&&(k.focus(),s(k,"focused"))}39==d&&a.nextSlide(),37==d&&a.prevSlide(),27==d&&a.close()}})}function J(){var a=this;if(this.events.hasOwnProperty("touch"))return!1;var b,c,d,e=A(),f=e.width,g=e.height,h=!1,i=null,j=null,k=null,l=!1,m=1,n=1,o=!1,p=!1,q=null,r=null,v=null,w=null,x=0,y=0,z=!1,B=!1,C={},D={},E=0,F=0,G=this,H=document.getElementById("glightbox-slider"),I=document.querySelector(".goverlay"),J=new Q(H,{touchStart:function(a){if(u(a.targetTouches[0].target,"ginner-container"))return h=!1,!1;h=!0,D=a.targetTouches[0],C.pageX=a.targetTouches[0].pageX,C.pageY=a.targetTouches[0].pageY,E=a.targetTouches[0].clientX,F=a.targetTouches[0].clientY,i=G.activeSlide,j=i.querySelector(".gslide-media"),d=i.querySelector(".gslide-inline"),k=null,u(j,"gslide-image")&&(k=j.querySelector("img")),t(I,"greset")},touchMove:function(a){if(h&&(D=a.targetTouches[0],!o&&!p)){if(d&&d.offsetHeight>g){var e=C.pageX-D.pageX;if(Math.abs(e)<=13)return!1}l=!0;var i=a.targetTouches[0].clientX,m=a.targetTouches[0].clientY,n=E-i,q=F-m;Math.abs(n)>Math.abs(q)?(z=!1,B=!0):(B=!1,z=!0),b=D.pageX-C.pageX,x=100*b/f,c=D.pageY-C.pageY,y=100*c/g;var r;if(z&&k&&(r=1-Math.abs(c)/g,I.style.opacity=r),B&&(r=1-Math.abs(b)/f,j.style.opacity=r),!k)return K(j,"translate3d(".concat(x,"%, 0, 0)"));K(j,"translate3d(".concat(x,"%, ").concat(y,"%, 0)"))}},touchEnd:function(){if(h){if(l=!1,p||o)return v=q,void(w=r);var b=Math.abs(parseInt(y)),c=Math.abs(parseInt(x));return b>35&&k?void a.close():b<35&&c<25?(s(I,"greset"),I.style.opacity=1,L(j)):void 0}},multipointEnd:function(){setTimeout(function(){o=!1},50)},multipointStart:function(){o=!0,m=n||1},pinch:function(a){if(!k||l)return!1;o=!0,k.scaleX=k.scaleY=m*a.zoom;var b=m*a.zoom;if(p=!0,b<=1)return p=!1,b=1,w=null,v=null,q=null,r=null,void k.setAttribute("style","");b>4.5&&(b=4.5),k.style.transform="scale3d(".concat(b,", ").concat(b,", 1)"),n=b},pressMove:function(a){if(p&&!o){var b=D.pageX-C.pageX,c=D.pageY-C.pageY;v&&(b+=v),w&&(c+=w),q=b,r=c;var d="translate3d(".concat(b,"px, ").concat(c,"px, 0)");n&&(d+=" scale3d(".concat(n,", ").concat(n,", 1)")),K(k,d)}},swipe:function(b){if(!p){if(o)return void(o=!1);if("Left"==b.direction){if(a.index==a.elements.length-1)return L(j);a.nextSlide()}if("Right"==b.direction){if(0==a.index)return L(j);a.prevSlide()}}}});this.events.touch=J}function K(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==b)return a.style.webkitTransform="",a.style.MozTransform="",a.style.msTransform="",a.style.OTransform="",a.style.transform="",!1;a.style.webkitTransform=b,a.style.MozTransform=b,a.style.msTransform=b,a.style.OTransform=b,a.style.transform=b}function L(a){var b=u(a,"gslide-media")?a:a.querySelector(".gslide-media"),c=a.querySelector(".gslide-description");s(b,"greset"),K(b,"translate3d(0, 0, 0)");r(V,{onElement:b,once:!0,withCallback:function(a,c){t(b,"greset")}});b.style.opacity="",c&&(c.style.opacity="")}function M(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=c;if(a=a.trim(),a.length<=b)return a;var e=a.substr(0,b-1);return d?e+'... <a href="#" class="desc-more">'+c+"</a>":e}function N(a,b){var c=a.querySelector(".desc-more");if(!c)return!1;r("click",{onElement:c,withCallback:function(a,c){a.preventDefault();var d=document.body,e=x(c,".gslide-desc");if(!e)return!1;e.innerHTML=b.description,s(d,"gdesc-open");var f=r("click",{onElement:[d,x(e,".gslide-description")],withCallback:function(a,c){"a"!==a.target.nodeName.toLowerCase()&&(t(d,"gdesc-open"),s(d,"gdesc-closed"),e.innerHTML=b.smallDescription,N(e,b),setTimeout(function(){t(d,"gdesc-closed")},400),f.destroy())}})}})}function O(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=new ca(a);return b.init(),b}var P=function(){function a(c){b(this,a),this.handlers=[],this.el=c}return d(a,[{key:"add",value:function(a){this.handlers.push(a)}},{key:"del",value:function(a){a||(this.handlers=[]);for(var b=this.handlers.length;b>=0;b--)this.handlers[b]===a&&this.handlers.splice(b,1)}},{key:"dispatch",value:function(){for(var a=0,b=this.handlers.length;a<b;a++){var c=this.handlers[a];"function"==typeof c&&c.apply(this.el,arguments)}}}]),a}(),Q=function(){function a(c,d){b(this,a),this.element="string"==typeof c?document.querySelector(c):c,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var e=function(){};this.rotate=n(this.element,d.rotate||e),this.touchStart=n(this.element,d.touchStart||e),this.multipointStart=n(this.element,d.multipointStart||e),this.multipointEnd=n(this.element,d.multipointEnd||e),this.pinch=n(this.element,d.pinch||e),this.swipe=n(this.element,d.swipe||e),this.tap=n(this.element,d.tap||e),this.doubleTap=n(this.element,d.doubleTap||e),this.longTap=n(this.element,d.longTap||e),this.singleTap=n(this.element,d.singleTap||e),this.pressMove=n(this.element,d.pressMove||e),this.twoFingerPressMove=n(this.element,d.twoFingerPressMove||e),this.touchMove=n(this.element,d.touchMove||e),this.touchEnd=n(this.element,d.touchEnd||e),this.touchCancel=n(this.element,d.touchCancel||e),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return d(a,[{key:"start",value:function(a){if(a.touches){this.now=Date.now(),this.x1=a.touches[0].pageX,this.y1=a.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(a,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var b=this.preV;if(a.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var c={x:a.touches[1].pageX-this.x1,y:a.touches[1].pageY-this.y1};b.x=c.x,b.y=c.y,this.pinchStartLen=i(b),this.multipointStart.dispatch(a,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(a,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(a){if(a.touches){var b=this.preV,c=a.touches.length,d=a.touches[0].pageX,e=a.touches[0].pageY;if(this.isDoubleTap=!1,c>1){var f=a.touches[1].pageX,g=a.touches[1].pageY,h={x:a.touches[1].pageX-d,y:a.touches[1].pageY-e};null!==b.x&&(this.pinchStartLen>0&&(a.zoom=i(h)/this.pinchStartLen,this.pinch.dispatch(a,this.element)),a.angle=m(h,b),this.rotate.dispatch(a,this.element)),b.x=h.x,b.y=h.y,null!==this.x2&&null!==this.sx2?(a.deltaX=(d-this.x2+f-this.sx2)/2,a.deltaY=(e-this.y2+g-this.sy2)/2):(a.deltaX=0,a.deltaY=0),this.twoFingerPressMove.dispatch(a,this.element),this.sx2=f,this.sy2=g}else{if(null!==this.x2){a.deltaX=d-this.x2,a.deltaY=e-this.y2;var j=Math.abs(this.x1-this.x2),k=Math.abs(this.y1-this.y2);(j>10||k>10)&&(this._preventTap=!0)}else a.deltaX=0,a.deltaY=0;this.pressMove.dispatch(a,this.element)}this.touchMove.dispatch(a,this.element),this._cancelLongTap(),this.x2=d,this.y2=e,c>1&&a.preventDefault()}}},{key:"end",value:function(a){if(a.changedTouches){this._cancelLongTap();var b=this;a.touches.length<2&&(this.multipointEnd.dispatch(a,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(a.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){b.swipe.dispatch(a,b.element)},0)):(this.tapTimeout=setTimeout(function(){b._preventTap||b.tap.dispatch(a,b.element),b.isDoubleTap&&(b.doubleTap.dispatch(a,b.element),b.isDoubleTap=!1)},0),b.isDoubleTap||(b.singleTapTimeout=setTimeout(function(){b.singleTap.dispatch(a,b.element)},250))),this.touchEnd.dispatch(a,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(a){this.cancelAll(),this.touchCancel.dispatch(a,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}},{key:"on",value:function(a,b){this[a]&&this[a].add(b)}},{key:"off",value:function(a,b){this[a]&&this[a].del(b)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),a}(),R=function(){function a(c,d){var e=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(b(this,a),this.img=c,this.slide=d,this.onclose=f,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(a){return e.dragStart(a)},!1),this.img.addEventListener("mouseup",function(a){return e.dragEnd(a)},!1),this.img.addEventListener("mousemove",function(a){return e.drag(a)},!1),this.img.addEventListener("click",function(a){if(!e.zoomedIn)return e.zoomIn();e.zoomedIn&&!e.dragging&&e.zoomOut()},!1),this.img.setZoomEvents=!0}return d(a,[{key:"zoomIn",value:function(){var a=this.widowWidth();if(!(this.zoomedIn||a<=768)){var b=this.img;if(b.setAttribute("data-style",b.getAttribute("style")),b.style.maxWidth=b.naturalWidth+"px",b.style.maxHeight=b.naturalHeight+"px",b.naturalWidth>a){var c=a/2-b.naturalWidth/2;this.setTranslate(this.img.parentNode,c,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(a){if(a.preventDefault(),!this.zoomedIn)return void(this.active=!1);"touchstart"===a.type?(this.initialX=a.touches[0].clientX-this.xOffset,this.initialY=a.touches[0].clientY-this.yOffset):(this.initialX=a.clientX-this.xOffset,this.initialY=a.clientY-this.yOffset),a.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))}},{key:"dragEnd",value:function(a){var b=this;a.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){b.dragging=!1,b.img.isDragging=!1,b.img.classList.remove("dragging")},100)}},{key:"drag",value:function(a){this.active&&(a.preventDefault(),"touchmove"===a.type?(this.currentX=a.touches[0].clientX-this.initialX,this.currentY=a.touches[0].clientY-this.initialY):(this.currentX=a.clientX-this.initialX,this.currentY=a.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(a){if(this.zoomedIn){var b=a.clientX-this.img.naturalWidth/2,c=a.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,b,c)}}},{key:"setTranslate",value:function(a,b,c){a.style.transform="translate3d("+b+"px, "+c+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),a}(),S=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),T=null!==S||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,U=document.getElementsByTagName("html")[0],V=function(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}(),W=function(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}(),X=Date.now(),Y={},Z={selector:"glightbox",elements:null,skin:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plyr:{css:"https://cdn.plyr.io/3.5.6/plyr.css",js:"https://cdn.plyr.io/3.5.6/plyr.js",ratio:"16:9",config:{youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}},svg:{close:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'}};Z.slideHtml='<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>';Z.lightboxHtml='<div id="glightbox-body" class="glightbox-container">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gnext gbtn" tabindex="0">{nextSVG}</button>\n    <button class="gprev gbtn" tabindex="1">{prevSVG}</button>\n    <button class="gclose gbtn" tabindex="2">{closeSVG}</button>\n</div>\n</div>';var $={isFunction:function(a){return"function"==typeof a},isString:function(a){return"string"==typeof a},isNode:function(a){return!(!a||!a.nodeType||1!=a.nodeType)},isArray:function(a){return Array.isArray(a)},isArrayLike:function(a){return a&&a.length&&isFinite(a.length)},isObject:function(b){return"object"===a(b)&&null!=b&&!$.isFunction(b)&&!$.isArray(b)},isNil:function(a){return null==a},has:function(a,b){return null!==a&&hasOwnProperty.call(a,b)},size:function(a){if($.isObject(a)){if(a.keys)return a.keys().length;var b=0;for(var c in a)$.has(a,c)&&b++;return b}return a.length},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}},_=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1?arguments[1]:void 0,c={href:"",title:"",type:"",description:"",descPosition:b.descPosition,effect:"",width:"",height:"",node:a};if($.isObject(a)&&!$.isNode(a))return o(c,a);var d="",e=a.getAttribute("data-glightbox"),f=a.nodeName.toLowerCase();if("a"===f&&(d=a.href),"img"===f&&(d=a.src),c.href=d,p(c,function(d,e){$.has(b,e)&&"width"!==e&&(c[e]=b[e]);var f=a.dataset[e];$.isNil(f)||(c[e]=f)}),c.type||(c.type=ba(d)),$.isNil(e)){if("a"==f){var g=a.title;$.isNil(g)||""===g||(c.title=g)}if("img"==f){var h=a.alt;$.isNil(h)||""===h||(c.title=h)}var i=a.getAttribute("data-description");$.isNil(i)||""===i||(c.description=i)}else{var j=[];p(c,function(a,b){j.push(";\\s?"+b)}),j=j.join("\\s?:|"),""!==e.trim()&&p(c,function(a,b){var d=e,f="s?"+b+"s?:s?(.*?)("+j+"s?:|$)",g=new RegExp(f),h=d.match(g);if(h&&h.length&&h[1]){var i=h[1].trim().replace(/;\s*$/,"");c[b]=i}})}if(c.description&&"."==c.description.substring(0,1)&&document.querySelector(c.description))c.description=document.querySelector(c.description).innerHTML;else{var k=a.querySelector(".glightbox-desc");k&&(c.description=k.innerHTML)}var l="video"==c.type?b.videosWidth:b.width,m=b.height;return c.width=$.has(c,"width")&&""!==c.width?c.width:l,c.height=$.has(c,"height")&&""!==c.height?c.height:m,c},aa=function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u(b,"loaded"))return!1;$.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(b,c);var e=c.type,f=c.descPosition,g=b.querySelector(".gslide-media"),h=b.querySelector(".gslide-title"),i=b.querySelector(".gslide-desc"),j=b.querySelector(".gdesc-inner"),k=d;if($.isFunction(this.settings.afterSlideLoad)&&(k=function(){$.isFunction(d)&&d(),a.settings.afterSlideLoad(b,c)}),""==c.title&&""==c.description?j&&j.parentNode.parentNode.removeChild(j.parentNode):(h&&""!==c.title?h.innerHTML=c.title:h.parentNode.removeChild(h),i&&""!==c.description?S&&this.settings.moreLength>0?(c.smallDescription=M(c.description,this.settings.moreLength,this.settings.moreText),i.innerHTML=c.smallDescription,N.apply(this,[i,c])):i.innerHTML=c.description:i.parentNode.removeChild(i),s(g.parentNode,"desc-".concat(f)),s(j.parentNode,"description-".concat(f))),s(g,"gslide-".concat(e)),s(b,"loaded"),"video"===e)return s(g.parentNode,"gvideo-container"),g.insertBefore(w('<div class="gvideo-wrapper"></div>'),g.firstChild),void C.apply(this,[b,c,k]);if("external"===e){var l=D({url:c.href,width:c.width,height:c.height,callback:k});return g.parentNode.style.maxWidth="".concat(c.width,"px"),void g.appendChild(l)}if("inline"===e)return void H.apply(this,[b,c,k]);if("image"===e){var m=new Image;return m.addEventListener("load",function(){!S&&m.naturalWidth>m.offsetWidth&&(s(m,"zoomable"),new R(m,b,function(){a.resize(b)})),$.isFunction(k)&&k()},!1),m.src=c.href,void g.insertBefore(m,g.firstChild)}$.isFunction(k)&&k()},ba=function(a){var b=a;if(a=a.toLowerCase(),null!==a.match(/\.(jpeg|jpg|gif|png|apn|webp|svg)$/))return"image";if(a.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||a.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))return"video";if(a.match(/vimeo\.com\/([0-9]*)/))return"video";if(null!==a.match(/\.(mp4|ogg|webm)$/))return"video";if(a.indexOf("#")>-1){if(""!==b.split("#").pop().trim())return"inline"}return a.includes("gajax=true")?"ajax":"external"},ca=function(){function a(c){b(this,a),this.settings=o(Z,c||{}),this.effectsClasses=this.getAnimationClasses(),this.slidesData={}}return d(a,[{key:"init",value:function(){var a=this;this.baseEvents=r("click",{onElement:".".concat(this.settings.selector),withCallback:function(b,c){b.preventDefault(),a.open(c)}})}},{key:"open",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=this.getElements(a),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var b=this.settings.startAt;a&&$.isNil(b)&&(b=this.elements.indexOf(a))<0&&(b=0),$.isNil(b)&&(b=0),this.build(),v(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var c=document.body;if(c.style.width="".concat(c.offsetWidth,"px"),s(c,"glightbox-open"),s(U,"glightbox-open"),S&&(s(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(b,!0),1==this.elements.length?(z(this.prevButton),z(this.nextButton)):(y(this.prevButton),y(this.nextButton)),this.lightboxOpen=!0,$.isFunction(this.settings.onOpen)&&this.settings.onOpen(),S&&T&&this.settings.touchNavigation)return J.apply(this),!1;this.settings.keyboardNavigation&&I.apply(this)}},{key:"showSlide",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(this.loader),this.index=parseInt(b);var d=this.slidesContainer.querySelector(".current");d&&t(d,"current"),this.slideAnimateOut();var e=this.slidesContainer.querySelectorAll(".gslide")[b];if(u(e,"loaded"))this.slideAnimateIn(e,c),z(this.loader);else{y(this.loader);var f=_(this.elements[b],this.settings);f.index=b,this.slidesData[b]=f,aa.apply(this,[e,f,function(){z(a.loader),a.resize(),a.slideAnimateIn(e,c)}])}this.slideDescription=e.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&u(this.slideDescription.parentNode,"gslide-media"),this.preloadSlide(b+1),this.preloadSlide(b-1),t(this.nextButton,"disabled"),t(this.prevButton,"disabled"),0===b?s(this.prevButton,"disabled"):b===this.elements.length-1&&!0!==this.settings.loopAtEnd&&s(this.nextButton,"disabled"),this.activeSlide=e}},{key:"preloadSlide",value:function(a){var b=this;if(a<0||a>this.elements.length)return!1;if($.isNil(this.elements[a]))return!1;var c=this.slidesContainer.querySelectorAll(".gslide")[a];if(u(c,"loaded"))return!1;var d=_(this.elements[a],this.settings);d.index=a,this.slidesData[a]=d;var e=d.sourcetype;"video"==e||"external"==e?setTimeout(function(){aa.apply(b,[c,d])},200):aa.apply(this,[c,d])}},{key:"prevSlide",value:function(){var a=this.index-1;if(a<0)return!1;this.goToSlide(a)}},{key:"nextSlide",value:function(){var a=this.index+1;if(a>this.elements.length)return!1;this.goToSlide(a)}},{key:"goToSlide",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a>-1&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,a<this.elements.length?this.showSlide(a):!0===this.settings.loopAtEnd&&(a=0,this.showSlide(a)))}},{key:"slideAnimateIn",value:function(a,b){var c=this,d=a.querySelector(".gslide-media"),e=a.querySelector(".gslide-description"),f={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},g={index:this.index,slide:this.activeSlide};if(d.offsetWidth>0&&e&&(z(e),e.style.display=""),t(a,this.effectsClasses),b)v(a,this.settings.openEffect,function(){!S&&c.settings.autoplayVideos&&c.playSlideVideo(a),$.isFunction(c.settings.afterSlideChange)&&c.settings.afterSlideChange.apply(c,[f,g])});else{var h=this.settings.slideEffect,i="none"!==h?this.settings.cssEfects[h].in:h;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(i=this.settings.cssEfects.slide_back.in),v(a,i,function(){!S&&c.settings.autoplayVideos&&c.playSlideVideo(a),$.isFunction(c.settings.afterSlideChange)&&c.settings.afterSlideChange.apply(c,[f,g])})}setTimeout(function(){c.resize(a)},100),s(a,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var a=this.prevActiveSlide;t(a,this.effectsClasses),s(a,"prev");var b=this.settings.slideEffect,c="none"!==b?this.settings.cssEfects[b].out:b;this.stopSlideVideo(a),$.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(c=this.settings.cssEfects.slide_back.out),v(a,c,function(){var b=a.querySelector(".gslide-media"),c=a.querySelector(".gslide-description");b.style.transform="",t(b,"greset"),b.style.opacity="",c&&(c.style.opacity=""),t(a,"prev")})}},{key:"stopSlideVideo",value:function(a){$.isNumber(a)&&(a=this.slidesContainer.querySelectorAll(".gslide")[a]);var b=a?a.querySelector(".gvideo"):null;if(!b)return!1;var c=b.getAttribute("data-id");if(Y&&$.has(Y,c)){var d=Y[c];d&&d.play&&d.pause()}}},{key:"playSlideVideo",value:function(a){$.isNumber(a)&&(a=this.slidesContainer.querySelectorAll(".gslide")[a]);var b=a.querySelector(".gvideo");if(!b)return!1;var c=b.getAttribute("data-id");if(Y&&$.has(Y,c)){var d=Y[c];d&&d.play&&d.play()}}},{key:"setElements",value:function(a){this.settings.elements=a}},{key:"getElements",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=[],!$.isNil(this.settings.elements)&&$.isArray(this.settings.elements))return this.settings.elements;var b=!1;if(null!==a){var c=a.getAttribute("data-gallery");c&&""!==c&&(b=document.querySelectorAll('[data-gallery="'.concat(c,'"]')))}return 0==b&&(b=document.querySelectorAll(".".concat(this.settings.selector))),b=Array.prototype.slice.call(b)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var a=[];for(var b in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(b)){var c=this.settings.cssEfects[b];a.push("g".concat(c.in)),a.push("g".concat(c.out))}return a.join(" ")}},{key:"build",value:function(){var a=this;if(this.built)return!1;var b=$.has(this.settings.svg,"next")?this.settings.svg.next:"",c=$.has(this.settings.svg,"prev")?this.settings.svg.prev:"",d=$.has(this.settings.svg,"close")?this.settings.svg.close:"",e=this.settings.lightboxHtml;e=e.replace(/{nextSVG}/g,b),e=e.replace(/{prevSVG}/g,c),e=e.replace(/{closeSVG}/g,d),e=w(e),document.body.appendChild(e);var f=document.getElementById("glightbox-body");this.modal=f;var g=f.querySelector(".gclose");this.prevButton=f.querySelector(".gprev"),this.nextButton=f.querySelector(".gnext"),this.overlay=f.querySelector(".goverlay"),this.loader=f.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},s(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&g&&(this.events.close=r("click",{onElement:g,withCallback:function(b,c){b.preventDefault(),a.close()}})),g&&!this.settings.closeButton&&g.parentNode.removeChild(g),this.nextButton&&(this.events.next=r("click",{onElement:this.nextButton,withCallback:function(b,c){b.preventDefault(),a.nextSlide()}})),this.prevButton&&(this.events.prev=r("click",{onElement:this.prevButton,withCallback:function(b,c){b.preventDefault(),a.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=r("click",{onElement:f,withCallback:function(b,c){u(document.body,"glightbox-mobile")||x(b.target,".ginner-container")||x(b.target,".gbtn")||u(b.target,"gnext")||u(b.target,"gprev")||a.close()}})),p(this.elements,function(){var b=w(a.settings.slideHtml);a.slidesContainer.appendChild(b)}),T&&s(document.body,"glightbox-touch"),this.events.resize=r("resize",{onElement:window,withCallback:function(){a.resize()}}),this.built=!0}},{key:"resize",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(a=a||this.activeSlide,document.body.style.width="",document.body.style.width="".concat(document.body.offsetWidth,"px"),a&&!u(a,"zoomed")){var b=A(),c=a.querySelector(".gvideo-wrapper"),d=a.querySelector(".gslide-image"),e=this.slideDescription,f=b.width,g=b.height;if(f<=768?s(document.body,"glightbox-mobile"):t(document.body,"glightbox-mobile"),c||d){var h=!1;if(e&&(u(e,"description-bottom")||u(e,"description-top"))&&!u(e,"gabsolute")&&(h=!0),d)if(f<=768){var i=d.querySelector("img");i.setAttribute("style","")}else if(h){var j=e.offsetHeight,k=this.slidesData[this.index].width;k=k<=f?k+"px":"100%";var l=d.querySelector("img");l.setAttribute("style","max-height: calc(100vh - ".concat(j,"px)")),e.setAttribute("style","max-width: ".concat(l.offsetWidth,"px;"))}if(c){
var m=this.settings.plyr.ratio.split(":"),n=this.slidesData[this.index].width,o=n/(parseInt(m[0])/parseInt(m[1]));if(o=Math.floor(o),h&&(g-=e.offsetHeight),g<o&&f>n){var p=c.offsetWidth,q=c.offsetHeight,r=g/q,v={width:p*r,height:q*r};c.parentNode.setAttribute("style","max-width: ".concat(v.width,"px")),h&&e.setAttribute("style","max-width: ".concat(v.width,"px;"))}else c.parentNode.style.maxWidth="".concat(n,"px"),h&&e.setAttribute("style","max-width: ".concat(n,"px;"))}}}}},{key:"reload",value:function(){this.init()}},{key:"close",value:function(){var a=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),s(this.modal,"glightbox-closing"),v(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),v(this.activeSlide,this.settings.closeEffect,function(){if(a.activeSlide=null,a.prevActiveSlideIndex=null,a.prevActiveSlide=null,a.built=!1,a.events){for(var b in a.events)a.events.hasOwnProperty(b)&&a.events[b].destroy();a.events=null}var c=document.body;t(U,"glightbox-open"),t(c,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile"),c.style.width="",a.modal.parentNode.removeChild(a.modal),$.isFunction(a.settings.onClose)&&a.settings.onClose(),a.closing=null})}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),a}();return O}),function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=a(require("jquery")):a(b||c)}(function(a){"use strict";var b=function(b,c,d){var e={invalid:[],getCaret:function(){try{var a,c=0,d=b.get(0),f=document.selection,g=d.selectionStart;return f&&-1===navigator.appVersion.indexOf("MSIE 10")?(a=f.createRange(),a.moveStart("character",-e.val().length),c=a.text.length):(g||"0"===g)&&(c=g),c}catch(a){}},setCaret:function(a){try{if(b.is(":focus")){var c,d=b.get(0);d.setSelectionRange?d.setSelectionRange(a,a):(c=d.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())}}catch(a){}},events:function(){b.on("keydown.mask",function(a){b.data("mask-keycode",a.keyCode||a.which),b.data("mask-previus-value",b.val()),b.data("mask-previus-caret-pos",e.getCaret()),e.maskDigitPosMapOld=e.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",e.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){h===e.val()||b.data("changed")||b.trigger("change"),b.data("changed",!1)}).on("blur.mask",function(){h=e.val()}).on("focus.mask",function(b){!0===d.selectOnFocus&&a(b.target).select()}).on("focusout.mask",function(){d.clearIfNotMatch&&!f.test(e.val())&&e.val("")})},getRegexMask:function(){for(var a,b,d,e,f,h,i=[],j=0;j<c.length;j++)a=g.translation[c.charAt(j)],a?(b=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),d=a.optional,e=a.recursive,e?(i.push(c.charAt(j)),f={digit:c.charAt(j),pattern:b}):i.push(d||e?b+"?":b)):i.push(c.charAt(j).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return h=i.join(""),f&&(h=h.replace(new RegExp("("+f.digit+"(.*"+f.digit+")?)"),"($1)?").replace(new RegExp(f.digit,"g"),f.pattern)),new RegExp(h)},destroyEvents:function(){b.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(a){var c,d=b.is("input"),e=d?"val":"text";return arguments.length>0?(b[e]()!==a&&b[e](a),c=b):c=b[e](),c},calculateCaretPosition:function(a){var c=e.getMasked(),d=e.getCaret();if(a!==c){var f=b.data("mask-previus-caret-pos")||0,g=c.length,h=a.length,i=0,j=0,k=0,l=0,m=0;for(m=d;m<g&&e.maskDigitPosMap[m];m++)j++;for(m=d-1;m>=0&&e.maskDigitPosMap[m];m--)i++;for(m=d-1;m>=0;m--)e.maskDigitPosMap[m]&&k++;for(m=f-1;m>=0;m--)e.maskDigitPosMapOld[m]&&l++;if(d>h)d=10*g;else if(f>=d&&f!==h){if(!e.maskDigitPosMapOld[d]){var n=d;d-=l-k,d-=i,e.maskDigitPosMap[d]&&(d=n)}}else d>f&&(d+=k-l,d+=j)}return d},behaviour:function(c){c=c||window.event,e.invalid=[];var d=b.data("mask-keycode");if(-1===a.inArray(d,g.byPassKeys)){var f=e.getMasked(),h=e.getCaret(),i=b.data("mask-previus-value")||"";return setTimeout(function(){e.setCaret(e.calculateCaretPosition(i))},a.jMaskGlobals.keyStrokeCompensation),e.val(f),e.setCaret(h),e.callbacks(c)}},getMasked:function(a,b){var f,h,i=[],j=void 0===b?e.val():b+"",k=0,l=c.length,m=0,n=j.length,o=1,p="push",q=-1,r=0,s=[];d.reverse?(p="unshift",o=-1,f=0,k=l-1,m=n-1,h=function(){return k>-1&&m>-1}):(f=l-1,h=function(){return k<l&&m<n});for(var t;h();){var u=c.charAt(k),v=j.charAt(m),w=g.translation[u];w?(v.match(w.pattern)?(i[p](v),w.recursive&&(-1===q?q=k:k===f&&k!==q&&(k=q-o),f===q&&(k-=o)),k+=o):v===t?(r--,t=void 0):w.optional?(k+=o,m-=o):w.fallback?(i[p](w.fallback),k+=o,m-=o):e.invalid.push({p:m,v:v,e:w.pattern}),m+=o):(a||i[p](u),v===u?(s.push(m),m+=o):(t=u,s.push(m+r),r++),k+=o)}var x=c.charAt(f);l!==n+1||g.translation[x]||i.push(x);var y=i.join("");return e.mapMaskdigitPositions(y,s,n),y},mapMaskdigitPositions:function(a,b,c){var f=d.reverse?a.length-c:0;e.maskDigitPosMap={};for(var g=0;g<b.length;g++)e.maskDigitPosMap[b[g]+f]=1},callbacks:function(a){var f=e.val(),g=f!==h,i=[f,a,b,d],j=function(a,b,c){"function"==typeof d[a]&&b&&d[a].apply(this,c)};j("onChange",!0===g,i),j("onKeyPress",!0===g,i),j("onComplete",f.length===c.length,i),j("onInvalid",e.invalid.length>0,[f,a,b,e.invalid,d])}};b=a(b);var f,g=this,h=e.val();c="function"==typeof c?c(e.val(),void 0,b,d):c,g.mask=c,g.options=d,g.remove=function(){var a=e.getCaret();return g.options.placeholder&&b.removeAttr("placeholder"),b.data("mask-maxlength")&&b.removeAttr("maxlength"),e.destroyEvents(),e.val(g.getCleanVal()),e.setCaret(a),b},g.getCleanVal=function(){return e.getMasked(!0)},g.getMaskedVal=function(a){return e.getMasked(!1,a)},g.init=function(h){if(h=h||!1,d=d||{},g.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch,g.byPassKeys=a.jMaskGlobals.byPassKeys,g.translation=a.extend({},a.jMaskGlobals.translation,d.translation),g=a.extend(!0,{},g,d),f=e.getRegexMask(),h)e.events(),e.val(e.getMasked());else{d.placeholder&&b.attr("placeholder",d.placeholder),b.data("mask")&&b.attr("autocomplete","off");for(var i=0,j=!0;i<c.length;i++){var k=g.translation[c.charAt(i)];if(k&&k.recursive){j=!1;break}}j&&b.attr("maxlength",c.length).data("mask-maxlength",!0),e.destroyEvents(),e.events();var l=e.getCaret();e.val(e.getMasked()),e.setCaret(l)}},g.init(!b.is("input"))};a.maskWatchers={};var c=function(){var c=a(this),e={},f=c.attr("data-mask");if(c.attr("data-mask-reverse")&&(e.reverse=!0),c.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===c.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),d(c,f,e))return c.data("mask",new b(this,f,e))},d=function(b,c,d){d=d||{};var e=a(b).data("mask"),f=JSON.stringify,g=a(b).val()||a(b).text();try{return"function"==typeof c&&(c=c(g)),"object"!=typeof e||f(e.options)!==f(d)||e.mask!==c}catch(a){}};a.fn.mask=function(c,e){e=e||{};var f=this.selector,g=a.jMaskGlobals,h=g.watchInterval,i=e.watchInputs||g.watchInputs,j=function(){if(d(this,c,e))return a(this).data("mask",new b(this,c,e))};return a(this).each(j),f&&""!==f&&i&&(clearInterval(a.maskWatchers[f]),a.maskWatchers[f]=setInterval(function(){a(document).find(f).each(j)},h)),this},a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)},a.fn.unmask=function(){return clearInterval(a.maskWatchers[this.selector]),delete a.maskWatchers[this.selector],this.each(function(){var b=a(this).data("mask");b&&b.remove().removeData("mask")})},a.fn.cleanVal=function(){return this.data("mask").getCleanVal()},a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements,(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(c)};var e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&function(a){var b,c=document.createElement("div");return a="on"+a,b=a in c,b||(c.setAttribute(a,"return;"),b="function"==typeof c[a]),c=null,b}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{},e=a.jMaskGlobals=a.extend(!0,{},e,a.jMaskGlobals),e.dataMask&&a.applyDataMask(),setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree.ui-deps"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree.ui-deps"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c){b||(c=c?": "+c:"",a.error("Fancytree assertion failed"+c))}function c(a,b){var c,d,e=window.console?window.console[a]:null;if(e)try{e.apply(window.console,b)}catch(a){for(d="",c=0;c<b.length;c++)d+=b[c];e(d)}}function d(a){return!(!a.tree||void 0===a.statusNodeType)}function e(){var b,c,d,f,g,h=arguments[0]||{},i=1,j=arguments.length;if("object"==typeof h||a.isFunction(h)||(h={}),i===j)throw Error("need at least two args");for(;i<j;i++)if(null!=(b=arguments[i]))for(c in b)if(b.hasOwnProperty(c)){if(d=h[c],f=b[c],h===f)continue;f&&a.isPlainObject(f)?(g=d&&a.isPlainObject(d)?d:{},h[c]=e(g,f)):void 0!==f&&(h[c]=f)}return h}function f(a,b,c,d,e){return function(){var c=b[a],f=d[a],g=b.ext[e],h=function(){return c.apply(b,arguments)},i=function(a){return c.apply(b,a)};return function(){var a=b._local,c=b._super,d=b._superApply;try{return b._local=g,b._super=h,b._superApply=i,f.apply(b,arguments)}finally{b._local=a,b._super=c,b._superApply=d}}}()}function g(b,c,d,e){for(var g in d)"function"==typeof d[g]?"function"==typeof b[g]?b[g]=f(g,b,c,d,e):"_"===g.charAt(0)?b.ext[e][g]=f(g,b,c,d,e):a.error("Could not override tree."+g+". Use prefix '_' to create tree."+e+"._"+g):"options"!==g&&(b.ext[e][g]=d[g])}function h(b,c){return void 0===b?a.Deferred(function(){this.resolve()}).promise():a.Deferred(function(){this.resolveWith(b,c)}).promise()}function i(b,c){return void 0===b?a.Deferred(function(){this.reject()}).promise():a.Deferred(function(){this.rejectWith(b,c)}).promise()}function j(a,b){return function(){a.resolveWith(b)}}function k(b){var c=a.extend({},b.data()),d=c.json;return delete c.fancytree,delete c.uiFancytree,d&&(delete c.json,c=a.extend(c,d)),c}function l(a){return(""+a).replace(v,function(a){return w[a]})}function m(a){return a=a.toLowerCase(),function(b){return b.title.toLowerCase().indexOf(a)>=0}}function n(a){var b=new RegExp("^"+a,"i");return function(a){return b.test(a.title)}}function o(c,d){var e,f,g,h;for(this.parent=c,this.tree=c.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},e=0,f=E.length;e<f;e++)g=E[e],this[g]=d[g];null==this.unselectableIgnore&&null==this.unselectableStatus||(this.unselectable=!0),d.hideCheckbox&&a.error("'hideCheckbox' node option was removed in v2.23.0: use 'checkbox: false'"),d.data&&a.extend(this.data,d.data);for(g in d)F[g]||a.isFunction(d[g])||H[g]||(this.data[g]=d[g]);null==this.key?this.tree.options.defaultKey?(this.key=this.tree.options.defaultKey(this),b(this.key,"defaultKey() must return a unique key")):this.key="_"+s._nextNodeKey++:this.key=""+this.key,d.active&&(b(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),d.selected&&(this.tree.lastSelectedNode=this),h=d.children,h?h.length?this._setChildren(h):this.children=this.lazy?[]:null:this.children=null,this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function p(b){this.widget=b,this.$div=b.element,this.options=b.options,this.options&&(void 0!==this.options.lazyload&&a.error("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),void 0!==this.options.loaderror&&a.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),void 0!==this.options.fx&&a.error("The 'fx' option was replaced by 'toggleEffect' since 2014-11-30."),void 0!==this.options.removeNode&&a.error("The 'removeNode' event was replaced by 'modifyChild' since 2.20 (2016-09-10).")),this.ext={},this.types={},this.columns={},this.data=k(this.$div),this._id=""+(this.options.treeId||a.ui.fancytree._nextId++),this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this._tempCache={},this._lastMousedownNode=null,this._enableUpdate=!0,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.viewport=null,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove();var c,d={tree:this};this.rootNode=new o(d,{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,c=a("<ul>",{id:"ft-id-"+this._id,class:"ui-fancytree fancytree-container fancytree-plain"}).appendTo(this.$div),this.$container=c,this.rootNode.ul=c[0],null==this.options.debugLevel&&(this.options.debugLevel=s.debugLevel)}if(a.ui&&a.ui.fancytree)return void a.ui.fancytree.warn("Fancytree: ignored duplicate include");var q,r,s=null,t=new RegExp(/\.|\//),u=/[&<>"'\/]/g,v=/[<>"'\/]/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},x={16:!0,17:!0,18:!0},y={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},z={16:"shift",17:"ctrl",18:"alt",91:"meta",93:"meta"},A={0:"",1:"left",2:"middle",3:"right"},B="active expanded focus folder lazy radiogroup selected unselectable unselectableIgnore".split(" "),C={},D="columns types".split(" "),E="checkbox expanded extraClasses folder icon iconTooltip key lazy partsel radiogroup refKey selected statusNodeType title tooltip type unselectable unselectableIgnore unselectableStatus".split(" "),F={},G={},H={active:!0,children:!0,data:!0,focus:!0};for(q=0;q<B.length;q++)C[B[q]]=!0;for(q=0;q<E.length;q++)r=E[q],F[r]=!0,r!==r.toLowerCase()&&(G[r.toLowerCase()]=r);return b(a.ui,"Fancytree requires jQuery UI (http://jqueryui.com)"),Date.now||(Date.now=function(){return(new Date).getTime()}),o.prototype={_findDirectChild:function(a){var b,c,d=this.children;if(d)if("string"==typeof a){for(b=0,c=d.length;b<c;b++)if(d[b].key===a)return d[b]}else{if("number"==typeof a)return this.children[a];if(a.parent===this)return a}return null},_setChildren:function(a){b(a&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var c=0,d=a.length;c<d;c++)this.children.push(new o(this,a[c]));this.tree._callHook("treeStructureChanged",this.tree,"setChildren")},addChildren:function(c,d){var e,f,g,h=this.getFirstChild(),i=this.getLastChild(),j=null,k=[];for(a.isPlainObject(c)&&(c=[c]),this.children||(this.children=[]),e=0,f=c.length;e<f;e++)k.push(new o(this,c[e]));if(j=k[0],null==d?this.children=this.children.concat(k):(d=this._findDirectChild(d),g=a.inArray(d,this.children),b(g>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[g,0].concat(k))),h&&!d){for(e=0,f=k.length;e<f;e++)k[e].render();h!==this.getFirstChild()&&h.renderStatus(),i!==this.getLastChild()&&i.renderStatus()}else(!this.parent||this.parent.ul||this.tr)&&this.render();return 3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),this.triggerModifyChild("add",1===k.length?k[0]:null),j},addClass:function(a){return this.toggleClass(a,!0)},addNode:function(a,c){switch(void 0!==c&&"over"!==c||(c="child"),c){case"after":return this.getParent().addChildren(a,this.getNextSibling());case"before":return this.getParent().addChildren(a,this);case"firstChild":var d=this.children?this.children[0]:null;return this.addChildren(a,d);case"child":case"over":return this.addChildren(a)}b(!1,"Invalid mode: "+c)},addPagingNode:function(b,c){var d,e;if(c=c||"child",!1===b){for(d=this.children.length-1;d>=0;d--)e=this.children[d],"paging"===e.statusNodeType&&this.removeChild(e);return void(this.partload=!1)}return b=a.extend({title:this.tree.options.strings.moreData,statusNodeType:"paging",icon:!1},b),this.partload=!0,this.addNode(b,c)},appendSibling:function(a){return this.addNode(a,"after")},applyCommand:function(a,b){return this.tree.applyCommand(a,this,b)},applyPatch:function(b){if(null===b)return this.remove(),h(this);var c,d,e={children:!0,expanded:!0,parent:!0};for(c in b)b.hasOwnProperty(c)&&(d=b[c],e[c]||a.isFunction(d)||(F[c]?this[c]=d:this.data[c]=d));return b.hasOwnProperty("children")&&(this.removeChildren(),b.children&&this._setChildren(b.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),b.hasOwnProperty("expanded")?this.setExpanded(b.expanded):h(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(a,b,c){return a.addNode(this.toDict(!0,c),b)},countChildren:function(a){var b,c,d,e=this.children;if(!e)return 0;if(d=e.length,!1!==a)for(b=0,c=d;b<c;b++)d+=e[b].countChildren();return d},debug:function(a){this.tree.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),c("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},discardMarkup:function(a){var b=a?"nodeRemoveMarkup":"nodeRemoveChildMarkup";this.tree._callHook(b,this)},error:function(a){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),c("error",arguments))},findAll:function(b){b=a.isFunction(b)?b:m(b);var c=[];return this.visit(function(a){b(a)&&c.push(a)}),c},findFirst:function(b){b=a.isFunction(b)?b:m(b);var c=null;return this.visit(function(a){if(b(a))return c=a,!1}),c},findRelatedNode:function(a,b){return this.tree.findRelatedNode(this,a,b)},_changeSelectStatusAttrs:function(a){var c=!1,d=this.tree.options,e=s.evalOption("unselectable",this,this,d,!1),f=s.evalOption("unselectableStatus",this,this,d,void 0);switch(e&&null!=f&&(a=f),a){case!1:c=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case!0:c=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case void 0:c=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:b(!1,"invalid state: "+a)}return c&&this.renderStatus(),c},fixSelection3AfterClick:function(a){var b=this.isSelected();this.visit(function(a){if(a._changeSelectStatusAttrs(b),a.radiogroup)return"skip"}),this.fixSelection3FromEndNodes(a)},fixSelection3FromEndNodes:function(a){function c(a){var b,e,f,g,h,i,j,k,l=a.children;if(l&&l.length){for(i=!0,j=!1,b=0,e=l.length;b<e;b++)f=l[b],g=c(f),s.evalOption("unselectableIgnore",f,f,d,!1)||(!1!==g&&(j=!0),!0!==g&&(i=!1));h=!!i||!!j&&void 0}else k=s.evalOption("unselectableStatus",a,a,d,void 0),h=null==k?!!a.selected:!!k;return a.partsel&&!a.selected&&a.lazy&&null==a.children&&(h=void 0),a._changeSelectStatusAttrs(h),h}var d=this.tree.options;b(3===d.selectMode,"expected selectMode 3"),c(this),this.visitParents(function(a){var b,c,e,f,g,h=a.children,i=!0,j=!1;for(b=0,c=h.length;b<c;b++)e=h[b],s.evalOption("unselectableIgnore",e,e,d,!1)||(g=s.evalOption("unselectableStatus",e,e,d,void 0),f=null==g?!!e.selected:!!g,(f||e.partsel)&&(j=!0),f||(i=!1));f=!!i||!!j&&void 0,a._changeSelectStatusAttrs(f)})},fromDict:function(b){for(var c in b)F[c]?this[c]=b[c]:"data"===c?a.extend(this.data,b.data):a.isFunction(b[c])||H[c]||(this.data[c]=b[c]);b.children&&(this.removeChildren(),this.addChildren(b.children)),this.renderTitle()},getChildren:function(){if(void 0!==this.hasChildren())return this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return a.inArray(this,this.parent.children)},getIndexHier:function(b,c){b=b||".";var d,e=[];return a.each(this.getParentList(!1,!0),function(a,b){d=""+(b.getIndex()+1),c&&(d=("0000000"+d).substr(-c)),e.push(d)}),e.join(b)},getKeyPath:function(a){var b=this.tree.options.keyPathSeparator;return b+this.getPath(!a,"key",b)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},getNextSibling:function(){if(this.parent){var a,b,c=this.parent.children;for(a=0,b=c.length-1;a<b;a++)if(c[a]===this)return c[a+1]}return null},getParent:function(){return this.parent},getParentList:function(a,b){for(var c=[],d=b?this:this.parent;d;)(a||d.parent)&&c.unshift(d),d=d.parent;return c},getPath:function(b,c,d){b=!1!==b,c=c||"title",d=d||"/";var e,f=[],g=a.isFunction(c);return this.visitParents(function(a){a.parent&&(e=g?c(a):a[c],f.unshift(e))},b),f.join(d)},getPrevSibling:function(){if(this.parent){var a,b,c=this.parent.children;for(a=1,b=c.length;a<b;a++)if(c[a]===this)return c[a-1]}return null},getSelectedNodes:function(a){var b=[];return this.visit(function(c){if(c.selected&&(b.push(c),!0===a))return"skip"}),b},hasChildren:function(){if(this.lazy){if(null==this.children)return;if(0===this.children.length)return!1;if(1===this.children.length&&this.children[0].isStatusNode())return;return!0}return!(!this.children||!this.children.length)},hasClass:function(a){return(" "+(this.extraClasses||"")+" ").indexOf(" "+a+" ")>=0},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(a){this.tree.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),c("info",arguments))},isActive:function(){return this.tree.activeNode===this},isBelowOf:function(a){return this.getIndexHier(".",5)>a.getIndexHier(".",5)},isChildOf:function(a){return this.parent&&this.parent===a},isDescendantOf:function(b){if(!b||b.tree!==this.tree)return!1;for(var c=this.parent;c;){if(c===b)return!0;c===c.parent&&a.error("Recursive parent link: "+c),c=c.parent}return!1},isExpanded:function(){return!!this.expanded},isFirstSibling:function(){var a=this.parent;return!a||a.children[0]===this},isFolder:function(){return!!this.folder},isLastSibling:function(){var a=this.parent;return!a||a.children[a.children.length-1]===this},isLazy:function(){return!!this.lazy},isLoaded:function(){return!this.lazy||void 0!==this.hasChildren()},isLoading:function(){return!!this._isLoading},isRoot:function(){return this.isRootNode()},isPartsel:function(){return!this.selected&&!!this.partsel},isPartload:function(){return!!this.partload},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return!!this.selected},isStatusNode:function(){return!!this.statusNodeType},isPagingNode:function(){return"paging"===this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return void 0===this.hasChildren()},isVisible:function(){var a,b,c,d=this.tree.enableFilter,e=this.getParentList(!1,!1);if(d&&!this.match&&!this.subMatchCount)return!1;for(a=0,b=e.length;a<b;a++)if(c=e[a],!c.expanded)return!1;return!0},lazyLoad:function(a){return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."),this.load(a)},load:function(a){var c,d,e=this,f=this.isExpanded();return b(this.isLazy(),"load() requires a lazy node"),a||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),!1===(d=this.tree._triggerNodeEvent("lazyLoad",this))?h(this):(b("boolean"!=typeof d,"lazyLoad event must return source in data.result"),c=this.tree._callHook("nodeLoadChildren",this,d),f?(this.expanded=!0,c.always(function(){e.render()})):c.always(function(){e.renderStatus()}),c)):h(this)},makeVisible:function(b){var c,d=this,e=[],f=new a.Deferred,g=this.getParentList(!1,!1),h=g.length,i=!(b&&!0===b.noAnimation),j=!(b&&!1===b.scrollIntoView);for(c=h-1;c>=0;c--)e.push(g[c].setExpanded(!0,b));return a.when.apply(a,e).done(function(){j?d.scrollIntoView(i).done(function(){f.resolve()}):f.resolve()}),f.promise()},moveTo:function(c,d,e){void 0===d||"over"===d?d="child":"firstChild"===d&&(c.children&&c.children.length?(d="before",c=c.children[0]):d="child");var f,g=this.tree,h=this.parent,i="child"===d?c:c.parent;if(this!==c){if(this.parent?i.isDescendantOf(this)&&a.error("Cannot move a node to its own descendant"):a.error("Cannot move system root"),i!==h&&h.triggerModifyChild("remove",this),1===this.parent.children.length){if(this.parent===i)return;this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else f=a.inArray(this,this.parent.children),b(f>=0,"invalid source parent"),this.parent.children.splice(f,1);if(this.parent=i,i.hasChildren())switch(d){case"child":i.children.push(this);break;case"before":f=a.inArray(c,i.children),b(f>=0,"invalid target parent"),i.children.splice(f,0,this);break;case"after":f=a.inArray(c,i.children),b(f>=0,"invalid target parent"),i.children.splice(f+1,0,this);break;default:a.error("Invalid mode "+d)}else i.children=[this];e&&c.visit(e,!0),i===h?i.triggerModifyChild("move",this):i.triggerModifyChild("add",this),g!==c.tree&&(this.warn("Cross-tree moveTo is experimental!"),this.visit(function(a){a.tree=c.tree},!0)),g._callHook("treeStructureChanged",g,"moveTo"),h.isDescendantOf(i)||h.render(),i.isDescendantOf(h)||i===h||i.render()}},navigate:function(b,c){var d,e=a.ui.keyCode;switch(b){case"left":case e.LEFT:if(this.expanded)return this.setExpanded(!1);break;case"right":case e.RIGHT:if(!this.expanded&&(this.children||this.lazy))return this.setExpanded()}if(d=this.findRelatedNode(b)){try{d.makeVisible({scrollIntoView:!1})}catch(a){}return!1===c?(d.setFocus(),h()):d.setActive()}return this.warn("Could not find related node '"+b+"'."),h()},remove:function(){return this.parent.removeChild(this)},removeChild:function(a){return this.tree._callHook("nodeRemoveChild",this,a)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},removeClass:function(a){return this.toggleClass(a,!1)},render:function(a,b){return this.tree._callHook("nodeRender",this,a,b)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},replaceWith:function(c){var d,e=this.parent,f=a.inArray(this,e.children),g=this;return b(this.isPagingNode(),"replaceWith() currently requires a paging status node"),d=this.tree._callHook("nodeLoadChildren",this,c),d.done(function(a){var b=g.children;for(q=0;q<b.length;q++)b[q].parent=e;e.children.splice.apply(e.children,[f+1,0].concat(b)),g.children=null,g.remove(),e.render()}).fail(function(){g.setExpanded()}),d},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=void 0,this.renderStatus()},scheduleAction:function(b,c){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.debug("clearTimeout(%o)",this.tree.timer)),this.tree.timer=null;var d=this;switch(b){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){d.tree.debug("setTimeout: trigger expand"),d.setExpanded(!0)},c);break;case"activate":this.tree.timer=setTimeout(function(){d.tree.debug("setTimeout: trigger activate"),d.setActive(!0)},c);break;default:a.error("Invalid mode "+b)}},scrollIntoView:function(c,e){if(void 0!==e&&d(e))throw Error("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead.");var f=a.extend({effects:!0===c?{duration:200,queue:!1}:c,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent,topNode:null},e),g=f.scrollParent,i=this.tree.$container,j=i.css("overflow-y");g?g.jquery||(g=a(g)):g=this.tree.tbody?i.scrollParent():"scroll"===j||"auto"===j?i:i.scrollParent(),g[0]!==document&&g[0]!==document.body||(this.debug("scrollIntoView(): normalizing scrollParent to 'window':",g[0]),g=a(window));var k,l,m,n,o=new a.Deferred,p=this,q=a(this.span).height(),r=f.scrollOfs.top||0,s=f.scrollOfs.bottom||0,t=g.height(),u=g.scrollTop(),v=g,w=g[0]===window,x=f.topNode||null,y=null;return this.isVisible()?(w?(l=a(this.span).offset().top,k=x&&x.span?a(x.span).offset().top:0,v=a("html,body")):(b(g[0]!==document&&g[0]!==document.body,"scrollParent should be a simple element or `window`, not document or body."),n=g.offset().top,l=a(this.span).offset().top-n+u,k=x?a(x.span).offset().top-n+u:0,m=Math.max(0,g.innerHeight()-g[0].clientHeight),t-=m),l<u+r?y=l-r:l+q>u+t-s&&(y=l+q-t+s,x&&(b(x.isRootNode()||x.isVisible(),"topNode must be visible"),k<y&&(y=k-r))),null===y?o.resolveWith(this):f.effects?(f.effects.complete=function(){o.resolveWith(p)},v.stop(!0).animate({scrollTop:y},f.effects)):(v[0].scrollTop=y,o.resolveWith(this)),o.promise()):(this.warn("scrollIntoView(): node is invisible."),h())},setActive:function(a,b){return this.tree._callHook("nodeSetActive",this,a,b)},setExpanded:function(a,b){return this.tree._callHook("nodeSetExpanded",this,a,b)},setFocus:function(a){return this.tree._callHook("nodeSetFocus",this,a)},setSelected:function(a,b){return this.tree._callHook("nodeSetSelected",this,a,b)},setStatus:function(a,b,c){return this.tree._callHook("nodeSetStatus",this,a,b,c)},setTitle:function(a){this.title=a,this.renderTitle(),this.triggerModify("rename")},sortChildren:function(a,b){var c,d,e=this.children;if(e){if(a=a||function(a,b){var c=a.title.toLowerCase(),d=b.title.toLowerCase();return c===d?0:c>d?1:-1},e.sort(a),b)for(c=0,d=e.length;c<d;c++)e[c].children&&e[c].sortChildren(a,"$norender$");"$norender$"!==b&&this.render(),this.triggerModifyChild("sort")}},toDict:function(b,c){var d,e,f,g,h={},i=this;if(a.each(E,function(a,b){(i[b]||!1===i[b])&&(h[b]=i[b])}),a.isEmptyObject(this.data)||(h.data=a.extend({},this.data),a.isEmptyObject(h.data)&&delete h.data),c){if(!1===(g=c(h,i)))return!1;"skip"===g&&(b=!1)}if(b&&this.hasChildren())for(h.children=[],d=0,e=this.children.length;d<e;d++)f=this.children[d],f.isStatusNode()||!1!==(g=f.toDict(!0,c))&&h.children.push(g);return h},toggleClass:function(b,c){var d,e,f=/\S+/g,g=b.match(f)||[],h=0,i=!1,j=this[this.tree.statusClassPropName],k=" "+(this.extraClasses||"")+" ";for(j&&a(j).toggleClass(b,c);d=g[h++];)if(e=k.indexOf(" "+d+" ")>=0,c=void 0===c?!e:!!c)e||(k+=d+" ",i=!0);else for(;k.indexOf(" "+d+" ")>-1;)k=k.replace(" "+d+" "," ");return this.extraClasses=a.trim(k),i},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"FancytreeNode@"+this.key+"[title='"+this.title+"']"},triggerModifyChild:function(b,c,d){var e,f=this.tree.options.modifyChild;f&&(c&&c.parent!==this&&a.error("childNode "+c+" is not a child of "+this),e={node:this,tree:this.tree,operation:b,childNode:c||null},d&&a.extend(e,d),f({type:"modifyChild"},e))},triggerModify:function(a,b){this.parent.triggerModifyChild(a,this,b)},visit:function(a,b){var c,d,e=!0,f=this.children;if(!0===b&&(!1===(e=a(this))||"skip"===e))return e;if(f)for(c=0,d=f.length;c<d&&!1!==(e=f[c].visit(a,!0));c++);return e},visitAndLoad:function(b,c,d){var e,f,g,i=this;return!b||!0!==c||!1!==(f=b(i))&&"skip"!==f?i.children||i.lazy?(e=new a.Deferred,g=[],i.load().done(function(){for(var c=0,d=i.children.length;c<d;c++){if(!1===(f=i.children[c].visitAndLoad(b,!0,!0))){e.reject();break}"skip"!==f&&g.push(f)}a.when.apply(this,g).then(function(){e.resolve()})}),e.promise()):h():d?f:h()},visitParents:function(a,b){if(b&&!1===a(this))return!1;for(var c=this.parent;c;){if(!1===a(c))return!1;c=c.parent}return!0},visitSiblings:function(a,b){var c,d,e,f=this.parent.children;for(c=0,d=f.length;c<d;c++)if(e=f[c],
(b||e!==this)&&!1===a(e))return!1;return!0},warn:function(a){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),c("warn",arguments))}},p.prototype={_makeHookContext:function(b,c,d){var e,f;return void 0!==b.node?(c&&b.originalEvent!==c&&a.error("invalid args"),e=b):b.tree?(f=b.tree,e={node:b,tree:f,widget:f.widget,options:f.widget.options,originalEvent:c,typeInfo:f.types[b.type]||{}}):b.widget?e={node:null,tree:b,widget:b.widget,options:b.widget.options,originalEvent:c}:a.error("invalid args"),d&&a.extend(e,d),e},_callHook:function(b,c,d){var e=this._makeHookContext(c),f=this[b],g=Array.prototype.slice.call(arguments,2);return a.isFunction(f)||a.error("_callHook('"+b+"') is not a function"),g.unshift(e),f.apply(this,g)},_setExpiringValue:function(a,b,c){this._tempCache[a]={value:b,expire:Date.now()+(+c||50)}},_getExpiringValue:function(a){var b=this._tempCache[a];return b&&b.expire>Date.now()?b.value:(delete this._tempCache[a],null)},_usesExtension:function(b){return a.inArray(b,this.options.extensions)>=0},_requireExtension:function(c,d,e,f){null!=e&&(e=!!e);var g=this._local.name,h=this.options.extensions,i=a.inArray(c,h)<a.inArray(g,h),j=d&&null==this.ext[c],k=!j&&null!=e&&e!==i;return b(g&&g!==c,"invalid or same name '"+g+"' (require yourself?)"),!j&&!k||(f||(j||d?(f="'"+g+"' extension requires '"+c+"'",k&&(f+=" to be registered "+(e?"before":"after")+" itself")):f="If used together, `"+c+"` must be registered "+(e?"before":"after")+" `"+g+"`"),a.error(f),!1)},activateKey:function(a,b){var c=this.getNodeByKey(a);return c?c.setActive(!0,b):this.activeNode&&this.activeNode.setActive(!1,b),c},addPagingNode:function(a,b){return this.rootNode.addPagingNode(a,b)},applyCommand:function(b,c,d){var e;switch(c=c||this.getActiveNode(),b){case"moveUp":e=c.getPrevSibling(),e&&(c.moveTo(e,"before"),c.setActive());break;case"moveDown":e=c.getNextSibling(),e&&(c.moveTo(e,"after"),c.setActive());break;case"indent":e=c.getPrevSibling(),e&&(c.moveTo(e,"child"),e.setExpanded(),c.setActive());break;case"outdent":c.isTopLevel()||(c.moveTo(c.getParent(),"after"),c.setActive());break;case"remove":e=c.getPrevSibling()||c.getParent(),c.remove(),e&&e.setActive();break;case"addChild":c.editCreateNode("child","");break;case"addSibling":c.editCreateNode("after","");break;case"rename":c.editStart();break;case"down":case"first":case"last":case"left":case"parent":case"right":case"up":return c.navigate(b);default:a.error("Unhandled command: '"+b+"'")}},applyPatch:function(c){var d,e,f,g,h,i,k=c.length,l=[];for(e=0;e<k;e++)f=c[e],b(2===f.length,"patchList must be an array of length-2-arrays"),g=f[0],h=f[1],i=null===g?this.rootNode:this.getNodeByKey(g),i?(d=new a.Deferred,l.push(d),i.applyPatch(h).always(j(d,i))):this.warn("could not find node with key '"+g+"'");return a.when.apply(a,l).promise()},clear:function(a){this._callHook("treeClear",this)},count:function(){return this.rootNode.countChildren()},debug:function(a){this.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),c("log",arguments))},destroy:function(){this.widget.destroy()},enable:function(a){!1===a?this.widget.disable():this.widget.enable()},enableUpdate:function(a){return a=!1!==a,!!this._enableUpdate==!!a?a:(this._enableUpdate=a,a?(this.debug("enableUpdate(true): redraw "),this._callHook("treeStructureChanged",this,"enableUpdate"),this.render()):this.debug("enableUpdate(false)..."),!a)},error:function(a){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),c("error",arguments))},expandAll:function(a,b){var c=this.enableUpdate(!1);a=!1!==a,this.visit(function(c){!1!==c.hasChildren()&&c.isExpanded()!==a&&c.setExpanded(a,b)}),this.enableUpdate(c)},findAll:function(a){return this.rootNode.findAll(a)},findFirst:function(a){return this.rootNode.findFirst(a)},findNextNode:function(a,b){function c(c){if(a(c)&&(d=c),d||c===b)return!1}var d=null,e=this.getFirstChild();return a="string"==typeof a?n(a):a,b=b||e,this.visitRows(c,{start:b,includeSelf:!1}),d||b===e||this.visitRows(c,{start:e,includeSelf:!0}),d},findRelatedNode:function(b,c,d){var e=null,f=a.ui.keyCode;switch(c){case"parent":case f.BACKSPACE:b.parent&&b.parent.parent&&(e=b.parent);break;case"first":case f.HOME:this.visit(function(a){if(a.isVisible())return e=a,!1});break;case"last":case f.END:this.visit(function(a){a.isVisible()&&(e=a)});break;case"left":case f.LEFT:b.expanded?b.setExpanded(!1):b.parent&&b.parent.parent&&(e=b.parent);break;case"right":case f.RIGHT:b.expanded||!b.children&&!b.lazy?b.children&&b.children.length&&(e=b.children[0]):(b.setExpanded(),e=b);break;case"up":case f.UP:this.visitRows(function(a){return e=a,!1},{start:b,reverse:!0,includeSelf:!1});break;case"down":case f.DOWN:this.visitRows(function(a){return e=a,!1},{start:b,includeSelf:!1});break;default:this.tree.warn("Unknown relation '"+c+"'.")}return e},generateFormElements:function(b,c,d){function e(b){j.append(a("<input>",{type:"checkbox",name:g,value:b.key,checked:!0}))}d=d||{};var f,g="string"==typeof b?b:"ft_"+this._id+"[]",h="string"==typeof c?c:"ft_"+this._id+"_active",i="fancytree_result_"+this._id,j=a("#"+i),k=3===this.options.selectMode&&!1!==d.stopOnParents;j.length?j.empty():j=a("<div>",{id:i}).hide().insertAfter(this.$container),!1!==c&&this.activeNode&&j.append(a("<input>",{type:"radio",name:h,value:this.activeNode.key,checked:!0})),d.filter?this.visit(function(a){var b=d.filter(a);if("skip"===b)return b;!1!==b&&e(a)}):!1!==b&&(f=this.getSelectedNodes(k),a.each(f,function(a,b){e(b)}))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getOption:function(a){return this.widget.option(a)},getNodeByKey:function(a,b){var c,d;return!b&&(c=document.getElementById(this.options.idPrefix+a))?c.ftnode?c.ftnode:null:(b=b||this.rootNode,d=null,b.visit(function(b){if(b.key===a)return d=b,!1},!0),d)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(a){return this.rootNode.getSelectedNodes(a)},hasFocus:function(){return!!this._hasFocus},info:function(a){this.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),c("info",arguments))},isLoading:function(){var a=!1;return this.rootNode.visit(function(b){if(b._isLoading||b._requestId)return a=!0,!1},!0),a},loadKeyPath:function(b,c){var d,e,f,g=this,h=new a.Deferred,i=this.getRootNode(),j=this.options.keyPathSeparator,k=[],l=a.extend({},c);for("function"==typeof c?d=c:c&&c.callback&&(d=c.callback),l.callback=function(a,b,c){d&&d.call(a,b,c),h.notifyWith(a,[{node:b,status:c}])},null==l.matchKey&&(l.matchKey=function(a,b){return a.key===b}),a.isArray(b)||(b=[b]),e=0;e<b.length;e++)f=b[e],f.charAt(0)===j&&(f=f.substr(1)),k.push(f.split(j));return setTimeout(function(){g._loadKeyPathImpl(h,l,i,k).done(function(){h.resolve()})},0),h.promise()},_loadKeyPathImpl:function(b,c,d,e){var f,g,h,i,k,l,m,n,o,p,q=this;for(m={},g=0;g<e.length;g++)for(o=e[g],n=d;o.length;){if(h=o.shift(),!(i=function(a,b){var d,e,f=a.children;if(f)for(d=0,e=f.length;d<e;d++)if(c.matchKey(f[d],b))return f[d];return null}(n,h))){this.warn("loadKeyPath: key not found: "+h+" (parent: "+n+")"),c.callback(this,h,"error");break}if(0===o.length){c.callback(this,i,"ok");break}if(i.lazy&&void 0===i.hasChildren()){c.callback(this,i,"loaded"),h=i.key,m[h]?m[h].pathSegList.push(o):m[h]={parent:i,pathSegList:[o]};break}c.callback(this,i,"loaded"),n=i}f=[];for(k in m)m.hasOwnProperty(k)&&(l=m[k],p=new a.Deferred,f.push(p),function(a,b,d){c.callback(q,b,"loading"),b.load().done(function(){q._loadKeyPathImpl.call(q,a,c,b,d).always(j(a,q))}).fail(function(d){q.warn("loadKeyPath: error loading lazy "+b),c.callback(q,i,"error"),a.rejectWith(q)})}(p,l.parent,l.pathSegList));return a.when.apply(a,f).promise()},reactivate:function(a){var b,c=this.activeNode;return c?(this.activeNode=null,b=c.setActive(!0,{noFocus:!0}),a&&c.setFocus(),b):h()},reload:function(a){return this._callHook("treeClear",this),this._callHook("treeLoad",this,a)},render:function(a,b){return this.rootNode.render(a,b)},selectAll:function(a){this.visit(function(b){b.setSelected(a)})},setFocus:function(a){return this._callHook("treeSetFocus",this,a)},setOption:function(a,b){return this.widget.option(a,b)},debugTime:function(a){this.options.debugLevel>=4&&window.console.time(this+" - "+a)},debugTimeEnd:function(a){this.options.debugLevel>=4&&window.console.timeEnd(this+" - "+a)},toDict:function(a,b){var c=this.rootNode.toDict(!0,b);return a?c:c.children},toString:function(){return"Fancytree@"+this._id},_triggerNodeEvent:function(a,b,c,d){var e=this._makeHookContext(b,c,d),f=this.widget._trigger(a,c,e);return!1!==f&&void 0!==e.result?e.result:f},_triggerTreeEvent:function(a,b,c){var d=this._makeHookContext(this,b,c),e=this.widget._trigger(a,b,d);return!1!==e&&void 0!==d.result?d.result:e},visit:function(a){return this.rootNode.visit(a,!1)},visitRows:function(a,b){if(!this.rootNode.hasChildren())return!1;if(b&&b.reverse)return delete b.reverse,this._visitRowsUp(a,b);b=b||{};var c,d,e,f,g=0,h=!1===b.includeSelf,i=!!b.includeHidden,j=!i&&this.enableFilter,k=b.start||this.rootNode.children[0];for(e=k.parent;e;){for(f=e.children,d=f.indexOf(k)+g,c=d;c<f.length;c++)if(k=f[c],!j||k.match||k.subMatchCount){if(!h&&!1===a(k))return!1;if(h=!1,k.children&&k.children.length&&(i||k.expanded)&&!1===k.visit(function(b){return!j||b.match||b.subMatchCount?!1!==a(b)&&(i||!b.children||b.expanded?void 0:"skip"):"skip"},!1))return!1}k=e,e=e.parent,g=1}return!0},_visitRowsUp:function(a,b){for(var c,d,e,f=!!b.includeHidden,g=b.start||this.rootNode.children[0];;){if(e=g.parent,c=e.children,c[0]===g){if(g=e,!g.parent)break;c=e.children}else for(d=c.indexOf(g),g=c[d-1];(f||g.expanded)&&g.children&&g.children.length;)c=g.children,e=g,g=c[c.length-1];if((f||g.isVisible())&&!1===a(g))return!1}},warn:function(a){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),c("warn",arguments))}},a.extend(p.prototype,{nodeClick:function(a){var b,c,d=a.targetType,e=a.node;if("expander"===d){if(e.isLoading())return void e.debug("Got 2nd click while loading: ignored");this._callHook("nodeToggleExpanded",a)}else if("checkbox"===d)this._callHook("nodeToggleSelected",a),a.options.focusOnSelect&&this._callHook("nodeSetFocus",a,!0);else{if(c=!1,b=!0,e.folder)switch(a.options.clickFolderMode){case 2:c=!0,b=!1;break;case 3:b=!0,c=!0}b&&(this.nodeSetFocus(a),this._callHook("nodeSetActive",a,!0)),c&&this._callHook("nodeToggleExpanded",a)}},nodeCollapseSiblings:function(a,b){var c,d,e,f=a.node;if(f.parent)for(c=f.parent.children,d=0,e=c.length;d<e;d++)c[d]!==f&&c[d].expanded&&this._callHook("nodeSetExpanded",c[d],!1,b)},nodeDblclick:function(a){"title"===a.targetType&&4===a.options.clickFolderMode&&this._callHook("nodeToggleExpanded",a),"title"===a.targetType&&a.originalEvent.preventDefault()},nodeKeydown:function(b){var c,d,e,f=b.originalEvent,g=b.node,h=b.tree,i=b.options,j=f.which,k=f.key||String.fromCharCode(j),l=!!(f.altKey||f.ctrlKey||f.metaKey),m=!z[j]&&!y[j]&&!l,n=a(f.target),o=!0,p=!(f.ctrlKey||!i.autoActivate);if(g||(e=this.getActiveNode()||this.getFirstChild())&&(e.setFocus(),g=b.node=this.focusNode,g.debug("Keydown force focus on active node")),i.quicksearch&&m&&!n.is(":input:enabled"))return d=Date.now(),d-h.lastQuicksearchTime>500&&(h.lastQuicksearchTerm=""),h.lastQuicksearchTime=d,h.lastQuicksearchTerm+=k,c=h.findNextNode(h.lastQuicksearchTerm,h.getActiveNode()),c&&c.setActive(),void f.preventDefault();switch(s.eventToString(f)){case"+":case"=":h.nodeSetExpanded(b,!0);break;case"-":h.nodeSetExpanded(b,!1);break;case"space":g.isPagingNode()?h._triggerNodeEvent("clickPaging",b,f):s.evalOption("checkbox",g,g,i,!1)?h.nodeToggleSelected(b):h.nodeSetActive(b,!0);break;case"return":h.nodeSetActive(b,!0);break;case"home":case"end":case"backspace":case"left":case"right":case"up":case"down":g.navigate(f.which,p);break;default:o=!1}o&&f.preventDefault()},nodeLoadChildren:function(c,d){var e,f,g,h,i=c.tree,j=c.node,k=Date.now();return a.isFunction(d)&&(d=d.call(i,{type:"source"},c),b(!a.isFunction(d),"source callback must not return another function")),d.url&&(j._requestId&&j.warn("Recursive load request #"+k+" while #"+j._requestId+" is pending."),e=a.extend({},c.options.ajax,d),j._requestId=k,e.debugDelay?(f=e.debugDelay,delete e.debugDelay,a.isArray(f)&&(f=f[0]+Math.random()*(f[1]-f[0])),j.warn("nodeLoadChildren waiting debugDelay "+Math.round(f)+" ms ..."),g=a.Deferred(function(b){setTimeout(function(){a.ajax(e).done(function(){b.resolveWith(this,arguments)}).fail(function(){b.rejectWith(this,arguments)})},f)})):g=a.ajax(e),d=new a.Deferred,g.done(function(b,e,f){var g,h;if("json"!==this.dataType&&"jsonp"!==this.dataType||"string"!=typeof b||a.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),j._requestId&&j._requestId>k)return void d.rejectWith(this,["$recursive_request"]);if(c.options.postProcess){try{h=i._triggerNodeEvent("postProcess",c,c.originalEvent,{response:b,error:null,dataType:this.dataType})}catch(a){h={error:a,message:""+a,details:"postProcess failed"}}if(h.error)return g=a.isPlainObject(h.error)?h.error:{message:h.error},g=i._makeHookContext(j,null,g),void d.rejectWith(this,[g]);(a.isArray(h)||a.isPlainObject(h)&&a.isArray(h.children))&&(b=h)}else b&&b.hasOwnProperty("d")&&c.options.enableAspx&&(b="string"==typeof b.d?a.parseJSON(b.d):b.d);d.resolveWith(this,[b])}).fail(function(a,b,c){var e=i._makeHookContext(j,null,{error:a,args:Array.prototype.slice.call(arguments),message:c,details:a.status+": "+c});d.rejectWith(this,[e])})),a.isFunction(d.then)&&a.isFunction(d.catch)&&(g=d,d=new a.Deferred,g.then(function(a){d.resolve(a)},function(a){d.reject(a)})),a.isFunction(d.promise)?(i.nodeSetStatus(c,"loading"),d.done(function(a){i.nodeSetStatus(c,"ok"),j._requestId=null}).fail(function(a){var b;if("$recursive_request"===a)return void j.warn("Ignored response for obsolete load request #"+k+" (expected #"+j._requestId+")");a.node&&a.error&&a.message?b=a:(b=i._makeHookContext(j,null,{error:a,args:Array.prototype.slice.call(arguments),message:a?a.message||a.toString():""}),"[object Object]"===b.message&&(b.message="")),j.warn("Load children failed ("+b.message+")",b),!1!==i._triggerNodeEvent("loadError",b,null)&&i.nodeSetStatus(c,"error",b.message,b.details)})):c.options.postProcess&&(h=i._triggerNodeEvent("postProcess",c,c.originalEvent,{response:d,error:null,dataType:typeof d}),(a.isArray(h)||a.isPlainObject(h)&&a.isArray(h.children))&&(d=h)),a.when(d).done(function(d){var e,f;a.isPlainObject(d)&&(b(j.isRootNode(),"source may only be an object for root nodes (expecting an array of child objects otherwise)"),b(a.isArray(d.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),e=d,d=d.children,delete e.children,a.each(D,function(a,b){void 0!==e[b]&&(i[b]=e[b],delete e[b])}),a.extend(i.data,e)),b(a.isArray(d),"expected array of children"),j._setChildren(d),i.options.nodata&&0===d.length&&(a.isFunction(i.options.nodata)?f=i.options.nodata.call(i,{type:"nodata"},c):!0===i.options.nodata&&j.isRootNode()?f=i.options.strings.nodata:"string"==typeof i.options.nodata&&j.isRootNode()&&(f=i.options.nodata),f&&j.setStatus("nodata",f)),i._triggerNodeEvent("loadChildren",j)})},nodeLoadKeyPath:function(a,b){},nodeRemoveChild:function(c,d){var e,f=c.node,g=a.extend({},c,{node:d}),h=f.children;if(1===h.length)return b(d===h[0],"invalid single child"),this.nodeRemoveChildren(c);this.activeNode&&(d===this.activeNode||this.activeNode.isDescendantOf(d))&&this.activeNode.setActive(!1),this.focusNode&&(d===this.focusNode||this.focusNode.isDescendantOf(d))&&(this.focusNode=null),this.nodeRemoveMarkup(g),this.nodeRemoveChildren(g),e=a.inArray(d,h),b(e>=0,"invalid child"),f.triggerModifyChild("remove",d),d.visit(function(a){a.parent=null},!0),this._callHook("treeRegisterNode",this,!1,d),h.splice(e,1)},nodeRemoveChildMarkup:function(b){var c=b.node;c.ul&&(c.isRootNode()?a(c.ul).empty():(a(c.ul).remove(),c.ul=null),c.visit(function(a){a.li=a.ul=null}))},nodeRemoveChildren:function(a){var b=a.tree,c=a.node;c.children&&(this.activeNode&&this.activeNode.isDescendantOf(c)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(c)&&(this.focusNode=null),this.nodeRemoveChildMarkup(a),c.triggerModifyChild("remove",null),c.visit(function(a){a.parent=null,b._callHook("treeRegisterNode",b,!1,a)}),c.lazy?c.children=[]:c.children=null,c.isRootNode()||(c.expanded=!1),this.nodeRenderStatus(a))},nodeRemoveMarkup:function(b){var c=b.node;c.li&&(a(c.li).remove(),c.li=null),this.nodeRemoveChildMarkup(b)},nodeRender:function(c,d,e,f,g){var h,i,j,k,l,m,n,o=c.node,p=c.tree,q=c.options,r=q.aria,s=!1,t=o.parent,u=!t,v=o.children,w=null;if(!1!==p._enableUpdate&&(u||t.ul)){if(b(u||t.ul,"parent UL must exist"),u||(o.li&&(d||o.li.parentNode!==o.parent.ul)&&(o.li.parentNode===o.parent.ul?w=o.li.nextSibling:this.debug("Unlinking "+o+" (must be child of "+o.parent+")"),this.nodeRemoveMarkup(c)),o.li?this.nodeRenderStatus(c):(s=!0,o.li=document.createElement("li"),o.li.ftnode=o,o.key&&q.generateIds&&(o.li.id=q.idPrefix+o.key),o.span=document.createElement("span"),o.span.className="fancytree-node",r&&!o.tr&&a(o.li).attr("role","treeitem"),o.li.appendChild(o.span),this.nodeRenderTitle(c),q.createNode&&q.createNode.call(p,{type:"createNode"},c)),q.renderNode&&q.renderNode.call(p,{type:"renderNode"},c)),v){if(u||o.expanded||!0===e){for(o.ul||(o.ul=document.createElement("ul"),(!0!==f||g)&&o.expanded||(o.ul.style.display="none"),r&&a(o.ul).attr("role","group"),o.li?o.li.appendChild(o.ul):o.tree.$div.append(o.ul)),k=0,l=v.length;k<l;k++)n=a.extend({},c,{node:v[k]}),this.nodeRender(n,d,e,!1,!0);for(h=o.ul.firstChild;h;)j=h.ftnode,j&&j.parent!==o?(o.debug("_fixParent: remove missing "+j,h),m=h.nextSibling,h.parentNode.removeChild(h),h=m):h=h.nextSibling;for(h=o.ul.firstChild,k=0,l=v.length-1;k<l;k++)i=v[k],j=h.ftnode,i===j?h=h.nextSibling:o.ul.insertBefore(i.li,j.li)}}else o.ul&&(this.warn("remove child markup for "+o),this.nodeRemoveChildMarkup(c));u||s&&t.ul.insertBefore(o.li,w)}},nodeRenderTitle:function(b,c){var d,e,f,g,h,i,j,k,m=b.node,n=b.tree,o=b.options,p=o.aria,q=m.getLevel(),r=[];void 0!==c&&(m.title=c),m.span&&!1!==n._enableUpdate&&(h=p&&!1!==m.hasChildren()?" role='button'":"",q<o.minExpandLevel?(m.lazy||(m.expanded=!0),q>1&&r.push("<span "+h+" class='fancytree-expander fancytree-expander-fixed'></span>")):r.push("<span "+h+" class='fancytree-expander'></span>"),d=s.evalOption("checkbox",m,m,o,!1),d&&!m.isStatusNode()&&(h=p?" role='checkbox'":"",e="fancytree-checkbox",("radio"===d||m.parent&&m.parent.radiogroup)&&(e+=" fancytree-radio"),r.push("<span "+h+" class='"+e+"'></span>")),void 0!==m.data.iconClass&&(m.icon?a.error("'iconClass' node option is deprecated since v2.14.0: use 'icon' only instead"):(m.warn("'iconClass' node option is deprecated since v2.14.0: use 'icon' instead"),m.icon=m.data.iconClass)),f=s.evalOption("icon",m,m,o,!0),!1!==f&&(h=p?" role='presentation'":"",k=s.evalOption("iconTooltip",m,m,o,null),k=k?" title='"+l(k)+"'":"","string"==typeof f?t.test(f)?(f="/"===f.charAt(0)?f:(o.imagePath||"")+f,r.push("<img src='"+f+"' class='fancytree-icon'"+k+" alt='' />")):r.push("<span "+h+" class='fancytree-custom-icon "+f+"'"+k+"></span>"):f.text?r.push("<span "+h+" class='fancytree-custom-icon "+(f.addClass||"")+"'"+k+">"+s.escapeHtml(f.text)+"</span>"):f.html?r.push("<span "+h+" class='fancytree-custom-icon "+(f.addClass||"")+"'"+k+">"+f.html+"</span>"):r.push("<span "+h+" class='fancytree-icon'"+k+"></span>")),g="",o.renderTitle&&(g=o.renderTitle.call(n,{type:"renderTitle"},b)||""),g||(j=s.evalOption("tooltip",m,m,o,null),!0===j&&(j=m.title),j=j?" title='"+l(j)+"'":"",i=o.titlesTabbable?" tabindex='0'":"",g="<span class='fancytree-title'"+j+i+">"+(o.escapeTitles?s.escapeHtml(m.title):m.title)+"</span>"),r.push(g),m.span.innerHTML=r.join(""),this.nodeRenderStatus(b),o.enhanceTitle&&(b.$title=a(">span.fancytree-title",m.span),g=o.enhanceTitle.call(n,{type:"enhanceTitle"},b)||""))},nodeRenderStatus:function(b){var c,d=b.node,e=b.tree,f=b.options,g=d.hasChildren(),h=d.isLastSibling(),i=f.aria,j=f._classNames,k=[],l=d[e.statusClassPropName];l&&!1!==e._enableUpdate&&(i&&(c=a(d.tr||d.li)),k.push(j.node),e.activeNode===d&&k.push(j.active),e.focusNode===d&&k.push(j.focused),d.expanded&&k.push(j.expanded),i&&(!1===g?c.removeAttr("aria-expanded"):c.attr("aria-expanded",Boolean(d.expanded))),d.folder&&k.push(j.folder),!1!==g&&k.push(j.hasChildren),h&&k.push(j.lastsib),d.lazy&&null==d.children&&k.push(j.lazy),d.partload&&k.push(j.partload),d.partsel&&k.push(j.partsel),s.evalOption("unselectable",d,d,f,!1)&&k.push(j.unselectable),d._isLoading&&k.push(j.loading),d._error&&k.push(j.error),d.statusNodeType&&k.push(j.statusNodePrefix+d.statusNodeType),d.selected?(k.push(j.selected),i&&c.attr("aria-selected",!0)):i&&c.attr("aria-selected",!1),d.extraClasses&&k.push(d.extraClasses),!1===g?k.push(j.combinedExpanderPrefix+"n"+(h?"l":"")):k.push(j.combinedExpanderPrefix+(d.expanded?"e":"c")+(d.lazy&&null==d.children?"d":"")+(h?"l":"")),k.push(j.combinedIconPrefix+(d.expanded?"e":"c")+(d.folder?"f":"")),l.className=k.join(" "),d.li&&a(d.li).toggleClass(j.lastsib,h))},nodeSetActive:function(c,d,e){e=e||{};var f,g=c.node,j=c.tree,k=c.options,l=!0===e.noEvents,m=!0===e.noFocus,n=!1!==e.scrollIntoView,o=g===j.activeNode;return d=!1!==d,o===d?h(g):d&&!l&&!1===this._triggerNodeEvent("beforeActivate",g,c.originalEvent)?i(g,["rejected"]):(d?(j.activeNode&&(b(j.activeNode!==g,"node was active (inconsistency)"),f=a.extend({},c,{node:j.activeNode}),j.nodeSetActive(f,!1),b(null===j.activeNode,"deactivate was out of sync?")),k.activeVisible&&g.makeVisible({scrollIntoView:n}),j.activeNode=g,j.nodeRenderStatus(c),m||j.nodeSetFocus(c),l||j._triggerNodeEvent("activate",g,c.originalEvent)):(b(j.activeNode===g,"node was not active (inconsistency)"),j.activeNode=null,this.nodeRenderStatus(c),l||c.tree._triggerNodeEvent("deactivate",g,c.originalEvent)),h(g))},nodeSetExpanded:function(b,c,d){d=d||{};var e,f,g,j,k,l,m=b.node,n=b.tree,o=b.options,p=!0===d.noAnimation,q=!0===d.noEvents;if(c=!1!==c,m.expanded&&c||!m.expanded&&!c)return h(m);if(c&&!m.lazy&&!m.hasChildren())return h(m);if(!c&&m.getLevel()<o.minExpandLevel)return i(m,["locked"]);if(!q&&!1===this._triggerNodeEvent("beforeExpand",m,b.originalEvent))return i(m,["rejected"]);if(p||m.isVisible()||(p=d.noAnimation=!0),f=new a.Deferred,c&&!m.expanded&&o.autoCollapse){k=m.getParentList(!1,!0),l=o.autoCollapse;try{for(o.autoCollapse=!1,g=0,j=k.length;g<j;g++)this._callHook("nodeCollapseSiblings",k[g],d)}finally{o.autoCollapse=l}}return f.done(function(){var a=m.getLastChild();c&&o.autoScroll&&!p&&a&&n._enableUpdate?a.scrollIntoView(!0,{topNode:m}).always(function(){q||b.tree._triggerNodeEvent(c?"expand":"collapse",b)}):q||b.tree._triggerNodeEvent(c?"expand":"collapse",b)}),e=function(d){var e,f,g=o._classNames,h=o.toggleEffect;if(m.expanded=c,n._callHook("treeStructureChanged",b,c?"expand":"collapse"),n._callHook("nodeRender",b,!1,!1,!0),m.ul)if(e="none"!==m.ul.style.display,f=!!m.expanded,e===f)m.warn("nodeSetExpanded: UL.style.display already set");else{if(h&&!p)return a(m.li).addClass(g.animating),void(a.isFunction(a(m.ul)[h.effect])?a(m.ul)[h.effect]({duration:h.duration,always:function(){a(this).removeClass(g.animating),a(m.li).removeClass(g.animating),d()}}):(a(m.ul).stop(!0,!0),a(m.ul).parent().find(".ui-effects-placeholder").remove(),a(m.ul).toggle(h.effect,h.options,h.duration,function(){a(this).removeClass(g.animating),a(m.li).removeClass(g.animating),d()})));m.ul.style.display=m.expanded||!parent?"":"none"}d()},c&&m.lazy&&void 0===m.hasChildren()?m.load().done(function(){f.notifyWith&&f.notifyWith(m,["loaded"]),e(function(){f.resolveWith(m)})}).fail(function(a){e(function(){f.rejectWith(m,["load failed ("+a+")"])})}):e(function(){f.resolveWith(m)}),f.promise()},nodeSetFocus:function(b,c){var d,e=b.tree,f=b.node,g=e.options,h=!!b.originalEvent&&a(b.originalEvent.target).is(":input");if(c=!1!==c,e.focusNode){if(e.focusNode===f&&c)return;d=a.extend({},b,{node:e.focusNode}),e.focusNode=null,this._triggerNodeEvent("blur",d),this._callHook("nodeRenderStatus",d)}if(c){this.hasFocus()||(f.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",b,!0,{calledByNode:!0})),f.makeVisible({scrollIntoView:!1}),e.focusNode=f,g.titlesTabbable&&(h||a(f.span).find(".fancytree-title").focus()),g.aria&&a(e.$container).attr("aria-activedescendant",a(f.tr||f.li).uniqueId().attr("id")),this._triggerNodeEvent("focus",b);document.activeElement===e.$container.get(0)||a(document.activeElement,e.$container).length>=1||a(e.$container).focus(),g.autoScroll&&f.scrollIntoView(),this._callHook("nodeRenderStatus",b)}},nodeSetSelected:function(a,b,c){c=c||{};var d=a.node,e=a.tree,f=a.options,g=!0===c.noEvents,h=d.parent;if(b=!1!==b,!s.evalOption("unselectable",d,d,f,!1)){if(d._lastSelectIntent=b,!!d.selected===b&&(3!==f.selectMode||!d.partsel||b))return b;if(!g&&!1===this._triggerNodeEvent("beforeSelect",d,a.originalEvent))return!!d.selected;b&&1===f.selectMode?(e.lastSelectedNode&&e.lastSelectedNode.setSelected(!1),d.selected=b):3!==f.selectMode||!h||h.radiogroup||d.radiogroup?h&&h.radiogroup?d.visitSiblings(function(a){a._changeSelectStatusAttrs(b&&a===d)},!0):d.selected=b:(d.selected=b,d.fixSelection3AfterClick(c)),this.nodeRenderStatus(a),e.lastSelectedNode=b?d:null,g||e._triggerNodeEvent("select",a)}},nodeSetStatus:function(b,c,d,e){function f(c,d){var e=g.children?g.children[0]:null;return e&&e.isStatusNode()?(a.extend(e,c),e.statusNodeType=d,h._callHook("nodeRenderTitle",e)):(g._setChildren([c]),h._callHook("treeStructureChanged",b,"setStatusNode"),g.children[0].statusNodeType=d,h.render()),g.children[0]}var g=b.node,h=b.tree;switch(c){case"ok":!function(){var a=g.children?g.children[0]:null;if(a&&a.isStatusNode()){try{g.ul&&(g.ul.removeChild(a.li),a.li=null)}catch(a){}1===g.children.length?g.children=[]:g.children.shift(),h._callHook("treeStructureChanged",b,"clearStatusNode")}}(),g._isLoading=!1,g._error=null,g.renderStatus();break;case"loading":g.parent||f({title:h.options.strings.loading+(d?" ("+d+")":""),checkbox:!1,tooltip:e},c),g._isLoading=!0,g._error=null,g.renderStatus();break;case"error":f({title:h.options.strings.loadError+(d?" ("+d+")":""),checkbox:!1,tooltip:e},c),g._isLoading=!1,g._error={message:d,details:e},g.renderStatus();break;case"nodata":f({title:d||h.options.strings.noData,checkbox:!1,tooltip:e},c),g._isLoading=!1,g._error=null,g.renderStatus();break;default:a.error("invalid node status "+c)}},nodeToggleExpanded:function(a){return this.nodeSetExpanded(a,!a.node.expanded)},nodeToggleSelected:function(a){var b=a.node,c=!b.selected;return b.partsel&&!b.selected&&!0===b._lastSelectIntent&&(c=!1,b.selected=!0),b._lastSelectIntent=c,this.nodeSetSelected(a,c)},treeClear:function(a){var b=a.tree;b.activeNode=null,b.focusNode=null,b.$div.find(">ul.fancytree-container").empty(),b.rootNode.children=null,b._callHook("treeStructureChanged",a,"clear")},treeCreate:function(a){},treeDestroy:function(a){this.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("fancytree-helper-hidden")},treeInit:function(b){var c=b.tree,d=c.options;c.$container.attr("tabindex",d.tabindex),a.each(D,function(a,b){void 0!==d[b]&&(c.info("Move option "+b+" to tree"),c[b]=d[b],delete d[b])}),d.checkboxAutoHide&&c.$container.addClass("fancytree-checkbox-auto-hide"),d.rtl?c.$container.attr("DIR","RTL").addClass("fancytree-rtl"):c.$container.removeAttr("DIR").removeClass("fancytree-rtl"),d.aria&&(c.$container.attr("role","tree"),1!==d.selectMode&&c.$container.attr("aria-multiselectable",!0)),this.treeLoad(b)},treeLoad:function(c,d){var e,f,g,h=c.tree,i=c.widget.element,j=a.extend({},c,{node:this.rootNode});if(h.rootNode.children&&this.treeClear(c),d=d||this.options.source)"string"==typeof d&&a.error("Not implemented");else switch(f=i.data("type")||"html"){case"html":g=i.find(">ul").not(".fancytree-container").first(),g.length?(g.addClass("ui-fancytree-source fancytree-helper-hidden"),d=a.ui.fancytree.parseHtml(g),this.data=a.extend(this.data,k(g))):(s.warn("No `source` option was passed and container does not contain `<ul>`: assuming `source: []`."),d=[]);break;case"json":d=a.parseJSON(i.text()),i.contents().filter(function(){return 3===this.nodeType}).remove(),a.isPlainObject(d)&&(b(a.isArray(d.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),e=d,d=d.children,delete e.children,a.each(D,function(a,b){void 0!==e[b]&&(h[b]=e[b],delete e[b])}),a.extend(h.data,e));break;default:a.error("Invalid data-type: "+f)}return h._triggerTreeEvent("preInit",null),this.nodeLoadChildren(j,d).done(function(){h._callHook("treeStructureChanged",c,"loadChildren"),h.render(),3===c.options.selectMode&&h.rootNode.fixSelection3FromEndNodes(),h.activeNode&&h.options.activeVisible&&h.activeNode.makeVisible(),h._triggerTreeEvent("init",null,{status:!0})}).fail(function(){h.render(),h._triggerTreeEvent("init",null,{status:!1})})},treeRegisterNode:function(a,b,c){a.tree._callHook("treeStructureChanged",a,b?"addNode":"removeNode")},treeSetFocus:function(b,c,d){var e;(c=!1!==c)!==this.hasFocus()&&(this._hasFocus=c,!c&&this.focusNode?this.focusNode.setFocus(!1):!c||d&&d.calledByNode||a(this.$container).focus(),this.$container.toggleClass("fancytree-treefocus",c),this._triggerTreeEvent(c?"focusTree":"blurTree"),c&&!this.activeNode&&(e=this._lastMousedownNode||this.getFirstChild())&&e.setFocus())},treeSetOption:function(b,c,d){var e=b.tree,f=!0,g=!1,h=!1;switch(c){case"aria":case"checkbox":case"icon":case"minExpandLevel":case"tabindex":g=!0,h=!0;break;case"checkboxAutoHide":e.$container.toggleClass("fancytree-checkbox-auto-hide",!!d);break;case"escapeTitles":case"tooltip":h=!0;break;case"rtl":!1===d?e.$container.removeAttr("DIR").removeClass("fancytree-rtl"):e.$container.attr("DIR","RTL").addClass("fancytree-rtl"),h=!0;break;case"source":f=!1,e._callHook("treeLoad",e,d),h=!0}e.debug("set option "+c+"="+d+" <"+typeof d+">"),f&&(this.widget._super?this.widget._super.call(this.widget,c,d):a.Widget.prototype._setOption.call(this.widget,c,d)),g&&e._callHook("treeCreate",e),h&&e.render(!0,!1)},treeStructureChanged:function(a,b){}}),a.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!0,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,debugLevel:null,disabled:!1,enableAspx:!0,escapeTitles:!1,extensions:[],toggleEffect:{effect:"slideToggle",duration:200},generateIds:!1,icon:!0,idPrefix:"ft_",focusOnSelect:!1,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,nodata:!0,quicksearch:!1,rtl:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading...",loadError:"Load error!",moreData:"More...",noData:"No data."},tabindex:"0",titlesTabbable:!1,tooltip:!1,treeId:null,_classNames:{node:"fancytree-node",folder:"fancytree-folder",animating:"fancytree-animating",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",hasChildren:"fancytree-has-children",active:"fancytree-active",selected:"fancytree-selected",expanded:"fancytree-expanded",lazy:"fancytree-lazy",focused:"fancytree-focused",partload:"fancytree-partload",partsel:"fancytree-partsel",radio:"fancytree-radio",unselectable:"fancytree-unselectable",lastsib:"fancytree-lastsib",loading:"fancytree-loading",error:"fancytree-error",statusNodePrefix:"fancytree-statusnode-"},lazyLoad:null,postProcess:null},_deprecationWarning:function(a){var b=this.tree;b&&b.options.debugLevel>=3&&b.warn("$().fancytree('"+a+"') is deprecated (see https://wwwendt.de/tech/fancytree/doc/jsdoc/Fancytree_Widget.html")},_create:function(){
this.tree=new p(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul").first();var c,d,f,h=this.options,i=h.extensions,j=this.tree;for(f=0;f<i.length;f++)d=i[f],c=a.ui.fancytree._extensions[d],c||a.error("Could not apply extension '"+d+"' (it is not registered, did you forget to include it?)"),this.tree.options[d]=e({},c.options,this.tree.options[d]),b(void 0===this.tree.ext[d],"Extension name must not exist as Fancytree.ext attribute: '"+d+"'"),this.tree.ext[d]={},g(this.tree,j,c,d),j=c;void 0!==h.icons&&(!0===h.icon?(this.tree.warn("'icons' tree option is deprecated since v2.14.0: use 'icon' instead"),h.icon=h.icons):a.error("'icons' tree option is deprecated since v2.14.0: use 'icon' only instead")),void 0!==h.iconClass&&(h.icon?a.error("'iconClass' tree option is deprecated since v2.14.0: use 'icon' only instead"):(this.tree.warn("'iconClass' tree option is deprecated since v2.14.0: use 'icon' instead"),h.icon=h.iconClass)),void 0!==h.tabbable&&(h.tabindex=h.tabbable?"0":"-1",this.tree.warn("'tabbable' tree option is deprecated since v2.17.0: use 'tabindex='"+h.tabindex+"' instead")),this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(a,b){return this.tree._callHook("treeSetOption",this.tree,a,b)},_destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree)},_unbind:function(){var b=this.tree._ns;this.element.off(b),this.tree.$container.off(b),a(document).off(b)},_bind:function(){var b=this,c=this.options,d=this.tree,e=d._ns;this._unbind(),d.$container.on("focusin"+e+" focusout"+e,function(b){var c=s.getNode(b),e="focusin"===b.type;if(!e&&c&&a(b.target).is("a"))return void c.debug("Ignored focusout on embedded <a> element.");if(e){if(d._getExpiringValue("focusin"))return void d.debug("Ignored double focusin.");d._setExpiringValue("focusin",!0,50),c||(c=d._getExpiringValue("mouseDownNode"))&&d.debug("Reconstruct mouse target for focusin from recent event.")}c?d._callHook("nodeSetFocus",d._makeHookContext(c,b),e):d.tbody&&a(b.target).parents("table.fancytree-container > thead").length?d.debug("Ignore focus event outside table body.",b):d._callHook("treeSetFocus",d,e)}).on("selectstart"+e,"span.fancytree-title",function(a){a.preventDefault()}).on("keydown"+e,function(a){if(c.disabled||!1===c.keyboard)return!0;var b,e=d.focusNode,f=d._makeHookContext(e||d,a),g=d.phase;try{return d.phase="userEvent",b=e?d._triggerNodeEvent("keydown",e,a):d._triggerTreeEvent("keydown",a),"preventNav"===b?b=!0:!1!==b&&(b=d._callHook("nodeKeydown",f)),b}finally{d.phase=g}}).on("mousedown"+e,function(a){var b=s.getEventTarget(a);d._lastMousedownNode=b?b.node:null,d._setExpiringValue("mouseDownNode",d._lastMousedownNode)}).on("click"+e+" dblclick"+e,function(a){if(c.disabled)return!0;var d,e=s.getEventTarget(a),f=e.node,g=b.tree,h=g.phase;if(!f)return!0;d=g._makeHookContext(f,a);try{switch(g.phase="userEvent",a.type){case"click":return d.targetType=e.type,f.isPagingNode()?!0===g._triggerNodeEvent("clickPaging",d,a):!1!==g._triggerNodeEvent("click",d,a)&&g._callHook("nodeClick",d);case"dblclick":return d.targetType=e.type,!1!==g._triggerNodeEvent("dblclick",d,a)&&g._callHook("nodeDblclick",d)}}finally{g.phase=h}})},getActiveNode:function(){return this._deprecationWarning("getActiveNode"),this.tree.activeNode},getNodeByKey:function(a){return this._deprecationWarning("getNodeByKey"),this.tree.getNodeByKey(a)},getRootNode:function(){return this._deprecationWarning("getRootNode"),this.tree.rootNode},getTree:function(){return this._deprecationWarning("getTree"),this.tree}}),s=a.ui.fancytree,a.extend(a.ui.fancytree,{version:"2.34.0",buildType:"production",debugLevel:3,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:p,_FancytreeNodeClass:o,jquerySupports:{positionMyOfs:function(b,c,d,e){var f,g,h,i=a.map(a.trim(b).split("."),function(a){return parseInt(a,10)}),j=a.map(Array.prototype.slice.call(arguments,1),function(a){return parseInt(a,10)});for(f=0;f<j.length;f++)if(g=i[f]||0,h=j[f]||0,g!==h)return g>h;return!0}(a.ui.version,1,9)},assert:function(a,c){return b(a,c)},createTree:function(b,c){var d=a(b).fancytree(c);return s.getTree(d)},debounce:function(a,b,c,d){var e;return 3===arguments.length&&"boolean"!=typeof c&&(d=c,c=!1),function(){var f=arguments;d=d||this,c&&!e&&b.apply(d,f),clearTimeout(e),e=setTimeout(function(){c||b.apply(d,f),e=null},a)}},debug:function(b){a.ui.fancytree.debugLevel>=4&&c("log",arguments)},error:function(b){a.ui.fancytree.debugLevel>=1&&c("error",arguments)},escapeHtml:function(a){return(""+a).replace(u,function(a){return w[a]})},fixPositionOptions:function(b){if((b.offset||(""+b.my+b.at).indexOf("%")>=0)&&a.error("expected new position syntax (but '%' is not supported)"),!a.ui.fancytree.jquerySupports.positionMyOfs){var c=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(b.my),d=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(b.at),e=(c[2]?+c[2]:0)+(d[2]?+d[2]:0),f=(c[4]?+c[4]:0)+(d[4]?+d[4]:0);b=a.extend({},b,{my:c[1]+" "+c[3],at:d[1]+" "+d[3]}),(e||f)&&(b.offset=e+" "+f)}return b},getEventTarget:function(b){var c,d,e=b&&b.target?b.target.className:"",f={node:this.getNode(b.target),type:void 0};return/\bfancytree-title\b/.test(e)?f.type="title":/\bfancytree-expander\b/.test(e)?f.type=!1===f.node.hasChildren()?"prefix":"expander":/\bfancytree-checkbox\b/.test(e)?f.type="checkbox":/\bfancytree(-custom)?-icon\b/.test(e)?f.type="icon":/\bfancytree-node\b/.test(e)?f.type="title":b&&b.target&&(c=a(b.target),c.is("ul[role=group]")?(d=f.node&&f.node.tree,(d||s).debug("Ignoring click on outer UL."),f.node=null):c.closest(".fancytree-title").length?f.type="title":c.closest(".fancytree-checkbox").length?f.type="checkbox":c.closest(".fancytree-expander").length&&(f.type="expander")),f},getEventTargetType:function(a){return this.getEventTarget(a).type},getNode:function(b){if(b instanceof o)return b;for(b instanceof a?b=b[0]:void 0!==b.originalEvent&&(b=b.target);b;){if(b.ftnode)return b.ftnode;b=b.parentNode}return null},getTree:function(b){var c,d=b;return b instanceof p?b:(void 0===b&&(b=0),"number"==typeof b?b=a(".fancytree-container").eq(b):"string"==typeof b?(b=a("#ft-id-"+d).eq(0),b.length||(b=a(d).eq(0))):b instanceof Element||b instanceof HTMLDocument?b=a(b):b instanceof a?b=b.eq(0):void 0!==b.originalEvent&&(b=a(b.target)),b=b.closest(":ui-fancytree"),c=b.data("ui-fancytree")||b.data("fancytree"),c?c.tree:null)},evalOption:function(b,c,d,e,f){var g,h,i=c.tree,j=e[b],k=d[b];return a.isFunction(j)?(g={node:c,tree:i,widget:i.widget,options:i.widget.options,typeInfo:i.types[c.type]||{}},null==(h=j.call(i,{type:b},g))&&(h=k)):h=null==k?j:k,null==h&&(h=f),h},setSpanIcon:function(b,c,d){var e=a(b);"string"==typeof d?e.attr("class",c+" "+d):(d.text?e.text(""+d.text):d.html&&(b.innerHTML=d.html),e.attr("class",c+" "+(d.addClass||"")))},eventToString:function(a){var b=a.which,c=a.type,d=[];return a.altKey&&d.push("alt"),a.ctrlKey&&d.push("ctrl"),a.metaKey&&d.push("meta"),a.shiftKey&&d.push("shift"),"click"===c||"dblclick"===c?d.push(A[a.button]+c):"wheel"===c?d.push(c):x[b]||d.push(y[b]||String.fromCharCode(b).toLowerCase()),d.join("+")},info:function(b){a.ui.fancytree.debugLevel>=3&&c("info",arguments)},keyEventToString:function(a){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(a)},overrideMethod:function(b,c,d,e){var f,g=b[c]||a.noop;b[c]=function(){var a=e||this;try{return f=a._super,a._super=g,d.apply(a,arguments)}finally{a._super=f}}},parseHtml:function(b){var c,d,e,f,g,h,i,j,l=b.find(">li"),m=[];return l.each(function(){var l,n,o=a(this),p=o.find(">span",this).first(),q=p.length?null:o.find(">a").first(),r={tooltip:null,data:{}};for(p.length?r.title=p.html():q&&q.length?(r.title=q.html(),r.data.href=q.attr("href"),r.data.target=q.attr("target"),r.tooltip=q.attr("title")):(r.title=o.html(),(g=r.title.search(/<ul/i))>=0&&(r.title=r.title.substring(0,g))),r.title=a.trim(r.title),f=0,h=B.length;f<h;f++)r[B[f]]=void 0;for(c=this.className.split(" "),e=[],f=0,h=c.length;f<h;f++)d=c[f],C[d]?r[d]=!0:e.push(d);if(r.extraClasses=e.join(" "),i=o.attr("title"),i&&(r.tooltip=i),i=o.attr("id"),i&&(r.key=i),o.attr("hideCheckbox")&&(r.checkbox=!1),(l=k(o))&&!a.isEmptyObject(l)){for(n in G)l.hasOwnProperty(n)&&(l[G[n]]=l[n],delete l[n]);for(f=0,h=E.length;f<h;f++)i=E[f],null!=(j=l[i])&&(delete l[i],r[i]=j);a.extend(r.data,l)}b=o.find(">ul").first(),b.length?r.children=a.ui.fancytree.parseHtml(b):r.children=r.lazy?void 0:null,m.push(r)}),m},registerExtension:function(c){b(null!=c.name,"extensions must have a `name` property."),b(null!=c.version,"extensions must have a `version` property."),a.ui.fancytree._extensions[c.name]=c},unescapeHtml:function(a){var b=document.createElement("div");return b.innerHTML=a,0===b.childNodes.length?"":b.childNodes[0].nodeValue},warn:function(b){a.ui.fancytree.debugLevel>=2&&c("warn",arguments)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";return a.ui.fancytree._FancytreeClass.prototype.countSelected=function(a){var b=this;b.options;return b.getSelectedNodes(a).length},a.ui.fancytree._FancytreeNodeClass.prototype.updateCounters=function(){var b=this,c=a("span.fancytree-childcounter",b.span),d=b.tree.options.childcounter,e=b.countChildren(d.deep);b.data.childCounter=e,!e&&d.hideZeros||b.isExpanded()&&d.hideExpanded?c.remove():(c.length||(c=a("<span class='fancytree-childcounter'/>").appendTo(a("span.fancytree-icon,span.fancytree-custom-icon",b.span))),c.text(e)),!d.deep||b.isTopLevel()||b.isRoot()||b.parent.updateCounters()},a.ui.fancytree.prototype.widgetMethod1=function(a){this.tree;return a},a.ui.fancytree.registerExtension({name:"childcounter",version:"2.34.0",options:{deep:!0,hideZeros:!0,hideExpanded:!1},foo:42,_appendCounter:function(a){},treeInit:function(a){a.options,a.options.childcounter;this._superApply(arguments),this.$container.addClass("fancytree-ext-childcounter")},treeDestroy:function(a){this._superApply(arguments)},nodeRenderTitle:function(b,c){var d=b.node,e=b.options.childcounter,f=null==d.data.childCounter?d.countChildren(e.deep):+d.data.childCounter;this._super(b,c),!f&&e.hideZeros||d.isExpanded()&&e.hideExpanded||a("span.fancytree-icon,span.fancytree-custom-icon",d.span).append(a("<span class='fancytree-childcounter'/>").text(f))},nodeSetExpanded:function(a,b,c){var d=a.tree;a.node;return this._superApply(arguments).always(function(){d.nodeRenderTitle(a)})}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c){b||(c=c?": "+c:"",a.error("Assertion failed"+c))}function c(a,b){var c;for(c=a.length-1;c>=0;c--)if(a[c]===b)return a.splice(c,1),!0;return!1}function d(a,b,c){for(var d,e,f=3&a.length,g=a.length-f,h=c,i=3432918353,j=461845907,k=0;k<g;)e=255&a.charCodeAt(k)|(255&a.charCodeAt(++k))<<8|(255&a.charCodeAt(++k))<<16|(255&a.charCodeAt(++k))<<24,++k,e=(65535&e)*i+(((e>>>16)*i&65535)<<16)&4294967295,e=e<<15|e>>>17,e=(65535&e)*j+(((e>>>16)*j&65535)<<16)&4294967295,h^=e,h=h<<13|h>>>19,d=5*(65535&h)+((5*(h>>>16)&65535)<<16)&4294967295,h=27492+(65535&d)+((58964+(d>>>16)&65535)<<16);switch(e=0,f){case 3:e^=(255&a.charCodeAt(k+2))<<16;case 2:e^=(255&a.charCodeAt(k+1))<<8;case 1:e^=255&a.charCodeAt(k),e=(65535&e)*i+(((e>>>16)*i&65535)<<16)&4294967295,e=e<<15|e>>>17,e=(65535&e)*j+(((e>>>16)*j&65535)<<16)&4294967295,h^=e}return h^=a.length,h^=h>>>16,h=2246822507*(65535&h)+((2246822507*(h>>>16)&65535)<<16)&4294967295,h^=h>>>13,h=3266489909*(65535&h)+((3266489909*(h>>>16)&65535)<<16)&4294967295,h^=h>>>16,b?("0000000"+(h>>>0).toString(16)).substr(-8):h>>>0}function e(b){var c,e=a.map(b.getParentList(!1,!0),function(a){return a.refKey||a.key});return e=e.join("/"),c=d(e,!0),"id_"+c+d(c+e,!0)}return a.ui.fancytree._FancytreeNodeClass.prototype.getCloneList=function(b){var c,d=this.tree,e=d.refMap[this.refKey]||null,f=d.keyMap;return e&&(c=this.key,b?e=a.map(e,function(a){return f[a]}):(e=a.map(e,function(a){return a===c?null:f[a]}),e.length<1&&(e=null))),e},a.ui.fancytree._FancytreeNodeClass.prototype.isClone=function(){var a=this.refKey||null,b=a&&this.tree.refMap[a]||null;return!!(b&&b.length>1)},a.ui.fancytree._FancytreeNodeClass.prototype.reRegister=function(b,c){b=null==b?null:""+b,c=null==c?null:""+c;var d=this.tree,e=this.key,f=this.refKey,g=d.keyMap,h=d.refMap,i=h[f]||null,j=!1;return null!=b&&b!==this.key&&(g[b]&&a.error("[ext-clones] reRegister("+b+"): already exists: "+this),delete g[e],g[b]=this,i&&(h[f]=a.map(i,function(a){return a===e?b:a})),this.key=b,j=!0),null!=c&&c!==this.refKey&&(i&&(1===i.length?delete h[f]:h[f]=a.map(i,function(a){return a===e?null:a})),h[c]?h[c].append(b):h[c]=[this.key],this.refKey=c,j=!0),j},a.ui.fancytree._FancytreeNodeClass.prototype.setRefKey=function(a){return this.reRegister(null,a)},a.ui.fancytree._FancytreeClass.prototype.getNodesByRef=function(b,c){var d=this.keyMap,e=this.refMap[b]||null;return e&&(e=c?a.map(e,function(a){var b=d[a];return b.isDescendantOf(c)?b:null}):a.map(e,function(a){return d[a]}),e.length<1&&(e=null)),e},a.ui.fancytree._FancytreeClass.prototype.changeRefKey=function(a,b){var c,d,e=this.keyMap,f=this.refMap[a]||null;if(f){for(c=0;c<f.length;c++)d=e[f[c]],d.refKey=b;delete this.refMap[a],this.refMap[b]=f}},a.ui.fancytree.registerExtension({name:"clones",version:"2.34.0",options:{highlightActiveClones:!0,highlightClones:!1},treeCreate:function(a){this._superApply(arguments),a.tree.refMap={},a.tree.keyMap={}},treeInit:function(a){this.$container.addClass("fancytree-ext-clones"),b(null==a.options.defaultKey),a.options.defaultKey=function(a){return e(a)},this._superApply(arguments)},treeClear:function(a){return a.tree.refMap={},a.tree.keyMap={},this._superApply(arguments)},treeRegisterNode:function(d,e,f){var g,h,i=d.tree,j=i.keyMap,k=i.refMap,l=f.key,m=f&&null!=f.refKey?""+f.refKey:null;if(f.isStatusNode())return this._super(d,e,f);if(e){if(null!=j[f.key]){var n=j[f.key],o="clones.treeRegisterNode: duplicate key '"+f.key+"': /"+f.getPath(!0)+" => "+n.getPath(!0);i.error(o),a.error(o)}j[l]=f,m&&(g=k[m],g?(g.push(l),2===g.length&&d.options.clones.highlightClones&&j[g[0]].renderStatus()):k[m]=[l])}else null==j[l]&&a.error("clones.treeRegisterNode: node.key not registered: "+f.key),delete j[l],m&&(g=k[m])&&(h=g.length,h<=1?(b(1===h),b(g[0]===l),delete k[m]):(c(g,l),2===h&&d.options.clones.highlightClones&&j[g[0]].renderStatus()));return this._super(d,e,f)},nodeRenderStatus:function(b){var c,d,e=b.node;return d=this._super(b),b.options.clones.highlightClones&&(c=a(e[b.tree.statusClassPropName]),c.length&&e.isClone()&&c.addClass("fancytree-clone")),d},nodeSetActive:function(b,c,d){var e,f=b.tree.statusClassPropName,g=b.node;return e=this._superApply(arguments),b.options.clones.highlightActiveClones&&g.isClone()&&a.each(g.getCloneList(!0),function(b,d){a(d[f]).toggleClass("fancytree-active-clone",!1!==c)}),e}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/draggable","jquery-ui/ui/widgets/droppable","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(a){return 0===a?"":a>0?"+"+a:""+a}function c(){e||(a.ui.plugin.add("draggable","connectToFancytree",{start:function(b,c){var d=a(this).data("ui-draggable")||a(this).data("draggable"),e=c.helper.data("ftSourceNode")||null;if(e)return d.offset.click.top=-2,d.offset.click.left=16,e.tree.ext.dnd._onDragEvent("start",e,null,b,c,d)},drag:function(b,c){var d,e,f=a(this).data("ui-draggable")||a(this).data("draggable"),g=c.helper.data("ftSourceNode")||null,h=c.helper.data("ftTargetNode")||null,i=a.ui.fancytree.getNode(b.target),j=g&&g.tree.options.dnd;if(b.target&&!i&&a(b.target).closest("div.fancytree-drag-helper,#fancytree-drop-marker").length>0)return e=g||h||a.ui.fancytree,void e.debug("Drag event over helper: ignored.");c.helper.data("ftTargetNode",i),j&&j.updateHelper&&(d=g.tree._makeHookContext(g,b,{otherNode:i,ui:c,draggable:f,dropMarker:a("#fancytree-drop-marker")}),j.updateHelper.call(g.tree,g,d)),h&&h!==i&&h.tree.ext.dnd._onDragEvent("leave",h,g,b,c,f),i&&i.tree.options.dnd.dragDrop&&(i===h?i.tree.ext.dnd._onDragEvent("over",i,g,b,c,f):(i.tree.ext.dnd._onDragEvent("enter",i,g,b,c,f),i.tree.ext.dnd._onDragEvent("over",i,g,b,c,f)))},stop:function(b,c){var d,e=a(this).data("ui-draggable")||a(this).data("draggable"),f=c.helper.data("ftSourceNode")||null,g=c.helper.data("ftTargetNode")||null,h="mouseup"===b.type&&1===b.which;h||(d=f||g||a.ui.fancytree,d.debug("Drag was cancelled")),g&&(h&&g.tree.ext.dnd._onDragEvent("drop",g,f,b,c,e),g.tree.ext.dnd._onDragEvent("leave",g,f,b,c,e)),f&&f.tree.ext.dnd._onDragEvent("stop",f,null,b,c,e)}}),e=!0)}function d(b){var d=b.options.dnd||null,e=b.options.glyph||null;d&&c(),d&&d.dragStart&&b.widget.element.draggable(a.extend({addClasses:!1,appendTo:b.$container,containment:!1,delay:0,distance:4,revert:!1,scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToFancytree:!0,helper:function(b){var c,d,f,g=a.ui.fancytree.getNode(b.target);return g?(f=g.tree.options.dnd,d=a(g.span),c=a("<div class='fancytree-drag-helper'><span class='fancytree-drag-helper-img' /></div>").css({zIndex:3,position:"relative"}).append(d.find("span.fancytree-title").clone()),c.data("ftSourceNode",g),e&&c.find(".fancytree-drag-helper-img").addClass(e.map._addClass+" "+e.map.dragHelper),f.initHelper&&f.initHelper.call(g.tree,g,{node:g,tree:g.tree,originalEvent:b,ui:{helper:c}}),c):"<div>ERROR?: helper requested but sourceNode not found</div>"},start:function(a,b){return!!b.helper.data("ftSourceNode")}},b.options.dnd.draggable)),d&&d.dragDrop&&b.widget.element.droppable(a.extend({addClasses:!1,tolerance:"intersect",greedy:!1},b.options.dnd.droppable))}var e=!1;return a.ui.fancytree.registerExtension({name:"dnd",version:"2.34.0",options:{autoExpandMS:1e3,draggable:null,droppable:null,focusOnClick:!1,preventVoidMoves:!0,preventRecursiveMoves:!0,smartRevert:!0,dropMarkerOffsetX:-24,dropMarkerInsertOffsetX:-16,dragStart:null,dragStop:null,initHelper:null,updateHelper:null,dragEnter:null,dragOver:null,dragExpand:null,dragDrop:null,dragLeave:null},treeInit:function(b){var c=b.tree;this._superApply(arguments),c.options.dnd.dragStart&&c.$container.on("mousedown",function(c){if(b.options.dnd.focusOnClick){var d=a.ui.fancytree.getNode(c);d&&d.debug("Re-enable focus that was prevented by jQuery UI draggable."),setTimeout(function(){a(c.target).closest(":tabbable").focus()},10)}}),d(c)},_setDndStatus:function(c,d,e,f,g){var h,i,j="center",k=this._local,l=this.options.dnd,m=this.options.glyph,n=c?a(c.span):null,o=a(d.span),p=o.find("span.fancytree-title");if(k.$dropMarker||(k.$dropMarker=a("<div id='fancytree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo(a(this.$div).parent()),m&&k.$dropMarker.addClass(m.map._addClass+" "+m.map.dropMarker)),"after"===f||"before"===f||"over"===f){switch(h=l.dropMarkerOffsetX||0,f){case"before":j="top",h+=l.dropMarkerInsertOffsetX||0;break;case"after":j="bottom",h+=l.dropMarkerInsertOffsetX||0}i={my:"left"+b(h)+" center",at:"left "+j,of:p},this.options.rtl&&(i.my="right"+b(-h)+" center",i.at="right "+j),k.$dropMarker.toggleClass("fancytree-drop-after","after"===f).toggleClass("fancytree-drop-over","over"===f).toggleClass("fancytree-drop-before","before"===f).toggleClass("fancytree-rtl",!!this.options.rtl).show().position(a.ui.fancytree.fixPositionOptions(i))}else k.$dropMarker.hide();n&&n.toggleClass("fancytree-drop-accept",!0===g).toggleClass("fancytree-drop-reject",!1===g),o.toggleClass("fancytree-drop-target","after"===f||"before"===f||"over"===f).toggleClass("fancytree-drop-after","after"===f).toggleClass("fancytree-drop-before","before"===f).toggleClass("fancytree-drop-accept",!0===g).toggleClass("fancytree-drop-reject",!1===g),e.toggleClass("fancytree-drop-accept",!0===g).toggleClass("fancytree-drop-reject",!1===g)},_onDragEvent:function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=this.options,r=q.dnd,s=this._makeHookContext(c,e,{otherNode:d,ui:f,draggable:g}),t=null,u=this,v=a(c.span);switch(r.smartRevert&&(g.options.revert="invalid"),b){case"start":c.isStatusNode()?t=!1:r.dragStart&&(t=r.dragStart(c,s)),!1===t?(this.debug("tree.dragStart() cancelled"),f.helper.trigger("mouseup").hide()):(r.smartRevert&&(k=c[s.tree.nodeContainerAttrName].getBoundingClientRect(),j=a(g.options.appendTo)[0].getBoundingClientRect(),g.originalPosition.left=Math.max(0,k.left-j.left),g.originalPosition.top=Math.max(0,k.top-j.top)),v.addClass("fancytree-drag-source"),a(document).on("keydown.fancytree-dnd,mousedown.fancytree-dnd",function(b){"keydown"===b.type&&b.which===a.ui.keyCode.ESCAPE?u.ext.dnd._cancelDrag():"mousedown"===b.type&&u.ext.dnd._cancelDrag()}));break;case"enter":p=(!r.preventRecursiveMoves||!c.isDescendantOf(d))&&(r.dragEnter?r.dragEnter(c,s):null),t=!!p&&(a.isArray(p)?{over:a.inArray("over",p)>=0,before:a.inArray("before",p)>=0,after:a.inArray("after",p)>=0}:{over:!0===p||"over"===p,before:!0===p||"before"===p,after:!0===p||"after"===p}),f.helper.data("enterResponse",t);break;case"over":n=f.helper.data("enterResponse"),o=null,!1===n||("string"==typeof n?o=n:(i=v.offset(),l={x:e.pageX-i.left,y:e.pageY-i.top},m={x:l.x/v.width(),y:l.y/v.height()},n.after&&m.y>.75?o="after":!n.over&&n.after&&m.y>.5?o="after":n.before&&m.y<=.25?o="before":!n.over&&n.before&&m.y<=.5?o="before":n.over&&(o="over"),r.preventVoidMoves&&(c===d?(this.debug("    drop over source node prevented"),o=null):"before"===o&&d&&c===d.getNextSibling()?(this.debug("    drop after source node prevented"),o=null):"after"===o&&d&&c===d.getPrevSibling()?(this.debug("    drop before source node prevented"),o=null):"over"===o&&d&&d.parent===c&&d.isLastSibling()&&(this.debug("    drop last child over own parent prevented"),o=null)),f.helper.data("hitMode",o))),"before"===o||"after"===o||!r.autoExpandMS||!1===c.hasChildren()||c.expanded||r.dragExpand&&!1===r.dragExpand(c,s)||c.scheduleAction("expand",r.autoExpandMS),o&&r.dragOver&&(s.hitMode=o,t=r.dragOver(c,s)),h=!1!==t&&null!==o,r.smartRevert&&(g.options.revert=!h),this._local._setDndStatus(d,c,f.helper,o,h);break;case"drop":o=f.helper.data("hitMode"),o&&r.dragDrop&&(s.hitMode=o,r.dragDrop(c,s));break;case"leave":c.scheduleAction("cancel"),f.helper.data("enterResponse",null),f.helper.data("hitMode",null),this._local._setDndStatus(d,c,f.helper,"out",void 0),r.dragLeave&&r.dragLeave(c,s);break;case"stop":v.removeClass("fancytree-drag-source"),a(document).off(".fancytree-dnd"),r.dragStop&&r.dragStop(c,s);break;default:a.error("Unsupported drag event: "+b)}return t},_cancelDrag:function(){var b=a.ui.ddmanager.current;b&&b.cancel()}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(){C=null,H=null,E=null,F=null,D=null,z=null,A=null,B&&B.removeClass(p+" "+q),B=null,y&&y.hide(),m&&(m.remove(),m=null)}function c(a){return 0===a?"":a>0?"+"+a:""+a}function d(b){var c;return!!b&&(c=a.isPlainObject(b)?{over:!!b.over,before:!!b.before,after:!!b.after}:a.isArray(b)?{over:a.inArray("over",b)>=0,before:a.inArray("before",b)>=0,after:a.inArray("after",b)>=0}:{over:!0===b||"over"===b,before:!0===b||"before"===b,after:!0===b||"after"===b},0!==Object.keys(c).length&&c)}function e(b,c){var d,e,f=b.options.dnd5,g=b.$scrollParent[0],h=f.scrollSensitivity,i=f.scrollSpeed,j=0;return g!==document&&"HTML"!==g.tagName?(d=b.$scrollParent.offset(),e=g.scrollTop,d.top+g.offsetHeight-c.pageY<h?g.scrollHeight-b.$scrollParent.innerHeight()-e>0&&(g.scrollTop=j=e+i):e>0&&c.pageY-d.top<h&&(g.scrollTop=j=e-i)):(e=a(document).scrollTop(),e>0&&c.pageY-e<h?(j=e-i,a(document).scrollTop(j)):a(window).height()-(c.pageY-e)<h&&(j=e+i,a(document).scrollTop(j))),j&&b.debug("autoScroll: "+j+"px"),j}function f(a,b,c){var d=c;return o?b.metaKey&&b.altKey?d="link":b.ctrlKey?d="link":b.metaKey?d="move":b.altKey&&(d="copy"):b.ctrlKey?d="copy":b.shiftKey?d="move":b.altKey&&(d="link"),d!==D&&a.info("evalEffectModifiers: "+b.type+" - evalEffectModifiers(): "+D+" -> "+d),D=d,d}function g(a,b){var c=b.tree,d=b.dataTransfer;"dragstart"===a.type?(b.effectAllowed=c.options.dnd5.effectAllowed,b.dropEffect=c.options.dnd5.dropEffectDefault):(b.effectAllowed=F,b.dropEffect=E),b.dropEffectSuggested=f(c,a,c.options.dnd5.dropEffectDefault),b.isMove="move"===b.dropEffect,b.files=d.files||[]}function h(a,b,c){var d=b.tree,e=b.dataTransfer;return"dragstart"!==a.type&&F!==b.effectAllowed&&d.warn("effectAllowed should only be changed in dragstart event: "+a.type+": data.effectAllowed changed from "+F+" -> "+b.effectAllowed),!1===c&&(d.info("applyDropEffectCallback: allowDrop === false"),b.effectAllowed="none",b.dropEffect="none"),b.isMove="move"===b.dropEffect,F=b.effectAllowed,E=b.dropEffect,e.effectAllowed=F,e.dropEffect=E,E}function i(b,d){if(d.options.dnd5.scroll&&e(d.tree,b),!d.node)return d.tree.warn("Ignored dragover for non-node"),G;var f,i,j,k,l=null,m=d.tree,o=m.options,p=o.dnd5,q=d.node,x=d.otherNode,z="center",A=a(q.span),B=A.find("span.fancytree-title");if(!1===C)return m.debug("Ignored dragover, since dragenter returned false."),!1;if("string"==typeof C&&a.error("assert failed: dragenter returned string"),i=A.offset(),k=(b.pageY-i.top)/A.height(),C.after&&k>.75?l="after":!C.over&&C.after&&k>.5?l="after":C.before&&k<=.25?l="before":!C.over&&C.before&&k<=.5?l="before":C.over&&(l="over"),p.preventVoidMoves&&"move"===d.dropEffect&&(q===x?(q.debug("Drop over source node prevented."),l=null):"before"===l&&x&&q===x.getNextSibling()?(q.debug("Drop after source node prevented."),l=null):"after"===l&&x&&q===x.getPrevSibling()?(q.debug("Drop before source node prevented."),l=null):"over"===l&&x&&x.parent===q&&x.isLastSibling()&&(q.debug("Drop last child over own parent prevented."),l=null)),d.hitMode=l,l&&p.dragOver){g(b,d),p.dragOver(q,d);h(b,d,!!l),l=d.hitMode}if(G=l,"after"===l||"before"===l||"over"===l){switch(f=p.dropMarkerOffsetX||0,l){case"before":z="top",f+=p.dropMarkerInsertOffsetX||0;break;case"after":z="bottom",f+=p.dropMarkerInsertOffsetX||0}j={my:"left"+c(f)+" center",at:"left "+z,of:B},o.rtl&&(j.my="right"+c(-f)+" center",j.at="right "+z),y.toggleClass(s,"after"===l).toggleClass(u,"over"===l).toggleClass(t,"before"===l).show().position(n.fixPositionOptions(j))}else y.hide();return a(q.span).toggleClass(w,"after"===l||"before"===l||"over"===l).toggleClass(s,"after"===l).toggleClass(t,"before"===l).toggleClass(r,"over"===l).toggleClass(v,!1===l),l}function j(c){var d,e=this,f=e.options.dnd5,i=n.getNode(c),j=c.dataTransfer||c.originalEvent.dataTransfer,k={tree:e,node:i,options:e.options,originalEvent:c.originalEvent,widget:e.widget,dataTransfer:j,useDefaultImage:!0,dropEffect:void 0,dropEffectSuggested:void 0,effectAllowed:void 0,files:void 0,isCancelled:void 0,isMove:void 0};switch(c.type){case"dragstart":if(!i)return e.info("Ignored dragstart on a non-node."),!1;z=i,!1===f.multiSource?A=[i]:!0===f.multiSource?(A=e.getSelectedNodes(),i.isSelected()||A.unshift(i)):A=f.multiSource(i,k),B=a(a.map(A,function(a){return a.span})),B.addClass(p);var o=i.toDict();o.treeId=i.tree._id,d=JSON.stringify(o);try{j.setData(x,d),j.setData("text/html",a(i.span).html()),j.setData("text/plain",i.title)}catch(a){e.warn("Could not set data (IE only accepts 'text') - "+a)}return f.setTextTypeJson?j.setData("text",d):j.setData("text",i.title),(g(c,k),!1===f.dragStart(i,k))?(b(),!1):(h(c,k),m=null,k.useDefaultImage&&(l=a(i.span).find(".fancytree-title"),A&&A.length>1&&(m=a("<span class='fancytree-childcounter'/>").text("+"+(A.length-1)).appendTo(l)),j.setDragImage&&j.setDragImage(l[0],-10,-10)),!0);case"drag":g(c,k),f.dragDrag(i,k),h(c,k),B.toggleClass(q,k.isMove);break;case"dragend":g(c,k),b(),k.isCancelled=!G,f.dragEnd(i,k,!G)}}function k(c){var e,f,j,k,l,m,o=this,p=o.options.dnd5,q=null,s=n.getNode(c),t=c.dataTransfer||c.originalEvent.dataTransfer,w={tree:o,node:s,options:o.options,originalEvent:c.originalEvent,widget:o.widget,hitMode:C,dataTransfer:t,otherNode:z||null,otherNodeList:A||null,otherNodeData:null,useDefaultImage:!0,dropEffect:void 0,dropEffectSuggested:void 0,effectAllowed:void 0,files:null,isCancelled:void 0,isMove:void 0};switch(c.type){case"dragenter":if(H=null,!s){o.debug("Ignore non-node "+c.type+": "+c.target.tagName+"."+c.target.className),C=!1;break}if(a(s.span).addClass(u).removeClass(r+" "+v),k=a.inArray(x,t.types)>=0,p.preventNonNodes&&!k){s.debug("Reject dropping a non-node."),C=!1;break}if(p.preventForeignNodes&&(!z||z.tree!==s.tree)){s.debug("Reject dropping a foreign node."),C=!1;break}if(p.preventSameParent&&w.otherNode&&w.otherNode.tree===s.tree&&s.parent===w.otherNode.parent){s.debug("Reject dropping as sibling (same parent)."),C=!1;break}if(p.preventRecursion&&w.otherNode&&w.otherNode.tree===s.tree&&s.isDescendantOf(w.otherNode)){s.debug("Reject dropping below own ancestor."),C=!1;break}y.show(),g(c,w),l=p.dragEnter(s,w),m=d(l),C=m,q=m&&(m.over||m.before||m.after),h(c,w,q);break;case"dragover":if(!s){o.debug("Ignore non-node "+c.type+": "+c.target.tagName+"."+c.target.className);break}g(c,w),G=i(c,w),q=!!G,f="over"===G||!1===G,f&&!s.expanded&&!1!==s.hasChildren()?H?p.autoExpandMS&&Date.now()-H>p.autoExpandMS&&(!p.dragExpand||!1!==p.dragExpand(s,w))&&s.setExpanded():H=Date.now():H=null;break;case"dragleave":if(!s){o.debug("Ignore non-node "+c.type+": "+c.target.tagName+"."+c.target.className);break}if(!a(s.span).hasClass(u)){s.debug("Ignore dragleave (multi).");break}a(s.span).removeClass(u+" "+r+" "+v),s.scheduleAction("cancel"),p.dragLeave(s,w),y.hide();break;case"drop":if(a.inArray(x,t.types)>=0&&(j=t.getData(x),o.info(c.type+": getData('application/x-fancytree-node'): '"+j+"'")),j||(j=t.getData("text"),o.info(c.type+": getData('text'): '"+j+"'")),j)try{e=JSON.parse(j),void 0!==e.title&&(w.otherNodeData=e)}catch(a){}o.debug(c.type+": nodeData: '"+j+"', otherNodeData: ",w.otherNodeData),a(s.span).removeClass(u+" "+r+" "+v),w.hitMode=G,g(c,w,!G),w.isCancelled=!G;var B=z&&z.span,D=z&&z.tree;p.dragDrop(s,w),c.preventDefault(),B&&!document.body.contains(B)&&(D===o?(o.debug("Drop handler removed source element: generating dragEnd."),p.dragEnd(z,w)):o.warn("Drop handler removed source element: dragend event may be lost.")),b()}if(q)return c.preventDefault(),!1}var l,m,n=a.ui.fancytree,o=/Mac/.test(navigator.platform),p="fancytree-drag-source",q="fancytree-drag-remove",r="fancytree-drop-accept",s="fancytree-drop-after",t="fancytree-drop-before",u="fancytree-drop-over",v="fancytree-drop-reject",w="fancytree-drop-target",x="application/x-fancytree-node",y=null,z=null,A=null,B=null,C=null,D=null,E=null,F=null,G=null,H=null;return a.ui.fancytree.getDragNodeList=function(){return A||[]},a.ui.fancytree.getDragNode=function(){return z},a.ui.fancytree.registerExtension({name:"dnd5",version:"2.34.0",options:{autoExpandMS:1500,dropMarkerInsertOffsetX:-16,dropMarkerOffsetX:-24,multiSource:!1,effectAllowed:"all",dropEffectDefault:"move",preventForeignNodes:!1,preventNonNodes:!1,preventRecursion:!0,preventSameParent:!1,preventVoidMoves:!0,scroll:!0,scrollSensitivity:20,scrollSpeed:5,setTextTypeJson:!1,dragStart:null,dragDrag:a.noop,dragEnd:a.noop,dragEnter:null,dragOver:a.noop,dragExpand:a.noop,dragDrop:a.noop,dragLeave:a.noop},treeInit:function(b){var c,d=b.tree,e=b.options,f=e.glyph||null,g=e.dnd5
;a.inArray("dnd",e.extensions)>=0&&a.error("Extensions 'dnd' and 'dnd5' are mutually exclusive."),g.dragStop&&a.error("dragStop is not used by ext-dnd5. Use dragEnd instead."),null!=g.preventRecursiveMoves&&a.error("preventRecursiveMoves was renamed to preventRecursion."),g.dragStart&&n.overrideMethod(b.options,"createNode",function(a,b){this._super.apply(this,arguments),b.node.span?b.node.span.draggable=!0:b.node.warn("Cannot add `draggable`: no span tag")}),this._superApply(arguments),this.$container.addClass("fancytree-ext-dnd5"),c=a("<span>").appendTo(this.$container),this.$scrollParent=c.scrollParent(),c.remove(),y=a("#fancytree-drop-marker"),y.length||(y=a("<div id='fancytree-drop-marker'></div>").hide().css({"z-index":1e3,"pointer-events":"none"}).prependTo("body"),f&&n.setSpanIcon(y[0],f.map._addClass,f.map.dropMarker)),y.toggleClass("fancytree-rtl",!!e.rtl),g.dragStart&&d.$container.on("dragstart drag dragend",j.bind(d)),g.dragEnter&&d.$container.on("dragenter dragover dragleave drop",k.bind(d))}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";var b=/Mac/.test(navigator.platform),c=a.ui.fancytree.escapeHtml,d=a.ui.fancytree.unescapeHtml;return a.ui.fancytree._FancytreeNodeClass.prototype.editStart=function(){var b,c=this,e=this.tree,f=e.ext.edit,g=e.options.edit,h=a(".fancytree-title",c.span),i={node:c,tree:e,options:e.options,isNew:a(c[e.statusClassPropName]).hasClass("fancytree-edit-new"),orgTitle:c.title,input:null,dirty:!1};if(!1===g.beforeEdit.call(c,{type:"beforeEdit"},i))return!1;a.ui.fancytree.assert(!f.currentNode,"recursive edit"),f.currentNode=this,f.eventData=i,e.widget._unbind(),f.lastDraggableAttrValue=c.span.draggable,f.lastDraggableAttrValue&&(c.span.draggable=!1),a(document).on("mousedown.fancytree-edit",function(b){a(b.target).hasClass("fancytree-edit-input")||c.editEnd(!0,b)}),b=a("<input />",{class:"fancytree-edit-input",type:"text",value:e.options.escapeTitles?i.orgTitle:d(i.orgTitle)}),f.eventData.input=b,null!=g.adjustWidthOfs&&b.width(h.width()+g.adjustWidthOfs),null!=g.inputCss&&b.css(g.inputCss),h.html(b),b.focus().change(function(a){b.addClass("fancytree-edit-dirty")}).on("keydown",function(b){switch(b.which){case a.ui.keyCode.ESCAPE:c.editEnd(!1,b);break;case a.ui.keyCode.ENTER:return c.editEnd(!0,b),!1}b.stopPropagation()}).blur(function(a){return c.editEnd(!0,a)}),g.edit.call(c,{type:"edit"},i)},a.ui.fancytree._FancytreeNodeClass.prototype.editEnd=function(b,d){var e,f=this,g=this.tree,h=g.ext.edit,i=h.eventData,j=g.options.edit,k=a(".fancytree-title",f.span),l=k.find("input.fancytree-edit-input");return j.trim&&l.val(a.trim(l.val())),e=l.val(),i.dirty=e!==f.title,i.originalEvent=d,!1===b?i.save=!1:i.isNew?i.save=""!==e:i.save=i.dirty&&""!==e,!1!==j.beforeClose.call(f,{type:"beforeClose"},i)&&((!i.save||!1!==j.save.call(f,{type:"save"},i))&&(l.removeClass("fancytree-edit-dirty").off(),a(document).off(".fancytree-edit"),i.save?(f.setTitle(g.options.escapeTitles?e:c(e)),f.setFocus()):i.isNew?(f.remove(),f=i.node=null,h.relatedNode.setFocus()):(f.renderTitle(),f.setFocus()),h.eventData=null,h.currentNode=null,h.relatedNode=null,g.widget._bind(),h.lastDraggableAttrValue&&(f.span.draggable=!0),a(g.$container).focus(),i.input=null,j.close.call(f,{type:"close"},i),!0))},a.ui.fancytree._FancytreeNodeClass.prototype.editCreateNode=function(b,c){var d,e=this.tree,f=this;if(b=b||"child",null==c?c={title:""}:"string"==typeof c?c={title:c}:a.ui.fancytree.assert(a.isPlainObject(c)),"child"===b&&!this.isExpanded()&&!1!==this.hasChildren())return void this.setExpanded().done(function(){f.editCreateNode(b,c)});d=this.addNode(c,b),d.match=!0,a(d[e.statusClassPropName]).removeClass("fancytree-hide").addClass("fancytree-match"),d.makeVisible().done(function(){a(d[e.statusClassPropName]).addClass("fancytree-edit-new"),f.tree.ext.edit.relatedNode=f,d.editStart()})},a.ui.fancytree._FancytreeClass.prototype.isEditing=function(){return this.ext.edit?this.ext.edit.currentNode:null},a.ui.fancytree._FancytreeNodeClass.prototype.isEditing=function(){return!!this.tree.ext.edit&&this.tree.ext.edit.currentNode===this},a.ui.fancytree.registerExtension({name:"edit",version:"2.34.0",options:{adjustWidthOfs:4,allowEmpty:!1,inputCss:{minWidth:"3em"},triggerStart:["f2","mac+enter","shift+click"],trim:!0,beforeClose:a.noop,beforeEdit:a.noop,close:a.noop,edit:a.noop,save:a.noop},currentNode:null,treeInit:function(a){var b=a.tree;this._superApply(arguments),this.$container.addClass("fancytree-ext-edit").on("fancytreebeforeupdateviewport",function(a,c){var d=b.isEditing();d&&(d.info("Cancel edit due to scroll event."),d.editEnd(!1,a))})},nodeClick:function(b){var c=a.ui.fancytree.eventToString(b.originalEvent),d=b.options.edit.triggerStart;return"shift+click"===c&&a.inArray("shift+click",d)>=0&&b.originalEvent.shiftKey?(b.node.editStart(),!1):"click"===c&&a.inArray("clickActive",d)>=0&&b.node.isActive()&&!b.node.isEditing()&&a(b.originalEvent.target).hasClass("fancytree-title")?(b.node.editStart(),!1):this._superApply(arguments)},nodeDblclick:function(b){return a.inArray("dblclick",b.options.edit.triggerStart)>=0?(b.node.editStart(),!1):this._superApply(arguments)},nodeKeydown:function(c){switch(c.originalEvent.which){case 113:if(a.inArray("f2",c.options.edit.triggerStart)>=0)return c.node.editStart(),!1;break;case a.ui.keyCode.ENTER:if(a.inArray("mac+enter",c.options.edit.triggerStart)>=0&&b)return c.node.editStart(),!1}return this._superApply(arguments)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function c(b){return b.indexOf(">")>=0?a("<div/>").html(b).text():b}var d=a.ui.fancytree.escapeHtml;return a.ui.fancytree._FancytreeClass.prototype._applyFilterImpl=function(e,f,g){var h,i,j,k,l,m,n=0,o=this.options,p=o.escapeTitles,q=o.autoCollapse,r=a.extend({},o.filter,g),s="hide"===r.mode,t=!!r.leavesOnly&&!f;if("string"==typeof e){if(""===e)return this.warn("Fancytree passing an empty string as a filter is handled as clearFilter()."),void this.clearFilter();h=r.fuzzy?e.split("").reduce(function(a,b){return a+"[^"+b+"]*"+b}):b(e),j=new RegExp(".*"+h+".*","i"),k=new RegExp(b(e),"gi"),e=function(a){if(!a.title)return!1;var b=p?a.title:c(a.title),e=!!j.test(b);return e&&r.highlight&&(p?(l=b.replace(k,function(a){return"￷"+a+"￸"}),a.titleWithHighlight=d(l).replace(/\uFFF7/g,"<mark>").replace(/\uFFF8/g,"</mark>")):a.titleWithHighlight=b.replace(k,function(a){return"<mark>"+a+"</mark>"})),e}}return this.enableFilter=!0,this.lastFilterArgs=arguments,m=this.enableUpdate(!1),this.$div.addClass("fancytree-ext-filter"),s?this.$div.addClass("fancytree-ext-filter-hide"):this.$div.addClass("fancytree-ext-filter-dimm"),this.$div.toggleClass("fancytree-ext-filter-hide-expanders",!!r.hideExpanders),this.rootNode.subMatchCount=0,this.visit(function(a){delete a.match,delete a.titleWithHighlight,a.subMatchCount=0}),i=this.getRootNode()._findDirectChild("__not_found__"),i&&i.remove(),o.autoCollapse=!1,this.visit(function(a){if(!t||null==a.children){var b=e(a),c=!1;if("skip"===b)return a.visit(function(a){a.match=!1},!0),"skip";b||!f&&"branch"!==b||!a.parent.match||(b=!0,c=!0),b&&(n++,a.match=!0,a.visitParents(function(b){b!==a&&(b.subMatchCount+=1),!r.autoExpand||c||b.expanded||(b.setExpanded(!0,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),b._filterAutoExpanded=!0)},!0))}}),o.autoCollapse=q,0===n&&r.nodata&&s&&(i=r.nodata,a.isFunction(i)&&(i=i()),!0===i?i={}:"string"==typeof i&&(i={title:i}),i=a.extend({statusNodeType:"nodata",key:"__not_found__",title:this.options.strings.noData},i),this.getRootNode().addNode(i).match=!0),this._callHook("treeStructureChanged",this,"applyFilter"),this.enableUpdate(m),n},a.ui.fancytree._FancytreeClass.prototype.filterNodes=function(a,b){return"boolean"==typeof b&&(b={leavesOnly:b},this.warn("Fancytree.filterNodes() leavesOnly option is deprecated since 2.9.0 / 2015-04-19. Use opts.leavesOnly instead.")),this._applyFilterImpl(a,!1,b)},a.ui.fancytree._FancytreeClass.prototype.filterBranches=function(a,b){return this._applyFilterImpl(a,!0,b)},a.ui.fancytree._FancytreeClass.prototype.clearFilter=function(){var b,c=this.getRootNode()._findDirectChild("__not_found__"),d=this.options.escapeTitles,e=this.options.enhanceTitle,f=this.enableUpdate(!1);c&&c.remove(),delete this.rootNode.match,delete this.rootNode.subMatchCount,this.visit(function(c){c.match&&c.span&&(b=a(c.span).find(">span.fancytree-title"),d?b.text(c.title):b.html(c.title),e&&e({type:"enhanceTitle"},{node:c,$title:b})),delete c.match,delete c.subMatchCount,delete c.titleWithHighlight,c.$subMatchBadge&&(c.$subMatchBadge.remove(),delete c.$subMatchBadge),c._filterAutoExpanded&&c.expanded&&c.setExpanded(!1,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),delete c._filterAutoExpanded}),this.enableFilter=!1,this.lastFilterArgs=null,this.$div.removeClass("fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide"),this._callHook("treeStructureChanged",this,"clearFilter"),this.enableUpdate(f)},a.ui.fancytree._FancytreeClass.prototype.isFilterActive=function(){return!!this.enableFilter},a.ui.fancytree._FancytreeNodeClass.prototype.isMatched=function(){return!(this.tree.enableFilter&&!this.match)},a.ui.fancytree.registerExtension({name:"filter",version:"2.34.0",options:{autoApply:!0,autoExpand:!1,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!0,leavesOnly:!1,nodata:!0,mode:"dimm"},nodeLoadChildren:function(a,b){var c=a.tree;return this._superApply(arguments).done(function(){c.enableFilter&&c.lastFilterArgs&&a.options.filter.autoApply&&c._applyFilterImpl.apply(c,c.lastFilterArgs)})},nodeSetExpanded:function(a,b,c){var d=a.node;return delete d._filterAutoExpanded,!b&&a.options.filter.hideExpandedCounter&&d.$subMatchBadge&&d.$subMatchBadge.show(),this._superApply(arguments)},nodeRenderStatus:function(b){var c,d=b.node,e=b.tree,f=b.options.filter,g=a(d.span).find("span.fancytree-title"),h=a(d[e.statusClassPropName]),i=b.options.enhanceTitle,j=b.options.escapeTitles;return c=this._super(b),h.length&&e.enableFilter?(h.toggleClass("fancytree-match",!!d.match).toggleClass("fancytree-submatch",!!d.subMatchCount).toggleClass("fancytree-hide",!(d.match||d.subMatchCount)),!f.counter||!d.subMatchCount||d.isExpanded()&&f.hideExpandedCounter?d.$subMatchBadge&&d.$subMatchBadge.hide():(d.$subMatchBadge||(d.$subMatchBadge=a("<span class='fancytree-childcounter'/>"),a("span.fancytree-icon, span.fancytree-custom-icon",d.span).append(d.$subMatchBadge)),d.$subMatchBadge.show().text(d.subMatchCount)),!d.span||d.isEditing&&d.isEditing.call(d)||(d.titleWithHighlight?g.html(d.titleWithHighlight):j?g.text(d.title):g.html(d.title),i&&i({type:"enhanceTitle"},{node:d,$title:g})),c):c}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c,d,e){var f=d.map,g=f[e],h=a(b),i=h.find(".fancytree-childcounter"),j=c+" "+(f._addClass||"");"string"==typeof g?(b.innerHTML="",h.attr("class",j+" "+g).append(i)):g&&(g.text?b.textContent=""+g.text:g.html?b.innerHTML=g.html:b.innerHTML="",h.attr("class",j+" "+(g.addClass||"")).append(i))}var c=a.ui.fancytree,d={awesome3:{_addClass:"",checkbox:"icon-check-empty",checkboxSelected:"icon-check",checkboxUnknown:"icon-check icon-muted",dragHelper:"icon-caret-right",dropMarker:"icon-caret-right",error:"icon-exclamation-sign",expanderClosed:"icon-caret-right",expanderLazy:"icon-angle-right",expanderOpen:"icon-caret-down",loading:"icon-refresh icon-spin",nodata:"icon-meh",noExpander:"",radio:"icon-circle-blank",radioSelected:"icon-circle",doc:"icon-file-alt",docOpen:"icon-file-alt",folder:"icon-folder-close-alt",folderOpen:"icon-folder-open-alt"},awesome4:{_addClass:"fa",checkbox:"fa-square-o",checkboxSelected:"fa-check-square-o",checkboxUnknown:"fa-square fancytree-helper-indeterminate-cb",dragHelper:"fa-arrow-right",dropMarker:"fa-long-arrow-right",error:"fa-warning",expanderClosed:"fa-caret-right",expanderLazy:"fa-angle-right",expanderOpen:"fa-caret-down",loading:{html:"<span class='fa fa-spinner fa-pulse' />"},nodata:"fa-meh-o",noExpander:"",radio:"fa-circle-thin",radioSelected:"fa-circle",doc:"fa-file-o",docOpen:"fa-file-o",folder:"fa-folder-o",folderOpen:"fa-folder-open-o"},awesome5:{_addClass:"",checkbox:"far fa-square",checkboxSelected:"far fa-check-square",checkboxUnknown:"fas fa-square fancytree-helper-indeterminate-cb",radio:"far fa-circle",radioSelected:"fas fa-circle",radioUnknown:"far fa-dot-circle",dragHelper:"fas fa-arrow-right",dropMarker:"fas fa-long-arrow-alt-right",error:"fas fa-exclamation-triangle",expanderClosed:"fas fa-caret-right",expanderLazy:"fas fa-angle-right",expanderOpen:"fas fa-caret-down",loading:"fas fa-spinner fa-pulse",nodata:"far fa-meh",noExpander:"",doc:"far fa-file",docOpen:"far fa-file",folder:"far fa-folder",folderOpen:"far fa-folder-open"},bootstrap3:{_addClass:"glyphicon",checkbox:"glyphicon-unchecked",checkboxSelected:"glyphicon-check",checkboxUnknown:"glyphicon-expand fancytree-helper-indeterminate-cb",dragHelper:"glyphicon-play",dropMarker:"glyphicon-arrow-right",error:"glyphicon-warning-sign",expanderClosed:"glyphicon-menu-right",expanderLazy:"glyphicon-menu-right",expanderOpen:"glyphicon-menu-down",loading:"glyphicon-refresh fancytree-helper-spin",nodata:"glyphicon-info-sign",noExpander:"",radio:"glyphicon-remove-circle",radioSelected:"glyphicon-ok-circle",doc:"glyphicon-file",docOpen:"glyphicon-file",folder:"glyphicon-folder-close",folderOpen:"glyphicon-folder-open"},material:{_addClass:"material-icons",checkbox:{text:"check_box_outline_blank"},checkboxSelected:{text:"check_box"},checkboxUnknown:{text:"indeterminate_check_box"},dragHelper:{text:"play_arrow"},dropMarker:{text:"arrow-forward"},error:{text:"warning"},expanderClosed:{text:"chevron_right"},expanderLazy:{text:"last_page"},expanderOpen:{text:"expand_more"},loading:{text:"autorenew",addClass:"fancytree-helper-spin"},nodata:{text:"info"},noExpander:{text:""},radio:{text:"radio_button_unchecked"},radioSelected:{text:"radio_button_checked"},doc:{text:"insert_drive_file"},docOpen:{text:"insert_drive_file"},folder:{text:"folder"},folderOpen:{text:"folder_open"}}};return a.ui.fancytree.registerExtension({name:"glyph",version:"2.34.0",options:{preset:null,map:{}},treeInit:function(b){var e=b.tree,f=b.options.glyph;f.preset?(c.assert(!!d[f.preset],"Invalid value for `options.glyph.preset`: "+f.preset),f.map=a.extend({},d[f.preset],f.map)):e.warn("ext-glyph: missing `preset` option."),this._superApply(arguments),e.$container.addClass("fancytree-ext-glyph")},nodeRenderStatus:function(d){var e,f,g,h,i=d.node,j=a(i.span),k=d.options.glyph;return g=this._super(d),i.isRoot()?g:(h=j.children("span.fancytree-expander").get(0),h&&(f=i.expanded&&i.hasChildren()?"expanderOpen":i.isUndefined()?"expanderLazy":i.hasChildren()?"expanderClosed":"noExpander",b(h,"fancytree-expander",k,f)),h=i.tr?a("td",i.tr).find("span.fancytree-checkbox").get(0):j.children("span.fancytree-checkbox").get(0),h&&(e=c.evalOption("checkbox",i,i,k,!1),i.parent&&i.parent.radiogroup||"radio"===e?(f=i.selected?"radioSelected":"radio",b(h,"fancytree-checkbox fancytree-radio",k,f)):(f=i.selected?"checkboxSelected":i.partsel?"checkboxUnknown":"checkbox",b(h,"fancytree-checkbox",k,f))),h=j.children("span.fancytree-icon").get(0),h&&(f=i.statusNodeType?i.statusNodeType:i.folder?i.expanded&&i.hasChildren()?"folderOpen":"folder":i.expanded?"docOpen":"doc",b(h,"fancytree-icon",k,f)),g)},nodeSetStatus:function(c,d,e,f){var g,h,i=c.options.glyph,j=c.node;return g=this._superApply(arguments),"error"!==d&&"loading"!==d&&"nodata"!==d||(j.parent?(h=a("span.fancytree-expander",j.span).get(0))&&b(h,"fancytree-expander",i,d):(h=a(".fancytree-statusnode-"+d,j[this.nodeContainerAttrName]).find("span.fancytree-icon").get(0))&&b(h,"fancytree-icon",i,d)),g}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree","./jquery.fancytree.table"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree.table"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c){var d,e=c.get(0),f=0;return b.children().each(function(){if(this===e)return!1;d=a(this).prop("colspan"),f+=d||1}),f}function c(b,c){var d,e=null,f=0;return b.children().each(function(){if(f>=c)return e=a(this),!1;d=a(this).prop("colspan"),f+=d||1}),e}function d(a,d){var f,g,h=a.closest("td"),i=null;switch(d){case e.LEFT:i=h.prev();break;case e.RIGHT:i=h.next();break;case e.UP:case e.DOWN:for(f=h.parent(),g=b(f,h);;){if(f=d===e.UP?f.prev():f.next(),!f.length)break;if(!f.is(":hidden")&&((i=c(f,g))&&i.find(":input,a").length))break}}return i}var e=a.ui.keyCode,f={text:[e.UP,e.DOWN],checkbox:[e.UP,e.DOWN,e.LEFT,e.RIGHT],link:[e.UP,e.DOWN,e.LEFT,e.RIGHT],radiobutton:[e.UP,e.DOWN,e.LEFT,e.RIGHT],"select-one":[e.LEFT,e.RIGHT],"select-multiple":[e.LEFT,e.RIGHT]};return a.ui.fancytree.registerExtension({name:"gridnav",version:"2.34.0",options:{autofocusInput:!1,handleCursorKeys:!0},treeInit:function(b){this._requireExtension("table",!0,!0),this._superApply(arguments),this.$container.addClass("fancytree-ext-gridnav"),this.$container.on("focusin",function(c){var d,e=a.ui.fancytree.getNode(c.target);e&&!e.isActive()&&(d=b.tree._makeHookContext(e,c),b.tree._callHook("nodeSetActive",d,!0))})},nodeSetActive:function(b,c,d){var e,f=b.options.gridnav,g=b.node,h=b.originalEvent||{},i=a(h.target).is(":input");c=!1!==c,this._superApply(arguments),c&&(b.options.titlesTabbable?(i||(a(g.span).find("span.fancytree-title").focus(),g.setFocus()),b.tree.$container.attr("tabindex","-1")):f.autofocusInput&&!i&&(e=a(g.tr||g.span),e.find(":input:enabled").first().focus()))},nodeKeydown:function(b){var c,e,g,h=b.options.gridnav,i=b.originalEvent,j=a(i.target);return j.is(":input:enabled")?c=j.prop("type"):j.is("a")&&(c="link"),c&&h.handleCursorKeys?!((e=f[c])&&a.inArray(i.which,e)>=0&&(g=d(j,i.which))&&g.length)||(g.find(":input:enabled,a").focus(),!1):this._superApply(arguments)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";return a.ui.fancytree.registerExtension({name:"multi",version:"2.34.0",options:{allowNoSelect:!1,mode:"sameParent"},treeInit:function(b){this._superApply(arguments),this.$container.addClass("fancytree-ext-multi"),1===b.options.selectMode&&a.error("Fancytree ext-multi: selectMode: 1 (single) is not compatible.")},nodeClick:function(b){var c=b.tree,d=b.node,e=c.getActiveNode()||c.getFirstChild(),f="checkbox"===b.targetType,g="expander"===b.targetType;switch(a.ui.fancytree.eventToString(b.originalEvent)){case"click":if(g)break;f||(c.selectAll(!1),d.setSelected());break;case"shift+click":c.visitRows(function(a){if(a.setSelected(),a===d)return!1},{start:e,reverse:e.isBelowOf(d)});break;case"ctrl+click":case"meta+click":return void d.toggleSelected()}return this._superApply(arguments)},nodeKeydown:function(b){var c=b.tree,d=b.node,e=b.originalEvent;switch(a.ui.fancytree.eventToString(e)){case"up":case"down":c.selectAll(!1),d.navigate(e.which,!0),c.getActiveNode().setSelected();break;case"shift+up":case"shift+down":d.navigate(e.which,!0),c.getActiveNode().setSelected()}return this._superApply(arguments)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(c,d,e,f,h){var i,j,k,l,m=!1,n=c.options.persist.expandOpts,o=[],p=[];for(e=e||[],h=h||a.Deferred(),i=0,k=e.length;i<k;i++)j=e[i],l=c.getNodeByKey(j),l?f&&l.isUndefined()?(m=!0,c.debug("_loadLazyNodes: "+l+" is lazy: loading..."),"expand"===f?o.push(l.setExpanded(!0,n)):o.push(l.load())):(c.debug("_loadLazyNodes: "+l+" already loaded."),l.setExpanded(!0,n)):(p.push(j),c.debug("_loadLazyNodes: "+l+" was not yet found."));return a.when.apply(a,o).always(function(){if(m&&p.length>0)b(c,d,p,f,h);else{if(p.length)for(c.warn("_loadLazyNodes: could not load those keys: ",p),i=0,k=p.length;i<k;i++)j=e[i],d._appendKey(g,e[i],!1);h.resolve()}}),h}var c=null,d=window.localStorage?{get:function(a){return window.localStorage.getItem(a)},set:function(a,b){window.localStorage.setItem(a,b)},remove:function(a){window.localStorage.removeItem(a)}}:null,e=window.sessionStorage?{get:function(a){return window.sessionStorage.getItem(a)},set:function(a,b){window.sessionStorage.setItem(a,b)},remove:function(a){window.sessionStorage.removeItem(a)}}:null,f=a.ui.fancytree.assert,g="expanded";return"function"==typeof Cookies?c={get:Cookies.get,set:function(a,b){Cookies.set(a,b,this.options.persist.cookie)},remove:Cookies.remove}:a&&"function"==typeof a.cookie&&(c={get:a.cookie,set:function(b,c){a.cookie.set(b,c,this.options.persist.cookie)},remove:a.removeCookie}),a.ui.fancytree._FancytreeClass.prototype.clearPersistData=function(a){var b=this.ext.persist,c=b.cookiePrefix;a=a||"active expanded focus selected",a.indexOf("active")>=0&&b._data(c+"active",null),a.indexOf(g)>=0&&b._data(c+g,null),a.indexOf("focus")>=0&&b._data(c+"focus",null),a.indexOf("selected")>=0&&b._data(c+"selected",null)},a.ui.fancytree._FancytreeClass.prototype.clearCookies=function(a){return this.warn("'tree.clearCookies()' is deprecated since v2.27.0: use 'clearPersistData()' instead."),this.clearPersistData(a)},a.ui.fancytree._FancytreeClass.prototype.getPersistData=function(){var a=this.ext.persist,b=a.cookiePrefix,c=a.cookieDelimiter,d={};return d.active=a._data(b+"active"),d[g]=(a._data(b+g)||"").split(c),d.selected=(a._data(b+"selected")||"").split(c),d.focus=a._data(b+"focus"),d},a.ui.fancytree.registerExtension({name:"persist",version:"2.34.0",options:{cookieDelimiter:"~",cookiePrefix:void 0,cookie:{raw:!1,expires:"",path:"",domain:"",secure:!1},expandLazy:!1,expandOpts:void 0,fireActivate:!0,overrideSource:!0,store:"auto",types:"active expanded focus selected"},_data:function(a,b){var c=this._local.store;if(void 0===b)return c.get.call(this,a);null===b?c.remove.call(this,a):c.set.call(this,a,b)},_appendKey:function(b,c,d){c=""+c;var e=this._local,f=this.options.persist,g=f.cookieDelimiter,h=e.cookiePrefix+b,i=e._data(h),j=i?i.split(g):[],k=a.inArray(c,j);k>=0&&j.splice(k,1),d&&j.push(c),e._data(h,j.join(g))},treeInit:function(h){var i=h.tree,j=h.options,k=this._local,l=this.options.persist;return k.cookiePrefix=l.cookiePrefix||"fancytree-"+i._id+"-",k.storeActive=l.types.indexOf("active")>=0,k.storeExpanded=l.types.indexOf(g)>=0,k.storeSelected=l.types.indexOf("selected")>=0,k.storeFocus=l.types.indexOf("focus")>=0,k.store=null,"auto"===l.store&&(l.store=d?"local":"cookie"),a.isPlainObject(l.store)?k.store=l.store:"cookie"===l.store?k.store=c:"local"===l.store?k.store="local"===l.store?d:e:"session"===l.store&&(k.store="local"===l.store?d:e),f(k.store,"Need a valid store."),i.$div.on("fancytreeinit",function(c){if(!1!==i._triggerTreeEvent("beforeRestore",null,{})){var d,e,f,h,m,n=k._data(k.cookiePrefix+"focus"),o=!1===l.fireActivate;d=k._data(k.cookiePrefix+g),h=d&&d.split(l.cookieDelimiter),e=k.storeExpanded?b(i,k,h,!!l.expandLazy&&"expand",null):(new a.Deferred).resolve(),e.done(function(){if(k.storeSelected){if(d=k._data(k.cookiePrefix+"selected"))for(h=d.split(l.cookieDelimiter),f=0;f<h.length;f++)m=i.getNodeByKey(h[f]),m?(void 0===m.selected||l.overrideSource&&!1===m.selected)&&(m.selected=!0,m.renderStatus()):k._appendKey("selected",h[f],!1);3===i.options.selectMode&&i.visit(function(a){if(a.selected)return a.fixSelection3AfterClick(),"skip"})}k.storeActive&&(!(d=k._data(k.cookiePrefix+"active"))||!j.persist.overrideSource&&i.activeNode||(m=i.getNodeByKey(d))&&(m.debug("persist: set active",d),m.setActive(!0,{noFocus:!0,noEvents:o}))),k.storeFocus&&n&&(m=i.getNodeByKey(n))&&(i.options.titlesTabbable?a(m.span).find(".fancytree-title").focus():a(i.$container).focus()),i._triggerTreeEvent("restore",null,{})})}}),this._superApply(arguments)},nodeSetActive:function(a,b,c){var d,e=this._local;return b=!1!==b,d=this._superApply(arguments),e.storeActive&&e._data(e.cookiePrefix+"active",this.activeNode?this.activeNode.key:null),d},nodeSetExpanded:function(a,b,c){var d,e=a.node,f=this._local;return b=!1!==b,d=this._superApply(arguments),f.storeExpanded&&f._appendKey(g,e.key,b),d},nodeSetFocus:function(a,b){var c,d=this._local;return b=!1!==b,c=this._superApply(arguments),d.storeFocus&&d._data(d.cookiePrefix+"focus",this.focusNode?this.focusNode.key:null),c},nodeSetSelected:function(b,c,d){var e,f,g=b.tree,h=b.node,i=this._local;return c=!1!==c,e=this._superApply(arguments),i.storeSelected&&(3===g.options.selectMode?(f=a.map(g.getSelectedNodes(!0),function(a){return a.key}),f=f.join(b.options.persist.cookieDelimiter),i._data(i.cookiePrefix+"selected",f)):i._appendKey("selected",h.key,h.selected)),e}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c){c=c||"",b||a.error("Assertion failed "+c)}function c(a,b){a.insertBefore(b,a.firstChild)}function d(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function e(a,b){a.visit(function(a){var c=a.tr;if(c&&(c.style.display=a.hide||!b?"none":""),!a.expanded)return"skip"})}function f(c){var d,e,f,g=c.parent,h=g?g.children:null;if(h&&h.length>1&&h[0]!==c)for(d=a.inArray(c,h),f=h[d-1],b(f.tr);f.children&&f.children.length&&(e=f.children[f.children.length-1],e.tr);)f=e;else f=g;return f}return a.ui.fancytree.registerExtension({name:"table",version:"2.34.0",options:{checkboxColumnIdx:null,indentation:16,mergeStatusColumns:!0,nodeColumnIdx:0},treeInit:function(c){var d,e,f,g,h=c.tree,i=c.options,j=i.table,k=h.widget.element;if(null!=j.customStatus&&(null==i.renderStatusColumns?(h.warn("The 'customStatus' option is deprecated since v2.15.0. Use 'renderStatusColumns' instead."),i.renderStatusColumns=j.customStatus):a.error("The 'customStatus' option is deprecated since v2.15.0. Use 'renderStatusColumns' only instead.")),i.renderStatusColumns&&!0===i.renderStatusColumns&&(i.renderStatusColumns=i.renderColumns),k.addClass("fancytree-container fancytree-ext-table"),g=k.find(">tbody"),g.length||(k.find(">tr").length&&a.error("Expected table > tbody > tr. If you see this please open an issue."),g=a("<tbody>").appendTo(k)),h.tbody=g[0],h.columnCount=a("thead >tr",k).last().find(">th",k).length,f=g.children("tr").first(),f.length)e=f.children("td").length,h.columnCount&&e!==h.columnCount&&(h.warn("Column count mismatch between thead ("+h.columnCount+") and tbody ("+e+"): using tbody."),h.columnCount=e),f=f.clone();else for(b(h.columnCount>=1,"Need either <thead> or <tbody> with <td> elements to determine column count."),f=a("<tr />"),d=0;d<h.columnCount;d++)f.append("<td />");f.find(">td").eq(j.nodeColumnIdx).html("<span class='fancytree-node' />"),i.aria&&(f.attr("role","row"),f.find("td").attr("role","gridcell")),h.rowFragment=document.createDocumentFragment(),h.rowFragment.appendChild(f.get(0)),g.empty(),h.statusClassPropName="tr",h.ariaPropName="tr",this.nodeContainerAttrName="tr",h.$container=k,this._superApply(arguments),a(h.rootNode.ul).remove(),h.rootNode.ul=null,this.$container.attr("tabindex",i.tabindex),i.aria&&h.$container.attr("role","treegrid").attr("aria-readonly",!0)},nodeRemoveChildMarkup:function(b){b.node.visit(function(b){b.tr&&(a(b.tr).remove(),b.tr=null)})},nodeRemoveMarkup:function(b){var c=b.node;c.tr&&(a(c.tr).remove(),c.tr=null),this.nodeRemoveChildMarkup(b)},nodeRender:function(g,h,i,j,k){var l,m,n,o,p,q,r,s,t=g.tree,u=g.node,v=g.options,w=!u.parent;if(!1!==t._enableUpdate){if(k||(g.hasCollapsedParents=u.parent&&!u.parent.expanded),!w)if(u.tr&&h&&this.nodeRemoveMarkup(g),u.tr)h?this.nodeRenderTitle(g):this.nodeRenderStatus(g);else{if(g.hasCollapsedParents&&!i)return;p=t.rowFragment.firstChild.cloneNode(!0),q=f(u),b(q),!0===j&&k?p.style.display="none":i&&g.hasCollapsedParents&&(p.style.display="none"),q.tr?d(q.tr,p):(b(!q.parent,"prev. row must have a tr, or be system root"),c(t.tbody,p)),u.tr=p,u.key&&v.generateIds&&(u.tr.id=v.idPrefix+u.key),u.tr.ftnode=u,u.span=a("span.fancytree-node",u.tr).get(0),this.nodeRenderTitle(g),v.createNode&&v.createNode.call(t,{type:"createNode"},g)}if(v.renderNode&&v.renderNode.call(t,{type:"renderNode"},g),(l=u.children)&&(w||i||u.expanded))for(n=0,o=l.length;n<o;n++)s=a.extend({},g,{node:l[n]}),s.hasCollapsedParents=s.hasCollapsedParents||!u.expanded,this.nodeRender(s,h,i,j,!0);l&&!k&&(r=u.tr||null,m=t.tbody.firstChild,u.visit(function(a){if(a.tr){if(a.parent.expanded||"none"===a.tr.style.display||(a.tr.style.display="none",e(a,!1)),a.tr.previousSibling!==r){u.debug("_fixOrder: mismatch at node: "+a);var b=r?r.nextSibling:m;t.tbody.insertBefore(a.tr,b)}r=a.tr}}))}},nodeRenderTitle:function(b,c){var d,e,f=b.tree,g=b.node,h=b.options,i=g.isStatusNode();return e=this._super(b,c),g.isRootNode()?e:(h.checkbox&&!i&&null!=h.table.checkboxColumnIdx&&(d=a("span.fancytree-checkbox",g.span),a(g.tr).find("td").eq(+h.table.checkboxColumnIdx).html(d)),this.nodeRenderStatus(b),i?h.renderStatusColumns?h.renderStatusColumns.call(f,{type:"renderStatusColumns"},b):h.table.mergeStatusColumns&&g.isTopLevel()&&a(g.tr).find(">td").eq(0).prop("colspan",f.columnCount).text(g.title).addClass("fancytree-status-merged").nextAll().remove():h.renderColumns&&h.renderColumns.call(f,{type:"renderColumns"},b),e)},nodeRenderStatus:function(b){var c,d=b.node,e=b.options;this._super(b),a(d.tr).removeClass("fancytree-node"),c=(d.getLevel()-1)*e.table.indentation,e.rtl?a(d.span).css({paddingRight:c+"px"}):a(d.span).css({paddingLeft:c+"px"})},nodeSetExpanded:function(b,c,d){function f(a){e(b.node,c),a?c&&b.options.autoScroll&&!d.noAnimation&&b.node.hasChildren()?b.node.getLastChild().scrollIntoView(!0,{topNode:b.node}).always(function(){d.noEvents||b.tree._triggerNodeEvent(c?"expand":"collapse",b),g.resolveWith(b.node)}):(d.noEvents||b.tree._triggerNodeEvent(c?"expand":"collapse",b),g.resolveWith(b.node)):(d.noEvents||b.tree._triggerNodeEvent(c?"expand":"collapse",b),g.rejectWith(b.node))}if(c=!1!==c,b.node.expanded&&c||!b.node.expanded&&!c)return this._superApply(arguments);var g=new a.Deferred,h=a.extend({},d,{noEvents:!0,noAnimation:!0});return d=d||{},this._super(b,c,h).done(function(){f(!0)}).fail(function(){f(!1)}),g.promise()},nodeSetStatus:function(b,c,d,e){if("ok"===c){var f=b.node,g=f.children?f.children[0]:null;g&&g.isStatusNode()&&a(g.tr).remove()}return this._superApply(arguments)},treeClear:function(a){return this.nodeRemoveChildMarkup(this._makeHookContext(this.rootNode)),this._superApply(arguments)},treeDestroy:function(a){return this.$container.find("tbody").empty(),this.$source&&this.$source.removeClass("fancytree-helper-hidden"),this._superApply(arguments)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";return a.ui.fancytree.registerExtension({name:"themeroller",version:"2.34.0",options:{activeClass:"ui-state-active",
addClass:"ui-corner-all",focusClass:"ui-state-focus",hoverClass:"ui-state-hover",selectedClass:"ui-state-highlight"},treeInit:function(b){var c=b.widget.element,d=b.options.themeroller;this._superApply(arguments),"TABLE"===c[0].nodeName?(c.addClass("ui-widget ui-corner-all"),c.find(">thead tr").addClass("ui-widget-header"),c.find(">tbody").addClass("ui-widget-conent")):c.addClass("ui-widget ui-widget-content ui-corner-all"),c.on("mouseenter mouseleave",".fancytree-node",function(b){var c=a.ui.fancytree.getNode(b.target),e="mouseenter"===b.type;a(c.tr?c.tr:c.span).toggleClass(d.hoverClass+" "+d.addClass,e)})},treeDestroy:function(a){this._superApply(arguments),a.widget.element.removeClass("ui-widget ui-widget-content ui-corner-all")},nodeRenderStatus:function(b){var c={},d=b.node,e=a(d.tr?d.tr:d.span),f=b.options.themeroller;this._super(b),c[f.activeClass]=!1,c[f.focusClass]=!1,c[f.selectedClass]=!1,d.isActive()&&(c[f.activeClass]=!0),d.hasFocus()&&(c[f.focusClass]=!0),d.isSelected()&&!d.isActive()&&(c[f.selectedClass]=!0),e.toggleClass(f.activeClass,c[f.activeClass]),e.toggleClass(f.focusClass,c[f.focusClass]),e.toggleClass(f.selectedClass,c[f.selectedClass]),e.addClass(f.addClass)}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.fancytree"],a):"object"==typeof module&&module.exports?(require("./jquery.fancytree"),module.exports=a(require("jquery"))):a(jQuery)}(function(a){"use strict";function b(b,c){b="fancytree-style-"+b;var d=a("#"+b);if(!c)return d.remove(),null;d.length||(d=a("<style />").attr("id",b).addClass("fancytree-style").prop("type","text/css").appendTo("head"));try{d.html(c)}catch(a){d[0].styleSheet.cssText=c}return d}function c(a,b,c,d,e,f){var g,h="#"+a+" span.fancytree-level-",i=[];for(g=0;g<b;g++)i.push(h+(g+1)+" span.fancytree-title { padding-left: "+(g*c+d)+f+"; }");return i.push("#"+a+" div.ui-effects-wrapper ul li span.fancytree-title, #"+a+" li.fancytree-animating span.fancytree-title { padding-left: "+e+f+"; position: static; width: auto; }"),i.join("\n")}var d=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;return a.ui.fancytree.registerExtension({name:"wide",version:"2.34.0",options:{iconWidth:null,iconSpacing:null,labelSpacing:null,levelOfs:null},treeCreate:function(e){this._superApply(arguments),this.$container.addClass("fancytree-ext-wide");var f,g,h,i,j,k,l=e.options.wide,m=a("<li id='fancytreeTemp'><span class='fancytree-node'><span class='fancytree-icon' /><span class='fancytree-title' /></span><ul />").appendTo(e.tree.$container),n=m.find(".fancytree-icon"),o=m.find("ul"),p=l.iconSpacing||n.css("margin-left"),q=l.iconWidth||n.css("width"),r=l.labelSpacing||"3px",s=l.levelOfs||o.css("padding-left");m.remove(),h=p.match(d)[2],p=parseFloat(p,10),i=r.match(d)[2],r=parseFloat(r,10),j=q.match(d)[2],q=parseFloat(q,10),k=s.match(d)[2],h===j&&k===j&&i===j||a.error("iconWidth, iconSpacing, and levelOfs must have the same css measure unit"),this._local.measureUnit=j,this._local.levelOfs=parseFloat(s),this._local.lineOfs=(1+(e.options.checkbox?1:0)+(!1===e.options.icon?0:1))*(q+p)+p,this._local.labelOfs=r,this._local.maxDepth=10,f=this.$container.uniqueId().attr("id"),g=c(f,this._local.maxDepth,this._local.levelOfs,this._local.lineOfs,this._local.labelOfs,this._local.measureUnit),b(f,g)},treeDestroy:function(a){return b(this.$container.attr("id"),null),this._superApply(arguments)},nodeRenderStatus:function(d){var e,f,g,h=d.node,i=h.getLevel();return g=this._super(d),i>this._local.maxDepth&&(e=this.$container.attr("id"),this._local.maxDepth*=2,h.debug("Define global ext-wide css up to level "+this._local.maxDepth),f=c(e,this._local.maxDepth,this._local.levelOfs,this._local.lineOfs,this._local.labelSpacing,this._local.measureUnit),b(e,f)),a(h.span).addClass("fancytree-level-"+i),g}}),a.ui.fancytree}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(a){var b={},c={exclude:[],excludeWithin:[],offset:0,direction:"top",delegateSelector:null,scrollElement:null,scrollTarget:null,autoFocus:!1,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},d=function(b){var c=[],d=!1,e=b.dir&&"left"===b.dir?"scrollLeft":"scrollTop";return this.each(function(){var b=a(this);if(this!==document&&this!==window)return!document.scrollingElement||this!==document.documentElement&&this!==document.body?void(b[e]()>0?c.push(this):(b[e](1),d=b[e]()>0,d&&c.push(this),b[e](0))):(c.push(document.scrollingElement),!1)}),c.length||this.each(function(){this===document.documentElement&&"smooth"===a(this).css("scrollBehavior")&&(c=[this]),c.length||"BODY"!==this.nodeName||(c=[this])}),"first"===b.el&&c.length>1&&(c=[c[0]]),c},e=/^([\-\+]=)(\d+)/;a.fn.extend({scrollable:function(a){var b=d.call(this,{dir:a});return this.pushStack(b)},firstScrollable:function(a){var b=d.call(this,{el:"first",dir:a});return this.pushStack(b)},smoothScroll:function(b,c){if("options"===(b=b||{}))return c?this.each(function(){var b=a(this),d=a.extend(b.data("ssOpts")||{},c);a(this).data("ssOpts",d)}):this.first().data("ssOpts");var d=a.extend({},a.fn.smoothScroll.defaults,b),e=function(b){var c=function(a){return a.replace(/(:|\.|\/)/g,"\\$1")},e=this,f=a(this),g=a.extend({},d,f.data("ssOpts")||{}),h=d.exclude,i=g.excludeWithin,j=0,k=0,l=!0,m={},n=a.smoothScroll.filterPath(location.pathname),o=a.smoothScroll.filterPath(e.pathname),p=location.hostname===e.hostname||!e.hostname,q=g.scrollTarget||o===n,r=c(e.hash);if(r&&!a(r).length&&(l=!1),g.scrollTarget||p&&q&&r){for(;l&&j<h.length;)f.is(c(h[j++]))&&(l=!1);for(;l&&k<i.length;)f.closest(i[k++]).length&&(l=!1)}else l=!1;l&&(g.preventDefault&&b.preventDefault(),a.extend(m,g,{scrollTarget:g.scrollTarget||r,link:e}),a.smoothScroll(m))};return null!==b.delegateSelector?this.off("click.smoothscroll",b.delegateSelector).on("click.smoothscroll",b.delegateSelector,e):this.off("click.smoothscroll").on("click.smoothscroll",e),this}});var f=function(a){var b={relative:""},c="string"==typeof a&&e.exec(a);return"number"==typeof a?b.px=a:c&&(b.relative=c[1],b.px=parseFloat(c[2])||0),b},g=function(b){var c=a(b.scrollTarget);b.autoFocus&&c.length&&(c[0].focus(),c.is(document.activeElement)||(c.prop({tabIndex:-1}),c[0].focus())),b.afterScroll.call(b.link,b)};a.smoothScroll=function(c,d){if("options"===c&&"object"==typeof d)return a.extend(b,d);var e,h,i,j,k=f(c),l={},m=0,n="offset",o="scrollTop",p={},q={};k.px?e=a.extend({link:null},a.fn.smoothScroll.defaults,b):(e=a.extend({link:null},a.fn.smoothScroll.defaults,c||{},b),e.scrollElement&&(n="position","static"===e.scrollElement.css("position")&&e.scrollElement.css("position","relative")),d&&(k=f(d))),o="left"===e.direction?"scrollLeft":o,e.scrollElement?(h=e.scrollElement,k.px||/^(?:HTML|BODY)$/.test(h[0].nodeName)||(m=h[o]())):h=a("html, body").firstScrollable(e.direction),e.beforeScroll.call(h,e),l=k.px?k:{relative:"",px:a(e.scrollTarget)[n]()&&a(e.scrollTarget)[n]()[e.direction]||0},p[o]=l.relative+(l.px+m+e.offset),i=e.speed,"auto"===i&&(j=Math.abs(p[o]-h[o]()),i=j/e.autoCoefficient),q={duration:i,easing:e.easing,complete:function(){g(e)}},e.step&&(q.step=e.step),h.length?h.stop().animate(p,q):g(e)},a.smoothScroll.version="2.2.0",a.smoothScroll.filterPath=function(a){return a=a||"",a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},a.fn.smoothScroll.defaults=c}),function(a,b){"use strict";a.nette.ext("nprogress",{start:function(){b.NProgress.start()},complete:function(){b.NProgress.done()}})}(jQuery,window),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.NProgress=b()}(this,function(){function a(a,b,c){return a<b?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){return("string"==typeof a?a:g(a)).indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.2.0";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)void 0!==(c=a[b])&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!==c.state()?(0===b&&i.start(),a++,b++,c.always(function(){b--,0===b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector))&&h(d),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if((c=e[d]+f)in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)void 0!==(e=b[c])&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i}),function(a){"use strict";function b(a){return null!==a&&a===a.window}function c(a){return b(a)?a:9===a.nodeType&&a.defaultView}function d(a){var b,d,e={top:0,left:0},f=a&&a.ownerDocument;return b=f.documentElement,void 0!==a.getBoundingClientRect&&(e=a.getBoundingClientRect()),d=c(f),{top:e.top+d.pageYOffset-b.clientTop,left:e.left+d.pageXOffset-b.clientLeft}}function e(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function f(a){if(!1===k.allowEvent(a))return null;for(var b=null,c=a.target||a.srcElement;null!==c.parentElement;){if(!(c instanceof SVGElement||-1===c.className.indexOf("waves-effect"))){b=c;break}if(c.classList.contains("waves-effect")){b=c;break}c=c.parentElement}return b}function g(b){var c=f(b);null!==c&&(j.show(b,c),"ontouchstart"in a&&(c.addEventListener("touchend",j.hide,!1),c.addEventListener("touchcancel",j.hide,!1)),c.addEventListener("mouseup",j.hide,!1),c.addEventListener("mouseleave",j.hide,!1))}var h=h||{},i=document.querySelectorAll.bind(document),j={duration:750,show:function(a,b){if(2===a.button)return!1;var c=b||this,f=document.createElement("div");f.className="waves-ripple",c.appendChild(f);var g=d(c),h=a.pageY-g.top,i=a.pageX-g.left,k="scale("+c.clientWidth/100*10+")";"touches"in a&&(h=a.touches[0].pageY-g.top,i=a.touches[0].pageX-g.left),f.setAttribute("data-hold",Date.now()),f.setAttribute("data-scale",k),f.setAttribute("data-x",i),f.setAttribute("data-y",h);var l={top:h+"px",left:i+"px"};f.className=f.className+" waves-notransition",f.setAttribute("style",e(l)),f.className=f.className.replace("waves-notransition",""),l["-webkit-transform"]=k,l["-moz-transform"]=k,l["-ms-transform"]=k,l["-o-transform"]=k,l.transform=k,l.opacity="1",l["-webkit-transition-duration"]=j.duration+"ms",l["-moz-transition-duration"]=j.duration+"ms",l["-o-transition-duration"]=j.duration+"ms",l["transition-duration"]=j.duration+"ms",l["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",f.setAttribute("style",e(l))},hide:function(a){k.touchup(a);var b=this,c=(b.clientWidth,null),d=b.getElementsByClassName("waves-ripple");if(!(d.length>0))return!1;c=d[d.length-1];var f=c.getAttribute("data-x"),g=c.getAttribute("data-y"),h=c.getAttribute("data-scale"),i=Date.now()-Number(c.getAttribute("data-hold")),l=350-i;0>l&&(l=0),setTimeout(function(){var a={top:g+"px",left:f+"px",opacity:"0","-webkit-transition-duration":j.duration+"ms","-moz-transition-duration":j.duration+"ms","-o-transition-duration":j.duration+"ms","transition-duration":j.duration+"ms","-webkit-transform":h,"-moz-transform":h,"-ms-transform":h,"-o-transform":h,transform:h};c.setAttribute("style",e(a)),setTimeout(function(){try{b.removeChild(c)}catch(a){return!1}},j.duration)},l)},wrapInput:function(a){for(var b=0;b<a.length;b++){var c=a[b];if("input"===c.tagName.toLowerCase()){var d=c.parentNode;if("i"===d.tagName.toLowerCase()&&-1!==d.className.indexOf("waves-effect"))continue;var e=document.createElement("i");e.className=c.className+" waves-input-wrapper";var f=c.getAttribute("style");f||(f=""),e.setAttribute("style",f),c.className="waves-button-input",c.removeAttribute("style"),d.replaceChild(e,c),e.appendChild(c)}}}},k={touches:0,allowEvent:function(a){var b=!0;return"touchstart"===a.type?k.touches+=1:"touchend"===a.type||"touchcancel"===a.type?setTimeout(function(){k.touches>0&&(k.touches-=1)},500):"mousedown"===a.type&&k.touches>0&&(b=!1),b},touchup:function(a){k.allowEvent(a)}};h.displayEffect=function(b){b=b||{},"duration"in b&&(j.duration=b.duration),j.wrapInput(i(".waves-effect")),"ontouchstart"in a&&document.body.addEventListener("touchstart",g,!1),document.body.addEventListener("mousedown",g,!1)},h.attach=function(b){"input"===b.tagName.toLowerCase()&&(j.wrapInput([b]),b=b.parentElement),"ontouchstart"in a&&b.addEventListener("touchstart",g,!1),b.addEventListener("mousedown",g,!1)},a.Waves=h,document.addEventListener("DOMContentLoaded",function(){h.displayEffect()},!1)}(window),function(a){MimeType={charset:"UTF-8",catalog:{},lookup:function(a,b,c){var d,e=this.charset;return void 0===b&&(b=!1),"string"==typeof b&&(e=b,b=!0),d=a.lastIndexOf(".")>0?a.substr(a.lastIndexOf(".")).toLowerCase():a,""==d&&(d=a),void 0!==this.catalog[d]?!0===b&&0===this.catalog[d].indexOf("text/")&&this.catalog[d].indexOf("charset")<0?this.catalog[d]+"; charset="+e:this.catalog[d]:void 0!==c&&(!0===b&&0===c.indexOf("text/")?c+"; charset="+e:c)},set:function(a,b){var c=!0,d=this;return a.indexOf(",")?a.split(",").forEach(function(a){a=a.trim(),d.catalog[a]=b,d.catalog[a]!==b&&(c=!1)}):c=d.catalog[a]===b,c},del:function(a){return delete this.catalog[a],void 0===this.catalog[a]},forEach:function(a){var b,c=this;for(b in c.catalog)c.catalog.hasOwnProperty(b)&&a(b,c.catalog[b]);return c.catalog}},MimeType.set(".ez","application/andrew-inset"),MimeType.set(".aw","application/applixware"),MimeType.set(".atom","application/atom+xml"),MimeType.set(".atomcat","application/atomcat+xml"),MimeType.set(".atomsvc","application/atomsvc+xml"),MimeType.set(".ccxml","application/ccxml+xml"),MimeType.set(".cu","application/cu-seeme"),MimeType.set(".davmount","application/davmount+xml"),MimeType.set(".ecma","application/ecmascript"),MimeType.set(".emma","application/emma+xml"),MimeType.set(".epub","application/epub+zip"),MimeType.set(".pfr","application/font-tdpfr"),MimeType.set(".stk","application/hyperstudio"),MimeType.set(".jar","application/java-archive"),MimeType.set(".ser","application/java-serialized-object"),MimeType.set(".class","application/java-vm"),MimeType.set(".js","application/javascript"),MimeType.set(".json","application/json"),MimeType.set(".lostxml","application/lost+xml"),MimeType.set(".hqx","application/mac-binhex40"),MimeType.set(".cpt","application/mac-compactpro"),MimeType.set(".mrc","application/marc"),MimeType.set(".ma,.nb,.mb","application/mathematica"),MimeType.set(".mathml","application/mathml+xml"),MimeType.set(".mbox","application/mbox"),MimeType.set(".mscml","application/mediaservercontrol+xml"),MimeType.set(".mp4s","application/mp4"),MimeType.set(".doc,.dot","application/msword"),MimeType.set(".mxf","application/mxf"),MimeType.set(".oda","application/oda"),MimeType.set(".opf","application/oebps-package+xml"),MimeType.set(".ogx","application/ogg"),MimeType.set(".onetoc,.onetoc2,.onetmp,.onepkg","application/onenote"),MimeType.set(".xer","application/patch-ops-error+xml"),MimeType.set(".pdf","application/pdf"),MimeType.set(".pgp","application/pgp-encrypted"),MimeType.set(".asc,.sig","application/pgp-signature"),MimeType.set(".prf","application/pics-rules"),MimeType.set(".p10","application/pkcs10"),MimeType.set(".p7m,.p7c","application/pkcs7-mime"),MimeType.set(".p7s","application/pkcs7-signature"),MimeType.set(".cer","application/pkix-cert"),MimeType.set(".crl","application/pkix-crl"),MimeType.set(".pkipath","application/pkix-pkipath"),MimeType.set(".pki","application/pkixcmp"),MimeType.set(".pls","application/pls+xml"),MimeType.set(".ai,.eps,.ps","application/postscript"),MimeType.set(".cww","application/prs.cww"),MimeType.set(".rdf","application/rdf+xml"),MimeType.set(".rif","application/reginfo+xml"),MimeType.set(".rnc","application/relax-ng-compact-syntax"),MimeType.set(".rl","application/resource-lists+xml"),MimeType.set(".rld","application/resource-lists-diff+xml"),MimeType.set(".rs","application/rls-services+xml"),MimeType.set(".rsd","application/rsd+xml"),MimeType.set(".rss","application/rss+xml"),MimeType.set(".rtf","application/rtf"),MimeType.set(".sbml","application/sbml+xml"),MimeType.set(".scq","application/scvp-cv-request"),MimeType.set(".scs","application/scvp-cv-response"),MimeType.set(".spq","application/scvp-vp-request"),MimeType.set(".spp","application/scvp-vp-response"),MimeType.set(".sdp","application/sdp"),MimeType.set(".setpay","application/set-payment-initiation"),MimeType.set(".setreg","application/set-registration-initiation"),MimeType.set(".shf","application/shf+xml"),MimeType.set(".smi,.smil","application/smil+xml"),MimeType.set(".rq","application/sparql-query"),MimeType.set(".srx","application/sparql-results+xml"),MimeType.set(".gram","application/srgs"),MimeType.set(".grxml","application/srgs+xml"),MimeType.set(".ssml","application/ssml+xml"),MimeType.set(".plb","application/vnd.3gpp.pic-bw-large"),MimeType.set(".psb","application/vnd.3gpp.pic-bw-small"),MimeType.set(".pvb","application/vnd.3gpp.pic-bw-var"),MimeType.set(".tcap","application/vnd.3gpp2.tcap"),MimeType.set(".pwn","application/vnd.3m.post-it-notes"),MimeType.set(".aso","application/vnd.accpac.simply.aso"),MimeType.set(".imp","application/vnd.accpac.simply.imp"),MimeType.set(".acu","application/vnd.acucobol"),MimeType.set(".atc,.acutc","application/vnd.acucorp"),MimeType.set(".air","application/vnd.adobe.air-application-installer-package+zip"),MimeType.set(".xdp","application/vnd.adobe.xdp+xml"),MimeType.set(".xfdf","application/vnd.adobe.xfdf"),MimeType.set(".azf","application/vnd.airzip.filesecure.azf"),MimeType.set(".azs","application/vnd.airzip.filesecure.azs"),MimeType.set(".azw","application/vnd.amazon.ebook"),MimeType.set(".acc","application/vnd.americandynamics.acc"),MimeType.set(".ami","application/vnd.amiga.ami"),MimeType.set(".apk","application/vnd.android.package-archive"),MimeType.set(".cii","application/vnd.anser-web-certificate-issue-initiation"),MimeType.set(".fti","application/vnd.anser-web-funds-transfer-initiation"),MimeType.set(".atx","application/vnd.antix.game-component"),MimeType.set(".mpkg","application/vnd.apple.installer+xml"),MimeType.set(".swi","application/vnd.arastra.swi"),MimeType.set(".aep","application/vnd.audiograph"),MimeType.set(".mpm","application/vnd.blueice.multipass"),MimeType.set(".bmi","application/vnd.bmi"),MimeType.set(".rep","application/vnd.businessobjects"),MimeType.set(".cdxml","application/vnd.chemdraw+xml"),MimeType.set(".mmd","application/vnd.chipnuts.karaoke-mmd"),MimeType.set(".cdy","application/vnd.cinderella"),MimeType.set(".cla","application/vnd.claymore"),MimeType.set(".c4g,.c4d,.c4f,.c4p,.c4u","application/vnd.clonk.c4group"),MimeType.set(".csp","application/vnd.commonspace"),MimeType.set(".cdbcmsg","application/vnd.contact.cmsg"),MimeType.set(".cmc","application/vnd.cosmocaller"),MimeType.set(".clkx","application/vnd.crick.clicker"),MimeType.set(".clkk","application/vnd.crick.clicker.keyboard"),MimeType.set(".clkp","application/vnd.crick.clicker.palette"),MimeType.set(".clkt","application/vnd.crick.clicker.template"),MimeType.set(".clkw","application/vnd.crick.clicker.wordbank"),MimeType.set(".wbs","application/vnd.criticaltools.wbs+xml"),MimeType.set(".pml","application/vnd.ctc-posml"),MimeType.set(".ppd","application/vnd.cups-ppd"),MimeType.set(".car","application/vnd.curl.car"),MimeType.set(".pcurl","application/vnd.curl.pcurl"),MimeType.set(".rdz","application/vnd.data-vision.rdz"),MimeType.set(".fe_launch","application/vnd.denovo.fcselayout-link"),MimeType.set(".dna","application/vnd.dna"),MimeType.set(".mlp","application/vnd.dolby.mlp"),MimeType.set(".dpg","application/vnd.dpgraph"),MimeType.set(".dfac","application/vnd.dreamfactory"),MimeType.set(".geo","application/vnd.dynageo"),MimeType.set(".mag","application/vnd.ecowin.chart"),MimeType.set(".nml","application/vnd.enliven"),MimeType.set(".esf","application/vnd.epson.esf"),MimeType.set(".msf","application/vnd.epson.msf"),MimeType.set(".qam","application/vnd.epson.quickanime"),MimeType.set(".slt","application/vnd.epson.salt"),MimeType.set(".ssf","application/vnd.epson.ssf"),MimeType.set(".es3,.et3","application/vnd.eszigno3+xml"),MimeType.set(".ez2","application/vnd.ezpix-album"),MimeType.set(".ez3","application/vnd.ezpix-package"),MimeType.set(".fdf","application/vnd.fdf"),MimeType.set(".mseed","application/vnd.fdsn.mseed"),MimeType.set(".seed,.dataless","application/vnd.fdsn.seed"),MimeType.set(".gph","application/vnd.flographit"),MimeType.set(".ftc","application/vnd.fluxtime.clip"),MimeType.set(".fm,.frame,.maker,.book","application/vnd.framemaker"),MimeType.set(".fnc","application/vnd.frogans.fnc"),MimeType.set(".ltf","application/vnd.frogans.ltf"),MimeType.set(".fsc","application/vnd.fsc.weblaunch"),MimeType.set(".oas","application/vnd.fujitsu.oasys"),MimeType.set(".oa2","application/vnd.fujitsu.oasys2"),MimeType.set(".oa3","application/vnd.fujitsu.oasys3"),MimeType.set(".fg5","application/vnd.fujitsu.oasysgp"),MimeType.set(".bh2","application/vnd.fujitsu.oasysprs"),MimeType.set(".ddd","application/vnd.fujixerox.ddd"),MimeType.set(".xdw","application/vnd.fujixerox.docuworks"),MimeType.set(".xbd","application/vnd.fujixerox.docuworks.binder"),MimeType.set(".fzs","application/vnd.fuzzysheet"),MimeType.set(".txd","application/vnd.genomatix.tuxedo"),MimeType.set(".ggb","application/vnd.geogebra.file"),MimeType.set(".ggt","application/vnd.geogebra.tool"),MimeType.set(".gex,.gre","application/vnd.geometry-explorer"),MimeType.set(".gmx","application/vnd.gmx"),MimeType.set(".kml","application/vnd.google-earth.kml+xml"),MimeType.set(".kmz","application/vnd.google-earth.kmz"),MimeType.set(".gqf,.gqs","application/vnd.grafeq"),MimeType.set(".gac","application/vnd.groove-account"),MimeType.set(".ghf","application/vnd.groove-help"),MimeType.set(".gim","application/vnd.groove-identity-message"),MimeType.set(".grv","application/vnd.groove-injector"),MimeType.set(".gtm","application/vnd.groove-tool-message"),MimeType.set(".tpl","application/vnd.groove-tool-template"),MimeType.set(".vcg","application/vnd.groove-vcard"),MimeType.set(".zmm","application/vnd.handheld-entertainment+xml"),MimeType.set(".hbci","application/vnd.hbci"),MimeType.set(".les","application/vnd.hhe.lesson-player"),MimeType.set(".hpgl","application/vnd.hp-hpgl"),MimeType.set(".hpid","application/vnd.hp-hpid"),MimeType.set(".hps","application/vnd.hp-hps"),MimeType.set(".jlt","application/vnd.hp-jlyt"),MimeType.set(".pcl","application/vnd.hp-pcl"),MimeType.set(".pclxl","application/vnd.hp-pclxl"),MimeType.set(".sfd-hdstx","application/vnd.hydrostatix.sof-data"),MimeType.set(".x3d","application/vnd.hzn-3d-crossword"),MimeType.set(".mpy","application/vnd.ibm.minipay"),MimeType.set(".afp,.listafp,.list3820","application/vnd.ibm.modcap"),MimeType.set(".irm","application/vnd.ibm.rights-management"),MimeType.set(".sc","application/vnd.ibm.secure-container"),MimeType.set(".icc,.icm","application/vnd.iccprofile"),MimeType.set(".igl","application/vnd.igloader"),MimeType.set(".ivp","application/vnd.immervision-ivp"),MimeType.set(".ivu","application/vnd.immervision-ivu"),MimeType.set(".xpw,.xpx","application/vnd.intercon.formnet"),MimeType.set(".qbo","application/vnd.intu.qbo"),MimeType.set(".qfx","application/vnd.intu.qfx"),MimeType.set(".rcprofile","application/vnd.ipunplugged.rcprofile"),MimeType.set(".irp","application/vnd.irepository.package+xml"),MimeType.set(".xpr","application/vnd.is-xpr"),MimeType.set(".jam","application/vnd.jam"),MimeType.set(".rms","application/vnd.jcp.javame.midlet-rms"),MimeType.set(".jisp","application/vnd.jisp"),MimeType.set(".joda","application/vnd.joost.joda-archive"),MimeType.set(".ktz,.ktr","application/vnd.kahootz"),MimeType.set(".karbon","application/vnd.kde.karbon"),MimeType.set(".chrt","application/vnd.kde.kchart"),MimeType.set(".kfo","application/vnd.kde.kformula"),MimeType.set(".flw","application/vnd.kde.kivio"),MimeType.set(".kon","application/vnd.kde.kontour"),MimeType.set(".kpr,.kpt","application/vnd.kde.kpresenter"),MimeType.set(".ksp","application/vnd.kde.kspread"),MimeType.set(".kwd,.kwt","application/vnd.kde.kword"),MimeType.set(".htke","application/vnd.kenameaapp"),MimeType.set(".kia","application/vnd.kidspiration"),MimeType.set(".kne,.knp","application/vnd.kinar"),MimeType.set(".skp,.skd,.skt,.skm","application/vnd.koan"),MimeType.set(".sse","application/vnd.kodak-descriptor"),MimeType.set(".lbd","application/vnd.llamagraphics.life-balance.desktop"),MimeType.set(".lbe","application/vnd.llamagraphics.life-balance.exchange+xml"),MimeType.set(".123","application/vnd.lotus-1-2-3"),MimeType.set(".apr","application/vnd.lotus-approach"),MimeType.set(".pre","application/vnd.lotus-freelance"),MimeType.set(".nsf","application/vnd.lotus-notes"),MimeType.set(".org","application/vnd.lotus-organizer"),MimeType.set(".scm","application/vnd.lotus-screencam"),MimeType.set(".lwp","application/vnd.lotus-wordpro"),MimeType.set(".portpkg","application/vnd.macports.portpkg"),MimeType.set(".mcd","application/vnd.mcd"),MimeType.set(".mc1","application/vnd.medcalcdata"),MimeType.set(".cdkey","application/vnd.mediastation.cdkey"),MimeType.set(".mwf","application/vnd.mfer"),MimeType.set(".mfm","application/vnd.mfmp"),MimeType.set(".flo","application/vnd.micrografx.flo"),MimeType.set(".igx","application/vnd.micrografx.igx"),MimeType.set(".mif","application/vnd.mif"),MimeType.set(".daf","application/vnd.mobius.daf"),MimeType.set(".dis","application/vnd.mobius.dis"),MimeType.set(".mbk","application/vnd.mobius.mbk"),MimeType.set(".mqy","application/vnd.mobius.mqy"),MimeType.set(".msl","application/vnd.mobius.msl"),MimeType.set(".plc","application/vnd.mobius.plc"),MimeType.set(".txf","application/vnd.mobius.txf"),MimeType.set(".mpn","application/vnd.mophun.application"),MimeType.set(".mpc","application/vnd.mophun.certificate"),MimeType.set(".xul","application/vnd.mozilla.xul+xml"),MimeType.set(".cil","application/vnd.ms-artgalry"),MimeType.set(".cab","application/vnd.ms-cab-compressed"),MimeType.set(".xls,.xlm,.xla,.xlc,.xlt,.xlw","application/vnd.ms-excel"),MimeType.set(".xlam","application/vnd.ms-excel.addin.macroenabled.12"),MimeType.set(".xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"),MimeType.set(".xlsm","application/vnd.ms-excel.sheet.macroenabled.12"),MimeType.set(".xltm","application/vnd.ms-excel.template.macroenabled.12"),MimeType.set(".eot","application/vnd.ms-fontobject"),MimeType.set(".chm","application/vnd.ms-htmlhelp"),MimeType.set(".ims","application/vnd.ms-ims"),MimeType.set(".lrm","application/vnd.ms-lrm"),MimeType.set(".cat","application/vnd.ms-pki.seccat"),MimeType.set(".stl","application/vnd.ms-pki.stl"),MimeType.set(".ppt,.pps,.pot","application/vnd.ms-powerpoint"),MimeType.set(".ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"),MimeType.set(".pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"),MimeType.set(".sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"),MimeType.set(".ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"),MimeType.set(".potm","application/vnd.ms-powerpoint.template.macroenabled.12"),MimeType.set(".mpp,.mpt","application/vnd.ms-project"),MimeType.set(".docm","application/vnd.ms-word.document.macroenabled.12"),MimeType.set(".dotm","application/vnd.ms-word.template.macroenabled.12"),MimeType.set(".wps,.wks,.wcm,.wdb","application/vnd.ms-works"),MimeType.set(".wpl","application/vnd.ms-wpl"),MimeType.set(".xps","application/vnd.ms-xpsdocument"),MimeType.set(".mseq","application/vnd.mseq"),MimeType.set(".mus","application/vnd.musician"),MimeType.set(".msty","application/vnd.muvee.style"),MimeType.set(".nlu","application/vnd.neurolanguage.nlu"),MimeType.set(".nnd","application/vnd.noblenet-directory"),MimeType.set(".nns","application/vnd.noblenet-sealer"),MimeType.set(".nnw","application/vnd.noblenet-web"),MimeType.set(".ngdat","application/vnd.nokia.n-gage.data"),MimeType.set(".n-gage","application/vnd.nokia.n-gage.symbian.install"),MimeType.set(".rpst","application/vnd.nokia.radio-preset"),MimeType.set(".rpss","application/vnd.nokia.radio-presets"),MimeType.set(".edm","application/vnd.novadigm.edm"),MimeType.set(".edx","application/vnd.novadigm.edx"),MimeType.set(".ext","application/vnd.novadigm.ext"),MimeType.set(".odc","application/vnd.oasis.opendocument.chart"),MimeType.set(".otc","application/vnd.oasis.opendocument.chart-template"),MimeType.set(".odb","application/vnd.oasis.opendocument.database"),MimeType.set(".odf","application/vnd.oasis.opendocument.formula"),MimeType.set(".odft","application/vnd.oasis.opendocument.formula-template"),
MimeType.set(".odg","application/vnd.oasis.opendocument.graphics"),MimeType.set(".otg","application/vnd.oasis.opendocument.graphics-template"),MimeType.set(".odi","application/vnd.oasis.opendocument.image"),MimeType.set(".oti","application/vnd.oasis.opendocument.image-template"),MimeType.set(".odp","application/vnd.oasis.opendocument.presentation"),MimeType.set(".ods","application/vnd.oasis.opendocument.spreadsheet"),MimeType.set(".ots","application/vnd.oasis.opendocument.spreadsheet-template"),MimeType.set(".odt","application/vnd.oasis.opendocument.text"),MimeType.set(".otm","application/vnd.oasis.opendocument.text-master"),MimeType.set(".ott","application/vnd.oasis.opendocument.text-template"),MimeType.set(".oth","application/vnd.oasis.opendocument.text-web"),MimeType.set(".xo","application/vnd.olpc-sugar"),MimeType.set(".dd2","application/vnd.oma.dd2+xml"),MimeType.set(".oxt","application/vnd.openofficeorg.extension"),MimeType.set(".pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"),MimeType.set(".sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"),MimeType.set(".ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"),MimeType.set(".potx","application/vnd.openxmlformats-officedocument.presentationml.template"),MimeType.set(".xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),MimeType.set(".xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"),MimeType.set(".docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"),MimeType.set(".dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"),MimeType.set(".dp","application/vnd.osgi.dp"),MimeType.set(".pdb,.pqa,.oprc","application/vnd.palm"),MimeType.set(".str","application/vnd.pg.format"),MimeType.set(".ei6","application/vnd.pg.osasli"),MimeType.set(".efif","application/vnd.picsel"),MimeType.set(".plf","application/vnd.pocketlearn"),MimeType.set(".pbd","application/vnd.powerbuilder6"),MimeType.set(".box","application/vnd.previewsystems.box"),MimeType.set(".mgz","application/vnd.proteus.magazine"),MimeType.set(".qps","application/vnd.publishare-delta-tree"),MimeType.set(".ptid","application/vnd.pvi.ptid1"),MimeType.set(".qxd,.qxt,.qwd,.qwt,.qxl,.qxb","application/vnd.quark.quarkxpress"),MimeType.set(".mxl","application/vnd.recordare.musicxml"),MimeType.set(".musicxml","application/vnd.recordare.musicxml+xml"),MimeType.set(".cod","application/vnd.rim.cod"),MimeType.set(".rm","application/vnd.rn-realmedia"),MimeType.set(".link66","application/vnd.route66.link66+xml"),MimeType.set(".see","application/vnd.seemail"),MimeType.set(".sema","application/vnd.sema"),MimeType.set(".semd","application/vnd.semd"),MimeType.set(".semf","application/vnd.semf"),MimeType.set(".ifm","application/vnd.shana.informed.formdata"),MimeType.set(".itp","application/vnd.shana.informed.formtemplate"),MimeType.set(".iif","application/vnd.shana.informed.interchange"),MimeType.set(".ipk","application/vnd.shana.informed.package"),MimeType.set(".twd,.twds","application/vnd.simtech-mindmapper"),MimeType.set(".mmf","application/vnd.smaf"),MimeType.set(".teacher","application/vnd.smart.teacher"),MimeType.set(".sdkm,.sdkd","application/vnd.solent.sdkm+xml"),MimeType.set(".dxp","application/vnd.spotfire.dxp"),MimeType.set(".sfs","application/vnd.spotfire.sfs"),MimeType.set(".sdc","application/vnd.stardivision.calc"),MimeType.set(".sda","application/vnd.stardivision.draw"),MimeType.set(".sdd","application/vnd.stardivision.impress"),MimeType.set(".smf","application/vnd.stardivision.math"),MimeType.set(".sdw","application/vnd.stardivision.writer"),MimeType.set(".vor","application/vnd.stardivision.writer"),MimeType.set(".sgl","application/vnd.stardivision.writer-global"),MimeType.set(".sxc","application/vnd.sun.xml.calc"),MimeType.set(".stc","application/vnd.sun.xml.calc.template"),MimeType.set(".sxd","application/vnd.sun.xml.draw"),MimeType.set(".std","application/vnd.sun.xml.draw.template"),MimeType.set(".sxi","application/vnd.sun.xml.impress"),MimeType.set(".sti","application/vnd.sun.xml.impress.template"),MimeType.set(".sxm","application/vnd.sun.xml.math"),MimeType.set(".sxw","application/vnd.sun.xml.writer"),MimeType.set(".sxg","application/vnd.sun.xml.writer.global"),MimeType.set(".stw","application/vnd.sun.xml.writer.template"),MimeType.set(".sus,.susp","application/vnd.sus-calendar"),MimeType.set(".svd","application/vnd.svd"),MimeType.set(".sis,.sisx","application/vnd.symbian.install"),MimeType.set(".xsm","application/vnd.syncml+xml"),MimeType.set(".bdm","application/vnd.syncml.dm+wbxml"),MimeType.set(".xdm","application/vnd.syncml.dm+xml"),MimeType.set(".tao","application/vnd.tao.intent-module-archive"),MimeType.set(".tmo","application/vnd.tmobile-livetv"),MimeType.set(".tpt","application/vnd.trid.tpt"),MimeType.set(".mxs","application/vnd.triscape.mxs"),MimeType.set(".tra","application/vnd.trueapp"),MimeType.set(".ufd,.ufdl","application/vnd.ufdl"),MimeType.set(".utz","application/vnd.uiq.theme"),MimeType.set(".umj","application/vnd.umajin"),MimeType.set(".unityweb","application/vnd.unity"),MimeType.set(".uoml","application/vnd.uoml+xml"),MimeType.set(".vcx","application/vnd.vcx"),MimeType.set(".vsd,.vst,.vss,.vsw","application/vnd.visio"),MimeType.set(".vis","application/vnd.visionary"),MimeType.set(".vsf","application/vnd.vsf"),MimeType.set(".wbxml","application/vnd.wap.wbxml"),MimeType.set(".wmlc","application/vnd.wap.wmlc"),MimeType.set(".wmlsc","application/vnd.wap.wmlscriptc"),MimeType.set(".wtb","application/vnd.webturbo"),MimeType.set(".wpd","application/vnd.wordperfect"),MimeType.set(".wqd","application/vnd.wqd"),MimeType.set(".stf","application/vnd.wt.stf"),MimeType.set(".xar","application/vnd.xara"),MimeType.set(".xfdl","application/vnd.xfdl"),MimeType.set(".hvd","application/vnd.yamaha.hv-dic"),MimeType.set(".hvs","application/vnd.yamaha.hv-script"),MimeType.set(".hvp","application/vnd.yamaha.hv-voice"),MimeType.set(".osf","application/vnd.yamaha.openscoreformat"),MimeType.set(".osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"),MimeType.set(".saf","application/vnd.yamaha.smaf-audio"),MimeType.set(".spf","application/vnd.yamaha.smaf-phrase"),MimeType.set(".cmp","application/vnd.yellowriver-custom-menu"),MimeType.set(".zir,.zirz","application/vnd.zul"),MimeType.set(".zaz","application/vnd.zzazz.deck+xml"),MimeType.set(".vxml","application/voicexml+xml"),MimeType.set(".hlp","application/winhlp"),MimeType.set(".wsdl","application/wsdl+xml"),MimeType.set(".wspolicy","application/wspolicy+xml"),MimeType.set(".abw","application/x-abiword"),MimeType.set(".ace","application/x-ace-compressed"),MimeType.set(".aab,.x32,.u32,.vox","application/x-authorware-bin"),MimeType.set(".aam","application/x-authorware-map"),MimeType.set(".aas","application/x-authorware-seg"),MimeType.set(".bcpio","application/x-bcpio"),MimeType.set(".torrent","application/x-bittorrent"),MimeType.set(".bz","application/x-bzip"),MimeType.set(".bz2,.boz","application/x-bzip2"),MimeType.set(".vcd","application/x-cdlink"),MimeType.set(".chat","application/x-chat"),MimeType.set(".pgn","application/x-chess-pgn"),MimeType.set(".cpio","application/x-cpio"),MimeType.set(".csh","application/x-csh"),MimeType.set(".deb,.udeb","application/x-debian-package"),MimeType.set(".dir,.dcr,.dxr,.cst,.cct,.cxt,.w3d,.fgd,.swa","application/x-director"),MimeType.set(".wad","application/x-doom"),MimeType.set(".ncx","application/x-dtbncx+xml"),MimeType.set(".dtb","application/x-dtbook+xml"),MimeType.set(".res","application/x-dtbresource+xml"),MimeType.set(".dvi","application/x-dvi"),MimeType.set(".bdf","application/x-font-bdf"),MimeType.set(".gsf","application/x-font-ghostscript"),MimeType.set(".psf","application/x-font-linux-psf"),MimeType.set(".otf","application/x-font-otf"),MimeType.set(".pcf","application/x-font-pcf"),MimeType.set(".snf","application/x-font-snf"),MimeType.set(".ttf,.ttc","application/x-font-ttf"),MimeType.set(".woff","application/font-woff"),MimeType.set(".pfa,.pfb,.pfm,.afm","application/x-font-type1"),MimeType.set(".spl","application/x-futuresplash"),MimeType.set(".gnumeric","application/x-gnumeric"),MimeType.set(".gtar","application/x-gtar"),MimeType.set(".hdf","application/x-hdf"),MimeType.set(".jnlp","application/x-java-jnlp-file"),MimeType.set(".latex","application/x-latex"),MimeType.set(".prc,.mobi","application/x-mobipocket-ebook"),MimeType.set(".application","application/x-ms-application"),MimeType.set(".wmd","application/x-ms-wmd"),MimeType.set(".wmz","application/x-ms-wmz"),MimeType.set(".xbap","application/x-ms-xbap"),MimeType.set(".mdb","application/x-msaccess"),MimeType.set(".obd","application/x-msbinder"),MimeType.set(".crd","application/x-mscardfile"),MimeType.set(".clp","application/x-msclip"),MimeType.set(".exe,.dll,.com,.bat,.msi","application/x-msdownload"),MimeType.set(".mvb,.m13,.m14","application/x-msmediaview"),MimeType.set(".wmf","application/x-msmetafile"),MimeType.set(".mny","application/x-msmoney"),MimeType.set(".pub","application/x-mspublisher"),MimeType.set(".scd","application/x-msschedule"),MimeType.set(".trm","application/x-msterminal"),MimeType.set(".wri","application/x-mswrite"),MimeType.set(".nc,.cdf","application/x-netcdf"),MimeType.set(".p12,.pfx","application/x-pkcs12"),MimeType.set(".p7b,.spc","application/x-pkcs7-certificates"),MimeType.set(".p7r","application/x-pkcs7-certreqresp"),MimeType.set(".rar","application/x-rar-compressed"),MimeType.set(".sh","application/x-sh"),MimeType.set(".shar","application/x-shar"),MimeType.set(".swf","application/x-shockwave-flash"),MimeType.set(".xap","application/x-silverlight-app"),MimeType.set(".sit","application/x-stuffit"),MimeType.set(".sitx","application/x-stuffitx"),MimeType.set(".sv4cpio","application/x-sv4cpio"),MimeType.set(".sv4crc","application/x-sv4crc"),MimeType.set(".tar","application/x-tar"),MimeType.set(".tcl","application/x-tcl"),MimeType.set(".tex","application/x-tex"),MimeType.set(".tfm","application/x-tex-tfm"),MimeType.set(".texinfo,.texi","application/x-texinfo"),MimeType.set(".ustar","application/x-ustar"),MimeType.set(".src","application/x-wais-source"),MimeType.set(".der,.crt","application/x-x509-ca-cert"),MimeType.set(".fig","application/x-xfig"),MimeType.set(".xpi","application/x-xpinstall"),MimeType.set(".xenc","application/xenc+xml"),MimeType.set(".xhtml,.xht","application/xhtml+xml"),MimeType.set(".xml,.xsl","application/xml"),MimeType.set(".dtd","application/xml-dtd"),MimeType.set(".xop","application/xop+xml"),MimeType.set(".xslt","application/xslt+xml"),MimeType.set(".xspf","application/xspf+xml"),MimeType.set(".mxml,.xhvml,.xvml,.xvm","application/xv+xml"),MimeType.set(".zip","application/zip"),MimeType.set(".adp","audio/adpcm"),MimeType.set(".au,.snd","audio/basic"),MimeType.set(".mid,.midi,.kar,.rmi","audio/midi"),MimeType.set(".mp4a","audio/mp4"),MimeType.set(".m4a,.m4p","audio/mp4a-latm"),MimeType.set(".mpga,.mp2,.mp2a,.mp3,.m2a,.m3a","audio/mpeg"),MimeType.set(".oga,.ogg,.spx","audio/ogg"),MimeType.set(".eol","audio/vnd.digital-winds"),MimeType.set(".dts","audio/vnd.dts"),MimeType.set(".dtshd","audio/vnd.dts.hd"),MimeType.set(".lvp","audio/vnd.lucent.voice"),MimeType.set(".pya","audio/vnd.ms-playready.media.pya"),MimeType.set(".ecelp4800","audio/vnd.nuera.ecelp4800"),MimeType.set(".ecelp7470","audio/vnd.nuera.ecelp7470"),MimeType.set(".ecelp9600","audio/vnd.nuera.ecelp9600"),MimeType.set(".aac","audio/x-aac"),MimeType.set(".aif,.aiff,.aifc","audio/x-aiff"),MimeType.set(".m3u","audio/x-mpegurl"),MimeType.set(".wax","audio/x-ms-wax"),MimeType.set(".wma","audio/x-ms-wma"),MimeType.set(".ram,.ra","audio/x-pn-realaudio"),MimeType.set(".rmp","audio/x-pn-realaudio-plugin"),MimeType.set(".wav","audio/x-wav"),MimeType.set(".cdx","chemical/x-cdx"),MimeType.set(".cif","chemical/x-cif"),MimeType.set(".cmdf","chemical/x-cmdf"),MimeType.set(".cml","chemical/x-cml"),MimeType.set(".csml","chemical/x-csml"),MimeType.set(".xyz","chemical/x-xyz"),MimeType.set(".bmp","image/bmp"),MimeType.set(".cgm","image/cgm"),MimeType.set(".g3","image/g3fax"),MimeType.set(".gif","image/gif"),MimeType.set(".ief","image/ief"),MimeType.set(".jp2","image/jp2"),MimeType.set(".jpeg,.jpg,.jpe","image/jpeg"),MimeType.set(".pict,.pic,.pct","image/pict"),MimeType.set(".png","image/png"),MimeType.set(".btif","image/prs.btif"),MimeType.set(".svg,.svgz","image/svg+xml"),MimeType.set(".tiff,.tif","image/tiff"),MimeType.set(".psd","image/vnd.adobe.photoshop"),MimeType.set(".djvu,.djv","image/vnd.djvu"),MimeType.set(".dwg","image/vnd.dwg"),MimeType.set(".dxf","image/vnd.dxf"),MimeType.set(".fbs","image/vnd.fastbidsheet"),MimeType.set(".fpx","image/vnd.fpx"),MimeType.set(".fst","image/vnd.fst"),MimeType.set(".mmr","image/vnd.fujixerox.edmics-mmr"),MimeType.set(".rlc","image/vnd.fujixerox.edmics-rlc"),MimeType.set(".mdi","image/vnd.ms-modi"),MimeType.set(".npx","image/vnd.net-fpx"),MimeType.set(".wbmp","image/vnd.wap.wbmp"),MimeType.set(".xif","image/vnd.xiff"),MimeType.set(".ras","image/x-cmu-raster"),MimeType.set(".cmx","image/x-cmx"),MimeType.set(".fh,.fhc,.fh4,.fh5,.fh7","image/x-freehand"),MimeType.set(".ico","image/x-icon"),MimeType.set(".pntg,.pnt,.mac","image/x-macpaint"),MimeType.set(".pcx","image/x-pcx"),MimeType.set(".pnm","image/x-portable-anymap"),MimeType.set(".pbm","image/x-portable-bitmap"),MimeType.set(".pgm","image/x-portable-graymap"),MimeType.set(".ppm","image/x-portable-pixmap"),MimeType.set(".qtif,.qti","image/x-quicktime"),MimeType.set(".rgb","image/x-rgb"),MimeType.set(".xbm","image/x-xbitmap"),MimeType.set(".xpm","image/x-xpixmap"),MimeType.set(".xwd","image/x-xwindowdump"),MimeType.set(".eml,.mime","message/rfc822"),MimeType.set(".igs,.iges","model/iges"),MimeType.set(".msh,.mesh,.silo","model/mesh"),MimeType.set(".dwf","model/vnd.dwf"),MimeType.set(".gdl","model/vnd.gdl"),MimeType.set(".gtw","model/vnd.gtw"),MimeType.set(".mts","model/vnd.mts"),MimeType.set(".vtu","model/vnd.vtu"),MimeType.set(".wrl,.vrml","model/vrml"),MimeType.set(".ics,.ifb","text/calendar"),MimeType.set(".css","text/css"),MimeType.set(".csv","text/csv"),MimeType.set(".html,.htm","text/html"),MimeType.set(".txt,.text,.conf,.def,.list,.log,.in","text/plain"),MimeType.set(".dsc","text/prs.lines.tag"),MimeType.set(".rtx","text/richtext"),MimeType.set(".sgml,.sgm","text/sgml"),MimeType.set(".tsv","text/tab-separated-values"),MimeType.set(".t,.tr,.roff,.man,.me,.ms","text/troff"),MimeType.set(".uri,.uris,.urls","text/uri-list"),MimeType.set(".curl","text/vnd.curl"),MimeType.set(".dcurl","text/vnd.curl.dcurl"),MimeType.set(".scurl","text/vnd.curl.scurl"),MimeType.set(".mcurl","text/vnd.curl.mcurl"),MimeType.set(".fly","text/vnd.fly"),MimeType.set(".flx","text/vnd.fmi.flexstor"),MimeType.set(".gv","text/vnd.graphviz"),MimeType.set(".3dml","text/vnd.in3d.3dml"),MimeType.set(".spot","text/vnd.in3d.spot"),MimeType.set(".jad","text/vnd.sun.j2me.app-descriptor"),MimeType.set(".wml","text/vnd.wap.wml"),MimeType.set(".wmls","text/vnd.wap.wmlscript"),MimeType.set(".s,.asm","text/x-asm"),MimeType.set(".c,.cc,.cxx,.cpp,.h,.hh,.dic","text/x-c"),MimeType.set(".f,.for,.f77,.f90","text/x-fortran"),MimeType.set(".p,.pas","text/x-pascal"),MimeType.set(".java","text/x-java-source"),MimeType.set(".etx","text/x-setext"),MimeType.set(".uu","text/x-uuencode"),MimeType.set(".vcs","text/x-vcalendar"),MimeType.set(".vcf","text/x-vcard"),MimeType.set(".3gp","video/3gpp"),MimeType.set(".3g2","video/3gpp2"),MimeType.set(".h261","video/h261"),MimeType.set(".h263","video/h263"),MimeType.set(".h264","video/h264"),MimeType.set(".jpgv","video/jpeg"),MimeType.set(".jpm,.jpgm","video/jpm"),MimeType.set(".mj2,.mjp2","video/mj2"),MimeType.set(".mp4,.mp4v,.mpg4,.m4v","video/mp4"),MimeType.set(".webm","video/webm"),MimeType.set(".mpeg,.mpg,.mpe,.m1v,.m2v","video/mpeg"),MimeType.set(".ogv","video/ogg"),MimeType.set(".qt,.mov","video/quicktime"),MimeType.set(".fvt","video/vnd.fvt"),MimeType.set(".mxu,.m4u","video/vnd.mpegurl"),MimeType.set(".pyv","video/vnd.ms-playready.media.pyv"),MimeType.set(".viv","video/vnd.vivo"),MimeType.set(".dv,.dif","video/x-dv"),MimeType.set(".f4v","video/x-f4v"),MimeType.set(".fli","video/x-fli"),MimeType.set(".flv","video/x-flv"),MimeType.set(".asf,.asx","video/x-ms-asf"),MimeType.set(".wm","video/x-ms-wm"),MimeType.set(".wmv","video/x-ms-wmv"),MimeType.set(".wmx","video/x-ms-wmx"),MimeType.set(".wvx","video/x-ms-wvx"),MimeType.set(".avi","video/x-msvideo"),MimeType.set(".movie","video/x-sgi-movie"),MimeType.set(".ice","x-conference/x-cooltalk"),MimeType.set(".epub","application/epub+zip"),MimeType.set(".mobi","application/x-mobipocket-ebook"),MimeType.set("README,LICENSE,COPYING,TODO,ABOUT,AUTHORS,CONTRIBUTORS","text/plain"),MimeType.set("manifest,.manifest,.mf,.appcache","text/cache-manifest"),a.MimeType=MimeType}(this),$.nette.ext("scroll",{success:function(a,b,c,d){if(a._scroll_id){console.log(a._scroll_id);var e=$(".dd-item[data-id="+a._scroll_id+"]");1==e.length&&$("html, body").animate({scrollTop:$(e).offset().top-50},800)}}}),$.nette.ext("template",{success:function(a,b,c,d){if(d.nette&&d.nette.el.is('input[name="sendTemplate"]')){var e='<option selected="" value="'+a.lastTemplateId+'">'+a.lastTemplateName+"</option>",f=$(".dd-item.open-detail .item-detail-content form");$(f.is(":visible"))&&($(f.find('select[name="template"] option:selected')).removeAttr("selected"),$(f.find('select[name="template"]')).append(e),$("body").trigger("addNewTemplate",{tid:a.lastTemplateId,cid:$(f).data("id")})),f=$("form#frm-campaignForm"),$(f.is(":visible"))&&($(f.find('select[name="template"] option:selected')).removeAttr("selected"),$(f.find('select[name="template"]')).append(e)),$(".box-newTemplate__inner").is(":visible")&&$(".js-newTemplate").slideToggle("fast")}}}),$.nette.ext("campaignForm",{before:function(a,b){if(b.nette&&b.nette.isSubmit&&"campaignDetailForm"===b.nette.form.data("name")){var c=$(b.nette.el.closest("form").find(".progress-group"));$(c).addClass("in")}},success:function(a,b,c,d){if(d.nette&&d.nette.isSubmit&&"campaignDetailForm"===d.nette.form.data("name")){var e=$(d.nette.el.closest("form").find(".progress-group"));$(e).removeClass("in"),a._success&&!0===a._success&&($(".dd-item.open-detail").removeClass("open-detail"),$("#wrapper").removeClass("modal-detail-open"))}}}),$.nette.ext("deviceGroup",{success:function(a,b,c,d){if(d.nette&&d.nette.isSubmit&&"deviceGroupForm"==d.nette.form.data("name")){var e='<option value="'+a.lastDeviceGroupId+'">'+a.lastDeviceGroupName+"</option>",f='<option selected="" value="'+a.lastDeviceGroupId+'">'+a.lastDeviceGroupName+"</option>",g=$(".dd-item.open-detail form");$(g.find('select[name="deviceGroup"] option:selected')).removeAttr("selected"),$(g.find('select[name="deviceGroup"]')).append(f),g=$("form#frm-deviceForm"),$(g.find('select[name="deviceGroup"] option:selected')).removeAttr("selected"),$(g.find('select[name="deviceGroup"]')).append(e),$(d.nette.el.closest(".modal")).modal("hide")}}}),$.nette.ext("newUser",{success:function(a,b,c,d){d.nette&&d.nette.isSubmit&&"userForm"==d.nette.form.data("name")&&$(".modal.in").modal("hide")}}),$.nette.ext("deviceForm",{success:function(a,b,c,d){d.nette&&d.nette.isSubmit&&"deviceForm"==d.nette.form.data("name")&&(console.log("deviceDetailForm success"),a._success&&!0===a._success&&$(".modal.addDeviceModal").modal("hide"))}}),$.nette.ext("deviceGroupDetailForm",{success:function(a,b,c,d){d.nette&&d.nette.isSubmit&&"deviceGroupsDetailForm"==d.nette.form.data("name")&&a._success&&1==a._success&&($(".dd-item.open-detail").removeClass("open-detail"),$("#wrapper").removeClass("modal-detail-open"))}}),$.nette.ext("switchery",{init:function(){$(".js-switch").each(function(){new Switchery($(this)[0],$(this).data())})},complete:function(a,b,c){if(c.nette&&c.nette.el.is("[data-dismiss='filter']")||1==a._switchery_redraw){Array.prototype.slice.call(document.querySelectorAll(".js-switch"));$(".js-switch").each(function(){new Switchery($(this)[0],$(this).data())})}}}),$.nette.ext("happy",{success:function(){window.happy&&window.happy.reset()}}),$.nette.ext("dsds",{init:function(){var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.ext("snippets").before(function(b){var c=$(b).data("animate-before");c&&(b.addClass("animated "+c).one(a,function(){$(this).removeClass("animated "+c)}),setTimeout(function(){},50))}),this.ext("snippets").after(function(b){var c=$(b).data("animate-before"),d=$(b).data("animate-after");d&&b.removeClass("animated "+c).addClass("animated "+d).one(a,function(){$(this).removeClass("animated "+d)})})}}),$.nette.ext("modalForm",{success:function(a,b,c,d){d.nette&&d.nette.el.is("[data-dismiss='modal']")&&(void 0!==a.success&&null!==a.success?a.success&&$(".modal.in").modal("hide"):$(".modal.in").modal("hide"))}}),$.nette.ext("unCollapse",{success:function(a,b,c,d){d.nette&&a._un_collapse&&$(a._un_collapse).is(".collapse.in")&&$(a._un_collapse).collapse("hide")}}),$.nette.ext("calendar",{load:function(){$(this.selector).length>0&&(this.calendarIsLoaded()||this.initCalendar())},success:function(a,b,c,d){$(this.selector).length>0&&this.calendarIsLoaded()&&d.nette&&d.nette.isSubmit&&(a.calendar_refresh&&!0===a.calendar_refresh&&this.calendar.refetchEvents(),a.modal_hide&&$(a.modal_hide).modal("hide"))}},{selector:"#calendar",calendar:null,eventsLink:null,newEventLink:null,moveEventLink:null,resizeEventLink:null,paramIdName:null,paramTimeName:null,calendarIsLoaded:function(){return $(this.selector).children().length>0},initCalendar:function(){FullCalendar.Calendar;new(0,FullCalendarInteraction.Draggable)(document.getElementById("calendar-events"),{itemSelector:".fc-event",eventData:function(a){return{title:a.innerText.trim()}}});var a=$("#calendar").get(0),b=this;this.calendar=new FullCalendar.Calendar(a,{plugins:["interaction","dayGrid","timeGrid","list"],timeZone:"local",height:"parent",handleWindowResize:!1,header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},dateClick:function(a){$("#frm-calendarControl-newEvent").find('[name="datetime"]').val(a.dateStr),$("#newEventModal").modal({show:"true"})},eventClick:function(a){var b=$("#frm-calendarControl-editEvent");$(b).find('[name="id"]').val(a.event.id),$(b).find('[name="name"]').val(a.event.title),$(b).find('[name="from"]').val(a.event.start.toDateString()+" "+a.event.start.toLocaleTimeString()),$(b).find('[name="to"]').val(a.event.end.toDateString()+" "+a.event.end.toLocaleTimeString()),$(b).find('[name="devices"]').val(a.event.extendedProps.devices),$(b).find('[name="deviceGroups"]').val(a.event.extendedProps.deviceGroups),$("#editEventModal").modal({show:"true"})},eventDrop:function(a){var c={};c[b.paramIdName]=a.event.id,c[b.paramTimeName]=a.event.start.toISOString(),console.log(a.event),console.log(a.event.start.toISOString()),$.nette.ajax({type:"POST",url:b.moveEventLink,data:c,success:function(a){a.snippets},fail:function(a){console.log(a)}})},eventReceive:function(a){a.event.remove()},drop:function(a){var c={};c[b.paramIdName]=$(a.draggedEl).data("id"),c[b.paramTimeName]=a.dateStr,console.log(c),$.nette.ajax({type:"POST",url:b.newEventLink,data:c,success:function(a){a.calendar_refresh&&!0===a.calendar_refresh&&b.calendar.refetchEvents(),a.snippets},fail:function(a){console.log(a)}})},eventResize:function(a){var c={};c[b.paramIdName]=a.event.id,c[b.paramTimeName]=a.event.end.toISOString(),$.nette.ajax({type:"POST",url:b.resizeEventLink,data:c,success:function(a){a.calendar_refresh&&!0===a.calendar_refresh&&b.calendar.refetchEvents(),a.snippets},fail:function(b){a.revert(),console.log(b)}})},defaultView:"dayGridMonth",defaultDate:"2019-08-12",minTime:"07:00",maxTime:"22:00",slotDuration:"01:00",locale:"cs",navLinks:!0,editable:!0,eventDurationEditable:!0,droppable:!0,allDaySlot:!1,eventLimit:!0,events:{url:this.eventsLink,failure:function(){}},loading:function(a){}}),this.calendar.render()}}),$.nette.ext("bs-modal",{init:function(){var a=this;this.ext("snippets",!0).after($.proxy(function(b){b.is(".modal")&&a.open(b)},this)),$('.modal[id^="snippet-"]').each(function(){a.open($(this))})},success:function(a,b,c,d){d.nette&&a.closeModal&&$(".modal.in").modal("hide")}},{open:function(a){a.find(".modal-content").length&&a.modal({})}}),$.nette.ext("bs-slider",{load:function(){this.initModalSlider(".modal")}},{initModalSlider:function(a){$(a).on("shown.bs.modal",function(){customInputSet=function(a){var b=$(a).val().split(","),c=$(a).data("custom-input-min"),d=$(a).data("custom-input-max");c&&$('input[name="'+c+'"]').val(b[0]),d&&$('input[name="'+d+'"]').val(b[1])},$("[data-provide='slider-range']").on("slide",function(a){customInputSet(this)}).slider({}).each(function(){customInputSet(this)})})}}),$.nette.ext("bs-popover",{load:function(){this.initModalSlider('[data-toggle="popover"]')}},{initModalSlider:function(a){$(a).tooltip()}}),$.nette.ext("select2",{load:function(){this.initSelect2(".grido:not(.no-select2) select:not(.no-select2)")}},{initSelect2:function(a){$(a).select2()}}),$.nette.ext("smoothScroll",{success:function(a,b,c,d){d.nette&&a.scrollTo&&$.smoothScroll({scrollTarget:a.scrollTo})}}),$.nette.ext("fancyTree",{load:function(a,b,c,d){$(".tree").fancytree({checkbox:!0,selectMode:2,select:function(a,b){var c=(b.node.data.id,b.node.data.target);c&&$(c).prop("checked",b.node.isSelected())}}),$(".tree").each(function(){var a=$(this).data("checkbox-list"),b=$(this).fancytree("getTree");b.getNodeByKey("_2");nodes=b.findAll("");var c=[];$.each($(a+":checked"),function(){c.push(parseInt($(this).val()))}),$.each(nodes,function(a,b){$.inArray(b.data.id,c)>-1&&b.setSelected(!0)})})}},{selector:".tree"}),$.nette.ext("daterange-time-picker",{init:function(){"undefined"!=typeof Nette&&(Nette.validators.CmsModuleFormsControlsBootstrapRangeDatePicker_validateDateRange=function(a,b,c){var d,e,f,g,h,i,j=c.split("-"),k=!1;return 2==j.length&&2==b.length&&(d=j[0].replace(/ /gi,""),e=j[1].replace(/ /gi,""),f=moment(b[0].date),g=moment(b[1].date),h=moment(d,"D.M.YYYY"),i=moment(e,"D.M.YYYY"),k=h.isBetween(f,g,"days","[]")&&i.isBetween(f,g,"days","[]")),k},Nette.validators.CmsModuleFormsControlsBootstrapRangeDatePicker_validateDateTimeRange=function(a,b,c){var d,e,f,g,h,i,j=c.split("-"),k=!1;return 2==j.length&&2==b.length&&(d=j[0].replace(/ /gi,""),e=j[1].replace(/ /gi,""),f=moment(b[0].date),g=moment(b[1].date),h=moment(d,"D.M.YYYY HH:mm"),i=moment(e,"D.M.YYYY HH:mm"),k=h.isBetween(f,g,"days","[]")&&i.isBetween(f,g,"days","[]")),k},Nette.validators.CmsModuleFormsControlsBootstrapDatePicker_validateDateRange=function(a,b,c){var d,e,f,g;return d=c,e=moment(b[0].date),f=moment(b[1].date),g=moment(d,"D.M.YYYY"),g.isBetween(e,f,null,"[]")})},load:function(){var a={selectorDate:".input-date-timepicker",selectorDateRange:".input-daterange-timepicker",dateTimeOptions:{locale:{format:"D. M. YYYY",separator:" - ",applyLabel:"Použít",cancelLabel:"Zrušit",fromLabel:"Od",toLabel:"Do",customRangeLabel:"Vyberte",daysOfWeek:["Ne","Po","Út","St","Čt","Pá","So"],monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],firstDay:1},singleDatePicker:!0,autoApply:!0,autoUpdateInput:!0,showDropdowns:!0,linkedCalendars:!1},rangeOptions:{locale:{format:"D. M. YYYY",separator:" - ",applyLabel:"Použít",cancelLabel:"Zrušit",fromLabel:"Od",toLabel:"Do",customRangeLabel:"Vyberte",daysOfWeek:["Ne","Po","Út","St","Čt","Pá","So"],monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],firstDay:1},autoApply:!0,autoUpdateInput:!0,showDropdowns:!0,linkedCalendars:!1}};$(a.selectorDate).each(function(b){var c=this,d=a.dateTimeOptions,e={startDate:"data-date-start",endDate:"data-date-end",minDate:"data-date-min",maxDate:"data-date-max",timePicker:"data-time-picker",timePicker24Hour:"data-time-picker-24",timePickerIncrement:"data-time-picker-increment"};$.each(e,function(a,b){if($(c).attr(b)){var e=$(c).attr(b);$.isNumeric(e)?d[a]=parseInt(e,10):d[a]="true"==$(c).attr(b)||$(c).attr(b)}}),"timePicker"in d&&(d.locale.format="D. M. YYYY H:mm"),$(this).daterangepicker(d)}),$(a.selectorDateRange).each(function(b){var c=this,d=a.rangeOptions,e={startDate:"data-date-start",endDate:"data-date-end",minDate:"data-date-min",maxDate:"data-date-max",timePicker:"data-time-picker",timePicker24Hour:"data-time-picker-24",timePickerIncrement:"data-time-picker-increment"};$.each(e,function(a,b){if($(c).attr(b)){var e=$(c).attr(b);$.isNumeric(e)?d[a]=parseInt(e,10):d[a]="true"==$(c).attr(b)||$(c).attr(b)}}),"timePicker"in d&&(d.locale.format="D. M. YYYY H:mm"),$(this).daterangepicker(d)})}}),Nette.toggle=function(a,b){var c=$("#"+a);b?c.slideDown():c.slideUp()},Nette.validators.mimeType=function(a,b,c){if(c.length>0){var d=MimeType.lookup(c[0].name);return $.inArray(d,b)>-1}return!1},$(function(){$(document).on("click","input.tagColor:checked",function(a){var b=$(this).closest(".box-list__settings__one__colors"),c=$(b).data("last-value"),d=$(this).val();c==d?($(this).prop("checked",!1),$(b).data("last-value",0)):$(b).data("last-value",d)}).on("change","form.auto-save input:not(.not-auto-save), form.auto-save select:not(.not-auto-save)",function(a){var b=$(this).closest("form").get(0);Nette.validateForm(b)&&$(b).submit()}).on("DOMSubtreeModified","#frm-mediaForm-files_message",function(){$("#mediaErrorMessage").text($(this).text())}).on("click","[data-click]",function(a){a.preventDefault(),$($(this).data("click")).click()}).on("click","[data-toggle='ajax-modal']",function(a){a.preventDefault();var b,c=$(this).data("target");c?0==$(c).length?console.warn("modal target `"+c+"` not found"):b=$(c):console.warn("`data-target` not found");var d=$(this).data("backdrop"),e=$(this).data("title");if(e){$(this).find(".modal-title")&&b&&b.find(".modal-title").text(e)}$.nette.ajax({type:"POST",url:this.href,success:function(a){a.snippets&&($.nette.ext("snippets").updateSnippets(a.snippets),d?b.modal({show:!0}):b.modal("show"))},fail:function(a){console.log(a)}})}).on("change","_form#frm-deviceGroupListGridControl-filter input.happy",function(a){var b=$(this).closest("[data-ajax-select]");if(b.length>0){var c=$(b).data("ajax-select"),d=$(b).data("device-id"),e=$(this).closest(".datagrid-tree-item"),f=$(e).data("id"),g=$(this).is(":checked");console.log(e),console.log(d),$.nette.ajax({off:["datagrid.happy"],data:{did:d,gid:f,checked:g},url:c,success:function(a){a.snippets},fail:function(a){console.log(a)}}),console.log(f),console.log(g)}}),$(document).on("click",".col-dtg-edit:not(.edit)",function(a){var b=this,c="",d=$(this).closest("table").data("target-groups"),e=$(this).data("select");$.each(d,function(a,b){c+="<option value='"+a+"'"+(a in e?" selected='selected' ":"")+">"+b+"</option>"}),input=$('<select class="select2" style="width: 100%;" multiple="multiple">'+c+"</select>"),$(b).html(input),$(input).select2().select2("open"),$(b).addClass("edit"),$(input).on("change",function(a){var b=$(this).closest(".col-dtg-edit"),c=$(b).closest("table").data("url"),d=$(b).data("time"),e=$(b).data("day"),f=$(b).closest("table").data("param-day"),g=$(b).closest("table").data("param-time"),h=$(b).closest("table").data("param-values"),i={};i[f]=e,i[g]=d,i[h]=JSON.stringify($(this).val()),$.nette.ajax({type:"POST",url:c,data:i,success:function(a){a.snippets&&$.nette.ext("snippets").updateSnippets(a.snippets)},fail:function(a){console.log(a)}})}).on("change.select2",function(a){}).on("select2:unselect",function(a){})})});